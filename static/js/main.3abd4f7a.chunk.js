(this["webpackJsonppk-web"]=this["webpackJsonppk-web"]||[]).push([[0],{313:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c(23),r=c.n(s),i=c(323),l=c(26),j=Object(l.a)(),o=(c(80),c(4)),b=c(327),d=c(324),u=c(329),h=c(320),O=c(330),x=c(328),m=c(72),f=c(325),g=c(71),p=c(319),y=c(15),v=c(60),N=c(36),C=c.n(N),S=c(68),k=(c(87),c(88),c(89),c(12)),w=c(8),I=c(318),L=c(34),A=c.n(L),D=c(20),T=c.n(D),M=(c(90),c(18)),_=c(24),E=c.n(_),z="https://api.pluralkit.me/v1/",V="data:image/png;base64,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";function P(e){var t=Object(y.a)(),s=t.register,r=t.handleSubmit,i=Object(y.a)(),l=i.register,b=i.handleSubmit,d=Object(n.useState)(JSON.parse(localStorage.getItem("user"))),u=Object(o.a)(d,2),h=u[0],v=u[1],N=Object(n.useState)(""),C=Object(o.a)(N,2),S=C[0],L=C[1],D=Object(n.useState)(""),_=Object(o.a)(D,2),P=_[0],R=_[1],q=Object(n.useState)(""),F=Object(o.a)(q,2),J=F[0],H=F[1],K=Object(n.useState)(""),G=Object(o.a)(K,2),B=G[0],U=G[1],Y=Object(n.useState)(""),Q=Object(o.a)(Y,2),Z=Q[0],W=Q[1],X=Object(n.useState)(""),$=Object(o.a)(X,2),ee=$[0],te=$[1],ce=Object(n.useState)(!1),ae=Object(o.a)(ce,2),ne=ae[0],se=ae[1],re=Object(n.useState)(!1),ie=Object(o.a)(re,2),le=ie[0],je=ie[1],oe=Object(n.useState)(!1),be=Object(o.a)(oe,2),de=be[0],ue=be[1],he=Object(n.useState)(!1),Oe=Object(o.a)(he,2),xe=Oe[0],me=Oe[1],fe=Object(n.useState)(!1),ge=Object(o.a)(fe,2),pe=ge[0],ye=ge[1];Object(n.useEffect)((function(){var e=c(43).toHTML;if(h.name?L(h.name):L(""),h.tag?R(h.tag):R(""),h.tz?H(h.tz):H(""),h.avatar_url){var t=h.avatar_url.replace("&format=jpeg","");U(t.replace("?width=256&height=256",""))}else U("");h.description?(W(e(h.description)),te(h.description)):(W("(no description)"),te(""))}),[h.description,h.tag,h.avatar_url,h.tz,h.name]),Object(n.useEffect)((function(){A()(document.querySelector("textarea"))}));return Object(a.jsxs)(O.a,{className:"mb-3 mt-3 w-100",children:[Object(a.jsxs)(O.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(O.a.Title,{className:"float-left",children:[Object(a.jsx)(k.a,{className:"mr-4 float-left"})," ",S," (",h.id,")"]}),h.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(h.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)(I.a,{src:"".concat(B),style:{"max-width":640,height:"auto"},thumbnail:!0})})}}):Object(a.jsx)(I.a,{src:V,style:{width:50,height:50},className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(O.a.Body,{children:[pe?Object(a.jsx)(x.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",ne?Object(a.jsxs)(f.a,{onSubmit:r((function(e){!e.tz||T.a.tz.zone(e.tz)?fetch("".concat(z,"s"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(){v((function(t){return Object(w.a)(Object(w.a)({},t),e)})),localStorage.setItem("user",JSON.stringify(h)),se(!1)})).catch((function(e){console.error(e),ye(!0)})):me(!0)})),children:[Object(a.jsxs)(f.a.Text,{className:"mb-4",children:[Object(a.jsx)("b",{children:"Note:"})," if you refresh the page, the old data might show up again, this is due to the bot caching data.",Object(a.jsx)("br",{}),"Try editing a member to clear the cache, or wait a few minutes before refreshing."]}),Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Name:"}),Object(a.jsx)(f.a.Control,{name:"name",ref:s,defaultValue:S})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Tag:"}),Object(a.jsx)(f.a.Control,{name:"tag",ref:s,defaultValue:P})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Timezone:"}),Object(a.jsx)(f.a.Control,{name:"tz",ref:s,defaultValue:J}),xe?Object(a.jsxs)(f.a.Text,{children:["Please enter a valid ",Object(a.jsx)("a",{href:"https://xske.github.io/tz/",rel:"noreferrer",target:"_blank",children:"timezone"})]}):""]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Avatar url:"}),Object(a.jsx)(f.a.Control,{name:"avatar_url",ref:s,defaultValue:B})]})]}),Object(a.jsxs)(f.a.Group,{className:"mt-3",children:[Object(a.jsx)(f.a.Label,{children:"Description:"}),Object(a.jsx)(f.a.Control,{maxLength:"1000",as:"textarea",name:"description",ref:s,defaultValue:ee})]}),Object(a.jsx)(m.a,{variant:"light",onClick:function(){return se(!1)},children:"Cancel"}),"  ",Object(a.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",h.id]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Tag:"})," ",P]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Timezone:"})," ",J]}),de?"":Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Privacy:"})," ",Object(a.jsx)(m.a,{variant:"light",size:"sm",onClick:function(){return ue(!0)},children:"View"})]})]}),le?Object(a.jsxs)(f.a,{onSubmit:b((function(e){fetch("".concat(z,"s"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){v((function(t){return Object(w.a)(Object(w.a)({},t),e)})),localStorage.setItem("user",JSON.stringify(h)),je(!1)})).catch((function(e){console.error(e),ye(!0)}))})),children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing privacy settings"}),Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Description:"}),Object(a.jsxs)(f.a.Control,{name:"description_privacy",defaultValue:h.description_privacy,as:"select",ref:l,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Member list:"}),Object(a.jsxs)(f.a.Control,{name:"member_list_privacy",defaultValue:h.member_list_privacy,as:"select",ref:l,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Front:"}),Object(a.jsxs)(f.a.Control,{name:"front_privacy",as:"select",defaultValue:h.front_privacy,ref:l,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Front history:"}),Object(a.jsxs)(f.a.Control,{name:"front_history_privacy",defaultValue:h.front_history_privacy,as:"select",ref:l,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]})]}),Object(a.jsx)(m.a,{variant:"light",onClick:function(){return je(!1)},children:"Cancel"})," ",Object(a.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)("hr",{})]}):de?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing privacy settings"}),Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Description:"})," ",h.description_privacy]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Member list: "}),h.member_list_privacy]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Front:"})," ",h.front_privacy]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Front history:"})," ",h.front_history_privacy]})]}),Object(a.jsx)(m.a,{variant:"light",onClick:function(){return ue(!1)},children:"Exit"}),"  ",Object(a.jsx)(m.a,{variant:"primary",onClick:function(){return je(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(E.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:Z}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:Z}}),le||de?"":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.a,{variant:"light",onClick:function(){return se(!0)},children:"Edit"}),Object(a.jsx)(m.a,{variant:"primary",className:"float-right",onClick:function(){return j.push("/pk-webs/profile/".concat(h.id))},children:"Profile"})]})]})]})]})}var R=c(11),q=c(321),F=c(331),J=c(326),H=(c(45),c(51)),K=c.n(H);function G(e){var t=Object(n.useState)(e.member),s=Object(o.a)(t,2),r=s[0],i=s[1],l=Object(n.useState)(""),j=Object(o.a)(l,2),b=j[0],d=j[1],u=Object(n.useState)(""),v=Object(o.a)(u,2),N=v[0],C=v[1],S=Object(n.useState)(""),L=Object(o.a)(S,2),D=L[0],_=L[1],P=Object(n.useState)(""),F=Object(o.a)(P,2),H=F[0],G=F[1],B=Object(n.useState)(""),U=Object(o.a)(B,2),Y=U[0],Q=U[1],Z=Object(n.useState)(""),W=Object(o.a)(Z,2),X=W[0],$=W[1],ee=Object(n.useState)(""),te=Object(o.a)(ee,2),ce=te[0],ae=te[1],ne=Object(n.useState)(""),se=Object(o.a)(ne,2),re=se[0],ie=se[1],le=Object(n.useState)(""),je=Object(o.a)(le,2),oe=je[0],be=je[1],de=Object(n.useState)(r.proxy_tags),ue=Object(o.a)(de,2),he=ue[0],Oe=ue[1],xe=Object(n.useState)(!1),me=Object(o.a)(xe,2),fe=me[0],ge=me[1],pe=Object(n.useState)(!1),ye=Object(o.a)(pe,2),ve=ye[0],Ne=ye[1],Ce=Object(n.useState)(!1),Se=Object(o.a)(Ce,2),ke=Se[0],we=Se[1],Ie=Object(n.useState)(!1),Le=Object(o.a)(Ie,2),Ae=Le[0],De=Le[1],Te=Object(n.useState)(!1),Me=Object(o.a)(Te,2),_e=Me[0],Ee=Me[1],ze=Object(n.useState)(!1),Ve=Object(o.a)(ze,2),Pe=Ve[0],Re=Ve[1],qe=Object(n.useState)(!1),Fe=Object(o.a)(qe,2),Je=Fe[0],He=Fe[1],Ke=Object(n.useState)(!1),Ge=Object(o.a)(Ke,2),Be=Ge[0],Ue=Ge[1],Ye=Object(n.useState)(!1),Qe=Object(o.a)(Ye,2),Ze=Qe[0],We=Qe[1],Xe=Object(y.a)(),$e=Xe.register,et=Xe.handleSubmit,tt=Object(y.a)(),ct=tt.register,at=tt.handleSubmit,nt=Object(y.a)(),st=nt.register,rt=nt.handleSubmit,it=Object(y.a)(),lt=it.register,jt=it.handleSubmit;Object(n.useEffect)((function(){A()(document.querySelector("textarea"))})),Object(n.useEffect)((function(){var e=c(43).toHTML;if(r.display_name?d(r.display_name):d(""),r.birthday)if(_(r.birthday),r.birthday.startsWith("0004-")){var t=r.birthday.replace("0004-",""),a=T()(t,"MM-DD").format("MMM D");C(a)}else{var n=T()(r.birthday,"YYYY-MM-DD").format("MMM D, YYYY");C(n)}else C(""),_("");if(r.pronouns?(G(e(r.pronouns)),Q(r.pronouns)):(G(""),Q("")),r.avatar_url){var s=r.avatar_url.replace("&format=jpeg","");$(s.replace("?width=256&height=256",""))}else $("");r.color?ae(r.color):ae(""),r.description?(ie(e(r.description)),be(r.description)):(ie("(no description)"),be(""))}),[r.description,r.color,r.birthday,r.display_name,r.pronouns,r.avatar_url,r.proxy_tags]);return Ze?Object(a.jsx)(O.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(m.a,{variant:"link",className:"float-left",children:[Object(a.jsx)(k.h,{className:"mr-4"}),"Member Deleted"]})}):Object(a.jsxs)(K.a,{offset:100,children:[Object(a.jsxs)(O.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(J.a.Toggle,{as:m.a,variant:"link",eventKey:r.id,className:"float-left",children:[Object(a.jsx)(k.i,{className:"mr-4 float-left"})," ",Object(a.jsx)("b",{children:r.name})," (",r.id,")"]}),r.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(r.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)(I.a,{src:"".concat(X),style:{"max-width":640,height:"auto"},thumbnail:!0})})}}):Object(a.jsx)(I.a,{src:V,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),Object(a.jsx)(J.a.Collapse,{eventKey:r.id,children:Object(a.jsxs)(O.a.Body,{style:{borderLeft:"5px solid #".concat(ce)},children:[Je?Object(a.jsx)(x.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",fe?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(f.a,{id:"Edit",onSubmit:et((function(e){fetch("".concat(z,"m/").concat(r.id),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){i((function(t){return Object(w.a)(Object(w.a)({},t),e)})),He(!1),ge(!1)})).catch((function(e){console.error(e),He(!0)}))})),children:[Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Name:"}),Object(a.jsx)(f.a.Control,{name:"name",ref:$e,defaultValue:r.name})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Display name: "}),Object(a.jsx)(f.a.Control,{name:"display_name",ref:$e,defaultValue:b})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Birthday:"}),Object(a.jsx)(f.a.Control,{pattern:"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$",name:"birthday",ref:$e,defaultValue:D}),Object(a.jsx)(f.a.Text,{children:"(YYYY-MM-DD)"})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Pronouns:"}),Object(a.jsx)(f.a.Control,{maxLength:"100",name:"pronouns",ref:$e,defaultValue:Y})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Avatar url:"}),Object(a.jsx)(f.a.Control,{type:"url",name:"avatar_url",ref:$e,defaultValue:X})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Color:"}),Object(a.jsx)(f.a.Control,{pattern:"[A-Fa-f0-9]{6}",name:"color",ref:$e,defaultValue:ce}),Object(a.jsx)(f.a.Text,{children:"(hexcode)"})]})]}),Object(a.jsxs)(f.a.Group,{className:"mt-3",children:[Object(a.jsx)(f.a.Label,{children:"Description:"}),Object(a.jsx)(f.a.Control,{maxLength:"1000",as:"textarea",name:"description",ref:$e,defaultValue:oe})]}),Object(a.jsx)(m.a,{variant:"light",onClick:function(){return ge(!1)},children:"Cancel"})," ",Object(a.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"})," ",Object(a.jsx)(m.a,{variant:"danger",className:"float-right",onClick:function(){return Re((function(e){return!e}))},children:"Delete"})]}),Object(a.jsx)(M.a,{open:Pe,position:"top-center",modal:!0,children:Object(a.jsx)(h.a,{children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(O.a.Header,{children:Object(a.jsxs)("h5",{children:[Object(a.jsx)(k.h,{className:"mr-3"})," Are you sure you want to delete ",r.name,"?"]})}),Object(a.jsxs)(O.a.Body,{children:[Be?Object(a.jsx)(x.a,{variant:"danger",children:"Incorrect ID, please check the spelling."}):"",Object(a.jsxs)("p",{children:["If you're sure you want to delete this member, please enter the member ID (",r.id,") below."]}),Object(a.jsxs)(f.a,{id:"Delete",onSubmit:rt((function(e){e.memberID!==r.id?Ue(!0):fetch("".concat(z,"m/").concat(r.id),{method:"DELETE",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(){He(!1),We(!0)})).catch((function(e){console.error(e),He(!0)}))})),children:[Object(a.jsx)(f.a.Label,{children:"Member ID:"}),Object(a.jsx)(f.a.Control,{className:"mb-4",name:"memberID",ref:st({required:!0}),placeholder:r.id}),Object(a.jsx)(m.a,{variant:"danger",type:"submit",children:"Delete"})," ",Object(a.jsx)(m.a,{variant:"light",className:"float-right",onClick:function(){return Re(!1)},children:"Cancel"})]})]})]})})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",r.id]}),r.display_name?Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name: "}),b]}):"",r.birthday?Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",N]}):"",r.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(E.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:H}})]})}):Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"}),Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:H}})]}):"",r.color?Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",ce]}):"",ke||Ae?"":Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Privacy:"})," ",Object(a.jsx)(m.a,{variant:"light",size:"sm",onClick:function(){return we(!0)},children:"View"})]}),ke||Ae?"":Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(m.a,{variant:"light",size:"sm",onClick:function(){return De(!0)},children:"View"})]})]}),ve?Object(a.jsxs)(f.a,{id:"Privacy",onSubmit:at((function(e){fetch("".concat(z,"m/").concat(r.id),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){i((function(t){return Object(w.a)(Object(w.a)({},t),e)})),He(!1),Ne(!1)})).catch((function(e){console.error(e),He(!0)}))})),children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing privacy settings"}),Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Visibility:"}),Object(a.jsxs)(f.a.Control,{name:"visibility",defaultValue:r.visibility,as:"select",ref:ct,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Name:"}),Object(a.jsxs)(f.a.Control,{name:"name_privacy",defaultValue:r.name_privacy,as:"select",ref:ct,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Description:"}),Object(a.jsxs)(f.a.Control,{name:"description_privacy",defaultValue:r.description_privacy,as:"select",ref:ct,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Avatar:"}),Object(a.jsxs)(f.a.Control,{name:"avatar_privacy",defaultValue:r.avatar_privacy,as:"select",ref:ct,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Birthday:"}),Object(a.jsxs)(f.a.Control,{name:"birthday_privacy",defaultValue:r.birthday_privacy,as:"select",ref:ct,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Pronouns:"}),Object(a.jsxs)(f.a.Control,{name:"pronoun_privacy",defaultValue:r.pronoun_privacy,as:"select",ref:ct,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Meta:"}),Object(a.jsxs)(f.a.Control,{name:"metadata_privacy",defaultValue:r.metadata_privacy,as:"select",ref:ct,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]})]}),Object(a.jsx)(m.a,{variant:"light",onClick:function(){return Ne(!1)},children:"Cancel"})," ",Object(a.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)("hr",{})]}):ke?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing privacy settings"}),Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Visibility:"})," ",r.visibility]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Name: "}),r.name_privacy]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Description:"})," ",r.description_privacy]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Avatar:"})," ",r.avatar_privacy]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",r.birthday_privacy]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",r.pronoun_privacy]}),Object(a.jsxs)(g.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Meta:"})," ",r.metadata_privacy]})]}),Object(a.jsx)(m.a,{variant:"light",onClick:function(){return we(!1)},children:"Exit"}),"  ",Object(a.jsx)(m.a,{variant:"primary",onClick:function(){return Ne(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",_e?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing proxy tags"}),Object(a.jsxs)(f.a,{onSubmit:jt((function(e){var t={proxy_tags:e.proxy_tags.filter((function(e){return!(""===e.prefix&&""===e.suffix)}))};fetch("".concat(z,"m/").concat(r.id),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){i((function(t){return Object(w.a)(Object(w.a)({},t),e)})),Oe(e.proxy_tags),He(!1),Ee(!1)})).catch((function(e){console.error(e),He(!0)}))})),children:[Object(a.jsxs)(f.a.Row,{children:[he.map((function(e,t){return Object(a.jsx)(g.a,{className:"mb-lg-2",xs:12,lg:2,children:Object(a.jsx)(f.a.Row,{children:Object(a.jsxs)(q.a,{className:"ml-1 mr-1 mb-1",children:[Object(a.jsx)(f.a.Control,{name:"proxy_tags[".concat(t,"].prefix"),defaultValue:e.prefix,ref:lt}),Object(a.jsx)(f.a.Control,{disabled:!0,placeholder:"text"}),Object(a.jsx)(f.a.Control,{name:"proxy_tags[".concat(t,"].suffix"),defaultValue:e.suffix,ref:lt})]})})},e.id)}))," ",Object(a.jsx)(g.a,{className:"mb-2",xs:12,lg:2,children:Object(a.jsx)(m.a,{block:!0,variant:"light",onClick:function(){Oe((function(e){return[].concat(Object(R.a)(e),[{prefix:"",suffix:""}])}))},children:"Add new"})})]}),Object(a.jsx)(m.a,{variant:"light",onClick:function(){return Ee(!1),void Oe(r.proxy_tags)},children:"Exit"})," ",Object(a.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(a.jsx)("hr",{})]}):Ae?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(p.a,{className:"mb-2",children:0===he.length?Object(a.jsx)(g.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):he.map((function(e){return Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},e.index)}))}),Object(a.jsx)(m.a,{variant:"light",onClick:function(){return De(!1)},children:"Exit"}),"  ",Object(a.jsx)(m.a,{variant:"primary",onClick:function(){return Ee(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(E.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:re}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:re}}),Ae||ve||ke?"":Object(a.jsx)(m.a,{variant:"light",onClick:function(){return ge(!0)},children:"Edit"})]})," "]})})]})}var B=c(322);function U(){return Object(a.jsx)(h.a,{fluid:!0,className:"text-center",children:Object(a.jsx)(B.a,{animation:"border"})})}function Y(e){var t=JSON.parse(localStorage.getItem("user")).id,c=Object(n.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],l=Object(n.useState)(!1),j=Object(o.a)(l,2),b=j[0],d=j[1],u=Object(n.useState)(!1),v=Object(o.a)(u,2),N=v[0],C=v[1],S=Object(n.useState)(!1),I=Object(o.a)(S,2),L=I[0],A=I[1],D=Object(n.useState)(!1),T=Object(o.a)(D,2),_=T[0],E=T[1],V=Object(n.useState)(1),P=Object(o.a)(V,2),H=P[0],K=P[1],B=Object(n.useState)(25),Y=Object(o.a)(B,2),Q=Y[0],Z=Y[1],W=Object(n.useState)(!1),X=Object(o.a)(W,2),$=X[0],ee=X[1],te=function(){return ee(!1)},ce=Object(n.useState)([]),ae=Object(o.a)(ce,2),ne=ae[0],se=ae[1],re=Object(n.useState)([]),ie=Object(o.a)(re,2),le=ie[0],je=ie[1],oe=Object(n.useState)([]),be=Object(o.a)(oe,2),de=be[0],ue=be[1],he=Object(n.useState)([]),Oe=Object(o.a)(he,2),xe=Oe[0],me=Oe[1],fe=Object(n.useState)("name"),ge=Object(o.a)(fe,2),pe=ge[0],ye=ge[1],ve=Object(n.useState)("name"),Ne=Object(o.a)(ve,2),Ce=Ne[0],Se=Ne[1],ke=Object(n.useState)(""),we=Object(o.a)(ke,2),Ie=we[0],Le=we[1],Ae=Object(n.useState)([{prefix:"",suffix:""}]),De=Object(o.a)(Ae,2),Te=De[0],Me=De[1],_e=Object(y.a)(),Ee=_e.register,ze=_e.handleSubmit,Ve=Object(n.useCallback)((function(){i(!0),d(!1),Z(25),fetch("".concat(z,"s/").concat(t,"/members"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){se(e),i(!1)})).catch((function(e){console.log(e),d(!0),i(!1)}))}),[t]);Object(n.useEffect)((function(){Ve()}),[Ve]),Object(n.useEffect)((function(){var e=ne.map((function(e){return e.display_name?Object(w.a)(Object(w.a)({},e),{},{displayName:e.display_name}):Object(w.a)(Object(w.a)({},e),{},{displayName:e.name})})).map((function(e){return e.description?Object(w.a)(Object(w.a)({},e),{},{desc:e.description}):Object(w.a)(Object(w.a)({},e),{},{desc:"(no description)"})}));je(e)}),[ne]);var Pe=H*Q,Re=Pe-Q;Object(n.useEffect)((function(){!function(){var e=le.filter((function(e){return!Ie||("name"===pe?!!e.name.toLowerCase().includes(Ie.toLowerCase()):"display name"===pe?!!e.displayName.toLowerCase().includes(Ie.toLowerCase()):"description"===pe?!!e.desc.toLowerCase().includes(Ie.toLowerCase()):"ID"===pe&&!!e.id.toLowerCase().includes(Ie.toLowerCase()))}));ue(e)}()}),[Ie,le,pe]),Object(n.useEffect)((function(){if("name"===Ce){var e=de.sort((function(e,t){return e.name.localeCompare(t.name)})).slice(Re,Pe);me(e)}else if("display name"===Ce){var t=de.sort((function(e,t){return e.displayName.localeCompare(t.displayName)})).slice(Re,Pe);me(t)}else if("ID"===Ce){var c=de.sort((function(e,t){return e.id.localeCompare(t.id)})).slice(Re,Pe);me(c)}else if("date created"===Ce){var a=de.sort((function(e,t){return e.created.localeCompare(t.created)})).slice(Re,Pe);me(a)}}),[Ce,de,Re,Pe]);var qe=H,Fe=Math.ceil(de.length/Q),Je=xe.map((function(e){return Object(a.jsx)(O.a,{children:Object(a.jsx)(G,{member:e})},e.id)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(p.a,{className:"mb-3 justfiy-content-md-center",children:[Object(a.jsx)(g.a,{xs:12,lg:4,children:Object(a.jsx)(f.a,{children:Object(a.jsxs)(q.a,{className:"mb-3",children:[Object(a.jsx)(f.a.Control,{disabled:!0,placeholder:"Page length:"}),Object(a.jsxs)(f.a.Control,{as:"select",defaultValue:"25",onChange:function(e){Z(e.target.value),K(1)},children:[Object(a.jsx)("option",{children:"10"}),Object(a.jsx)("option",{children:"25"}),Object(a.jsx)("option",{children:"50"}),Object(a.jsx)("option",{children:"100"})]})]})})}),Object(a.jsx)(g.a,{xs:12,lg:4,children:Object(a.jsx)(f.a,{children:Object(a.jsxs)(q.a,{className:"mb-3",children:[Object(a.jsx)(f.a.Control,{disabled:!0,placeholder:"Search by:"}),Object(a.jsxs)(f.a.Control,{as:"select",defaultValue:pe,onChange:function(e){ye(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"description"}),Object(a.jsx)("option",{children:"ID"})]})]})})}),Object(a.jsx)(g.a,{xs:12,lg:4,children:Object(a.jsx)(f.a,{children:Object(a.jsxs)(q.a,{className:"mb-3",children:[Object(a.jsx)(f.a.Control,{disabled:!0,placeholder:"Sort by:"}),Object(a.jsxs)(f.a.Control,{as:"select",defaultValue:Ce,onChange:function(e){Se(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"ID"}),Object(a.jsx)("option",{children:"date created"})]})]})})})]}),Object(a.jsxs)(p.a,{noGutters:"true",className:"justify-content-md-center",children:[Object(a.jsx)(g.a,{className:"ml-lg-2 mb-3",xs:12,lg:6,children:Object(a.jsx)(f.a,{children:Object(a.jsx)(f.a.Control,{value:Ie,onChange:function(e){Le(e.target.value),K(1)},placeholder:"Search by ".concat(pe)})})}),Object(a.jsx)(g.a,{className:"ml-lg-2 mb-3",xs:12,lg:1,children:Object(a.jsx)(m.a,{type:"primary",className:"m-0",block:!0,onClick:function(){return Ve()},children:"Refresh"})})]}),Object(a.jsx)(p.a,{className:"justify-content-md-center",children:Object(a.jsxs)(F.a,{className:"ml-auto mr-auto",children:[1===H?Object(a.jsx)(F.a.Prev,{disabled:!0}):Object(a.jsx)(F.a.Prev,{onClick:function(){return K(H-1)}}),H<3?"":Object(a.jsx)(F.a.Item,{onClick:function(){return K(1)},active:1===qe,children:1}),H<4?"":Object(a.jsx)(F.a.Ellipsis,{disabled:!0}),H>1?Object(a.jsx)(F.a.Item,{onClick:function(){return K(H-1)},children:H-1}):"",Object(a.jsx)(F.a.Item,{onClick:function(){return K(H)},active:H===qe,children:H}),H<Fe?Object(a.jsx)(F.a.Item,{onClick:function(){return K(H+1)},children:H+1}):"",H>Fe-3?"":Object(a.jsx)(F.a.Ellipsis,{disabled:!0}),H>Fe-2?"":Object(a.jsx)(F.a.Item,{onClick:function(){return K(Fe)},active:Fe===qe,children:Fe}),H===Fe?Object(a.jsx)(F.a.Next,{disabled:!0}):Object(a.jsx)(F.a.Next,{onClick:function(){return K(H+1)}})]})}),r?Object(a.jsx)(U,{}):b?Object(a.jsx)(x.a,{variant:"danger",children:"Error fetching members."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{className:"w-100",children:Object(a.jsxs)(O.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(m.a,{variant:"link",className:"float-left",onClick:function(){return ee((function(e){return!e}))},children:[Object(a.jsx)(k.e,{className:"mr-4"}),"Add Member"]}),Object(a.jsx)(M.a,{open:$,position:"top-center",modal:!0,children:Object(a.jsx)(h.a,{children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(O.a.Header,{children:Object(a.jsxs)("h5",{children:[Object(a.jsx)(k.e,{className:"mr-3"})," Add member "]})}),Object(a.jsxs)(O.a.Body,{children:[N?Object(a.jsx)(x.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",Object(a.jsxs)(f.a,{onSubmit:ze((function(e){i(!0);var t=e.proxy_tags?Object(w.a)(Object(w.a)({},e),{},{proxy_tags:e.proxy_tags.filter((function(e){return!(""===e.prefix&&""===e.suffix)}))}):e;fetch("".concat(z,"m/"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){C(!1),te()})).catch((function(e){console.error(e),C(!0)}))})),children:[Object(a.jsx)(f.a.Text,{}),Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Name:"}),Object(a.jsx)(f.a.Control,{name:"name",ref:Ee(),defaultValue:"",required:!0})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Display name: "}),Object(a.jsx)(f.a.Control,{name:"display_name",ref:Ee,defaultValue:""})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Birthday:"}),Object(a.jsx)(f.a.Control,{pattern:"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$",name:"birthday",ref:Ee,defaultValue:""}),Object(a.jsx)(f.a.Text,{children:"(YYYY-MM-DD)"})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Pronouns:"}),Object(a.jsx)(f.a.Control,{name:"pronouns",ref:Ee,defaultValue:""})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Avatar url:"}),Object(a.jsx)(f.a.Control,{type:"url",name:"avatar_url",ref:Ee,defaultValue:""})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Color:"}),Object(a.jsx)(f.a.Control,{pattern:"[A-Fa-f0-9]{6}",name:"color",ref:Ee,defaultValue:""}),Object(a.jsx)(f.a.Text,{children:"(hexcode)"})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:2,children:[Object(a.jsx)(f.a.Label,{children:"Proxy tags:"}),Object(a.jsxs)(m.a,{variant:"primary",block:!0,onClick:function(){return A((function(e){return!e}))},children:[" ",L?"Hide":"Show"]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:2,children:[Object(a.jsx)(f.a.Label,{children:"Privacy settings:"}),Object(a.jsxs)(m.a,{variant:"primary",block:!0,onClick:function(){return E((function(e){return!e}))},children:[" ",_?"Hide":"Show"]})]})]}),Object(a.jsx)("hr",{}),L?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:"Proxy Tags"}),Object(a.jsxs)(f.a.Row,{children:[Te.map((function(e,t){return Object(a.jsx)(g.a,{className:"mb-lg-2",xs:12,lg:2,children:Object(a.jsx)(f.a.Row,{children:Object(a.jsxs)(q.a,{className:"ml-1 mr-1 mb-1",children:[Object(a.jsx)(f.a.Control,{name:"proxy_tags[".concat(t,"].prefix"),defaultValue:e.prefix,ref:Ee}),Object(a.jsx)(f.a.Control,{disabled:!0,placeholder:"text"}),Object(a.jsx)(f.a.Control,{name:"proxy_tags[".concat(t,"].suffix"),defaultValue:e.suffix,ref:Ee})]})})},t)}))," ",Object(a.jsx)(g.a,{className:"mb-lg-2",xs:12,lg:2,children:Object(a.jsx)(m.a,{block:!0,variant:"light",onClick:function(){Me((function(e){return[].concat(Object(R.a)(e),[{prefix:"",suffix:""}])}))},children:"Add new"})})]}),Object(a.jsx)("hr",{})]}):"",_?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:"privacy settings"}),Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Visibility:"}),Object(a.jsxs)(f.a.Control,{name:"visibility",as:"select",ref:Ee,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Name:"}),Object(a.jsxs)(f.a.Control,{name:"name_privacy",as:"select",ref:Ee,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Description:"}),Object(a.jsxs)(f.a.Control,{name:"description_privacy",as:"select",ref:Ee,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Birthday:"}),Object(a.jsxs)(f.a.Control,{name:"birthday_privacy",as:"select",ref:Ee,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Pronouns:"}),Object(a.jsxs)(f.a.Control,{name:"pronoun_privacy",as:"select",ref:Ee,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]}),Object(a.jsxs)(g.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)(f.a.Label,{children:"Meta:"}),Object(a.jsxs)(f.a.Control,{name:"metadata_privacy",as:"select",ref:Ee,children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]})]})]}),Object(a.jsx)("hr",{})]}):"",Object(a.jsxs)(f.a.Group,{className:"mt-3",children:[Object(a.jsx)(f.a.Label,{children:"Description:"}),Object(a.jsx)(f.a.Control,{maxLength:"1000",as:"textarea",rows:"7",name:"description",ref:Ee,defaultValue:""})]}),Object(a.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"})," ",Object(a.jsx)(m.a,{variant:"light",className:"float-right",onClick:te,children:"Cancel"})]})]})]})})})]})}),Object(a.jsx)(J.a,{className:"mb-3 mt-3 w-100",defaultActiveKey:"0",children:Je})]})]})}function Q(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P,{}),Object(a.jsx)(Y,{})]})}function Z(){return Object(a.jsx)(b.a,{className:"mt-4 align-items-center justify-content-between footer",children:Object(a.jsxs)(u.a,{children:[Object(a.jsx)(u.a.Item,{children:Object(a.jsx)(u.a.Link,{rel:"noreferrer",target:"_blank",href:"https://pluralkit.me/",children:"Pluralkit.me"})}),Object(a.jsx)(u.a.Item,{children:Object(a.jsx)(u.a.Link,{rel:"noreferrer",target:"_blank",href:"https://github.com/Spectralitree/pk-webs/",children:"Github"})})]})})}function W(e){var t=e.member,s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],l=r[1],j=Object(n.useState)(""),b=Object(o.a)(j,2),d=b[0],u=b[1],h=Object(n.useState)(""),x=Object(o.a)(h,2),f=x[0],y=x[1],v=Object(n.useState)(""),N=Object(o.a)(v,2),C=N[0],S=N[1],w=Object(n.useState)(""),L=Object(o.a)(w,2),D=L[0],_=L[1],z=Object(n.useState)(""),P=Object(o.a)(z,2),R=P[0],q=P[1],F=t.proxy_tags,H=Object(n.useState)(!1),G=Object(o.a)(H,2),B=G[0],U=G[1];return Object(n.useEffect)((function(){A()(document.querySelector("textarea"))})),Object(n.useEffect)((function(){var e=c(43).toHTML;if(t.display_name?u(t.display_name):u(""),t.birthday)if(t.birthday.startsWith("0004-")){var a=t.birthday.replace("0004-",""),n=T()(a,"MM-DD").format("MMM D");y(n)}else{var s=T()(t.birthday,"YYYY-MM-DD").format("MMM D, YYYY");y(s)}else y("");if(t.avatar_url){var r=t.avatar_url.replace("&format=jpeg","");l(r.replace("?width=256&height=256",""))}else l("");t.pronouns?S(e(t.pronouns)):S(""),t.color?_(t.color):_(""),t.description?q(e(t.description)):q("(no description)")}),[t.description,t.color,t.birthday,t.display_name,t.pronouns,t.avatar_url,t.proxy_tags]),Object(a.jsxs)(K.a,{offset:100,children:[Object(a.jsxs)(O.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(J.a.Toggle,{as:m.a,variant:"link",eventKey:t.id,className:"float-left",children:[Object(a.jsx)(k.i,{className:"mr-4 float-left"})," ",Object(a.jsx)("b",{children:t.name})," (",t.id,")"]}),t.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(t.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)(I.a,{src:"".concat(i),style:{"max-width":640,height:"auto"},thumbnail:!0})})}}):Object(a.jsx)(I.a,{src:V,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),Object(a.jsx)(J.a.Collapse,{eventKey:t.id,children:Object(a.jsxs)(O.a.Body,{style:{borderLeft:"5px solid #".concat(D)},children:[Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",t.id]}),t.display_name?Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name: "}),d]}):"",t.birthday?Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",f]}):"",t.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(E.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:C}})]})}):Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:C}})]}):"",t.color?Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",D]}):"",B?"":Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(m.a,{variant:"light",size:"sm",onClick:function(){return U(!0)},children:"View"})]})]}),B?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(p.a,{className:"mb-2",children:0===F.length?Object(a.jsx)(g.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):F.map((function(e){return Object(a.jsxs)(g.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},e.index)}))}),Object(a.jsx)(m.a,{variant:"light",onClick:function(){return U(!1)},children:"Exit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(E.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:R}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:R}})]})})]})}function X(e){var t=e.sysID,c=Object(n.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],l=Object(n.useState)(!1),j=Object(o.a)(l,2),b=j[0],d=j[1],u=Object(n.useState)(1),h=Object(o.a)(u,2),y=h[0],v=h[1],N=Object(n.useState)(25),C=Object(o.a)(N,2),S=C[0],k=C[1],I=Object(n.useState)([]),L=Object(o.a)(I,2),A=L[0],D=L[1],T=Object(n.useState)([]),M=Object(o.a)(T,2),_=M[0],E=M[1],V=Object(n.useState)([]),P=Object(o.a)(V,2),R=P[0],H=P[1],K=Object(n.useState)([]),G=Object(o.a)(K,2),B=G[0],Y=G[1],Q=Object(n.useState)("name"),Z=Object(o.a)(Q,2),X=Z[0],$=Z[1],ee=Object(n.useState)("name"),te=Object(o.a)(ee,2),ce=te[0],ae=te[1],ne=Object(n.useState)(""),se=Object(o.a)(ne,2),re=se[0],ie=se[1],le=Object(n.useCallback)((function(){i(!0),d(!1),k(25),fetch("".concat(z,"s/").concat(t,"/members"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){D(e),i(!1)})).catch((function(e){console.log(e),d(!0),i(!1)}))}),[t]);Object(n.useEffect)((function(){le()}),[le]),Object(n.useEffect)((function(){var e=A.map((function(e){return e.display_name?Object(w.a)(Object(w.a)({},e),{},{displayName:e.display_name}):Object(w.a)(Object(w.a)({},e),{},{displayName:e.name})})).map((function(e){return e.description?Object(w.a)(Object(w.a)({},e),{},{desc:e.description}):Object(w.a)(Object(w.a)({},e),{},{desc:"(no description)"})}));E(e)}),[A]);var je=y*S,oe=je-S;Object(n.useEffect)((function(){!function(){var e=_.filter((function(e){return!re||("name"===X?!!e.name.toLowerCase().includes(re.toLowerCase()):"display name"===X?!!e.displayName.toLowerCase().includes(re.toLowerCase()):"description"===X?!!e.desc.toLowerCase().includes(re.toLowerCase()):"ID"===X&&!!e.id.toLowerCase().includes(re.toLowerCase()))}));H(e)}()}),[re,_,X]),Object(n.useEffect)((function(){if("name"===ce){var e=R.sort((function(e,t){return e.name.localeCompare(t.name)})).slice(oe,je);Y(e)}else if("display name"===ce){var t=R.sort((function(e,t){return e.displayName.localeCompare(t.displayName)})).slice(oe,je);Y(t)}else if("ID"===ce){var c=R.sort((function(e,t){return e.id.localeCompare(t.id)})).slice(oe,je);Y(c)}else if("date created"===ce){var a=R.sort((function(e,t){return e.created.localeCompare(t.created)})).slice(oe,je);Y(a)}}),[ce,R,oe,je]);var be=y,de=Math.ceil(R.length/S),ue=B.map((function(e){return Object(a.jsx)(O.a,{children:Object(a.jsx)(W,{member:e})},e.id)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(p.a,{className:"mb-3 justfiy-content-md-center",children:[Object(a.jsx)(g.a,{xs:12,lg:4,children:Object(a.jsx)(f.a,{children:Object(a.jsxs)(q.a,{className:"mb-3",children:[Object(a.jsx)(f.a.Control,{disabled:!0,placeholder:"Page length:"}),Object(a.jsxs)(f.a.Control,{as:"select",defaultValue:"25",onChange:function(e){k(e.target.value),v(1)},children:[Object(a.jsx)("option",{children:"10"}),Object(a.jsx)("option",{children:"25"}),Object(a.jsx)("option",{children:"50"}),Object(a.jsx)("option",{children:"100"})]})]})})}),Object(a.jsx)(g.a,{xs:12,lg:4,children:Object(a.jsx)(f.a,{children:Object(a.jsxs)(q.a,{className:"mb-3",children:[Object(a.jsx)(f.a.Control,{disabled:!0,placeholder:"Search by:"}),Object(a.jsxs)(f.a.Control,{as:"select",defaultValue:X,onChange:function(e){$(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"description"}),Object(a.jsx)("option",{children:"ID"})]})]})})}),Object(a.jsx)(g.a,{xs:12,lg:4,children:Object(a.jsx)(f.a,{children:Object(a.jsxs)(q.a,{className:"mb-3",children:[Object(a.jsx)(f.a.Control,{disabled:!0,placeholder:"Sort by:"}),Object(a.jsxs)(f.a.Control,{as:"select",defaultValue:ce,onChange:function(e){ae(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"ID"}),Object(a.jsx)("option",{children:"date created"})]})]})})})]}),Object(a.jsxs)(p.a,{noGutters:"true",className:"justify-content-md-center",children:[Object(a.jsx)(g.a,{className:"ml-lg-2 mb-3",xs:12,lg:6,children:Object(a.jsx)(f.a,{children:Object(a.jsx)(f.a.Control,{value:re,onChange:function(e){ie(e.target.value),v(1)},placeholder:"Search by ".concat(X)})})}),Object(a.jsx)(g.a,{className:"ml-lg-2 mb-3",xs:12,lg:1,children:Object(a.jsx)(m.a,{type:"primary",className:"m-0",block:!0,onClick:function(){return le()},children:"Refresh"})})]}),Object(a.jsx)(p.a,{className:"justify-content-md-center",children:Object(a.jsxs)(F.a,{className:"ml-auto mr-auto",children:[1===y?Object(a.jsx)(F.a.Prev,{disabled:!0}):Object(a.jsx)(F.a.Prev,{onClick:function(){return v(y-1)}}),y<3?"":Object(a.jsx)(F.a.Item,{onClick:function(){return v(1)},active:1===be,children:1}),y<4?"":Object(a.jsx)(F.a.Ellipsis,{disabled:!0}),y>1?Object(a.jsx)(F.a.Item,{onClick:function(){return v(y-1)},children:y-1}):"",Object(a.jsx)(F.a.Item,{onClick:function(){return v(y)},active:y===be,children:y}),y<de?Object(a.jsx)(F.a.Item,{onClick:function(){return v(y+1)},children:y+1}):"",y>de-3?"":Object(a.jsx)(F.a.Ellipsis,{disabled:!0}),y>de-2?"":Object(a.jsx)(F.a.Item,{onClick:function(){return v(de)},active:de===be,children:de}),y===de?Object(a.jsx)(F.a.Next,{disabled:!0}):Object(a.jsx)(F.a.Next,{onClick:function(){return v(y+1)}})]})}),r?Object(a.jsx)(U,{}):b?Object(a.jsx)(x.a,{variant:"danger",children:"Error fetching members."}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(J.a,{className:"mb-3 mt-3 w-100",defaultActiveKey:"0",children:ue})})]})}function $(){var e=Object(i.e)().sysID,t=Object(n.useState)(""),s=Object(o.a)(t,2),r=s[0],l=s[1],j=Object(n.useState)(""),b=Object(o.a)(j,2),d=b[0],u=b[1],h=Object(n.useState)(""),m=Object(o.a)(h,2),f=m[0],y=m[1],v=Object(n.useState)(""),N=Object(o.a)(v,2),C=N[0],S=N[1],w=Object(n.useState)(""),L=Object(o.a)(w,2),A=L[0],D=L[1],T=Object(n.useState)(""),_=Object(o.a)(T,2),P=_[0],R=_[1],q=Object(n.useState)(!0),F=Object(o.a)(q,2),J=F[0],H=F[1],K=Object(n.useState)(!1),G=Object(o.a)(K,2),B=G[0],Y=G[1];return Object(n.useEffect)((function(){fetch("".concat(z,"s/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){l(e),H(!1)})).catch((function(e){console.log(e),Y(!0),H(!1)}))}),[e]),Object(n.useEffect)((function(){var e=c(43).toHTML;if(r.name?u(r.name):u(""),r.avatar_url){var t=r.avatar_url.replace("&format=jpeg","");R(t.replace("?width=256&height=256",""))}else R("");r.tag?y(r.tag):y(""),r.tz?S(r.tz):S(""),r.description?D(e(r.description)):D("(no description)")}),[r.description,r.tag,r.avatar_url,r.tz,r.name]),Object(a.jsx)(a.Fragment,{children:J?Object(a.jsx)(U,{}):B?Object(a.jsx)(x.a,{variant:"danger",children:"Something went wrong, either the system doesn't exist, or there was an error fetching data."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(x.a,{variant:"primary",children:["You are currently ",Object(a.jsx)("b",{children:"viewing"})," a system."]}),Object(a.jsxs)(O.a,{className:"mb-3 mt-3 w-100",children:[Object(a.jsxs)(O.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(O.a.Title,{className:"float-left",children:[Object(a.jsx)(k.a,{className:"mr-4 float-left"})," ",d," (",r.id,")"]}),r.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(r.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)(I.a,{src:"".concat(P),style:{"max-width":640,height:"auto"},thumbnail:!0})})}}):Object(a.jsx)(I.a,{src:V,style:{width:50,height:50},className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(O.a.Body,{children:[Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",r.id]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Tag:"})," ",f]}),Object(a.jsxs)(g.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Timezone:"})," ",C]})]}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(E.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:A}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:A}})]})]}),Object(a.jsx)(X,{sysID:e})," "]})})}function ee(){var e=Object(i.f)(),t=e.path,c=e.url,n=Object(y.a)(),s=n.register,r=n.handleSubmit;return Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:t,children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(O.a.Header,{children:Object(a.jsxs)(O.a.Title,{children:[Object(a.jsx)(k.f,{className:"mr-3"}),"Profile"]})}),Object(a.jsx)(O.a.Body,{children:Object(a.jsxs)(f.a,{onSubmit:r((function(e){j.push("".concat(c,"/").concat(e.sysID))})),children:[Object(a.jsx)(f.a.Label,{children:"Submit a system ID to view to that system's profile."}),Object(a.jsxs)(f.a.Row,{children:[Object(a.jsx)(g.a,{className:"mb-1",xs:12,lg:10,children:Object(a.jsx)(f.a.Control,{name:"sysID",ref:s,defaultValue:""})}),Object(a.jsx)(g.a,{children:Object(a.jsx)(m.a,{variant:"primary",type:"submit",block:!0,children:"Submit"})})]})]})})]})}),Object(a.jsx)(i.b,{path:"".concat(t,"/:sysID"),children:Object(a.jsx)($,{})})]})}function te(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(o.a)(r,2),N=l[0],w=l[1],I=Object(n.useState)(!1),L=Object(o.a)(I,2),A=L[0],D=L[1],T=Object(n.useState)(),M=Object(o.a)(T,2)[1],_=Object(n.useCallback)((function(){return M({})}),[]),E=Object(S.a)(!1),V=Object(y.a)(),P=V.register,R=V.handleSubmit;Object(n.useEffect)((function(){localStorage.getItem("token")&&(D(!1),s(!0),v("".concat(z,"s/"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("user",JSON.stringify(e)),w(!0),s(!1)})).catch((function(e){console.log(e),D(!0),localStorage.removeItem("token"),localStorage.removeItem("user"),s(!1)})))}),[]);return Object(a.jsx)("div",{className:localStorage.getItem("opendyslexic")?"opendyslexic":"",children:Object(a.jsxs)(i.c,{history:j,basename:"/pk-webs",children:[Object(a.jsxs)(b.a,{className:"mb-5 align-items-center",children:[Object(a.jsx)(b.a.Brand,{href:"/pk-webs",children:"pk-webs"}),Object(a.jsxs)(d.a,{id:"menu",className:"mr-auto",title:"Menu",children:[Object(a.jsx)(d.a.Item,{onClick:function(){return j.push("/pk-webs/dash")},children:"Dash"}),Object(a.jsx)(d.a.Item,{onClick:function(){return j.push("/pk-webs/settings")},children:"Settings"}),Object(a.jsx)(d.a.Item,{onClick:function(){return j.push("/pk-webs/profile")},children:"Public profile"}),localStorage.getItem("token")?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{className:"my-1"}),Object(a.jsx)(d.a.Item,{onClick:function(){return w(!1),localStorage.removeItem("token"),localStorage.removeItem("user"),j.push("/pk-webs"),void _()},children:"Log out"})]}):""]}),Object(a.jsxs)(u.a,{className:"mr-2 d-flex align-items-center row",children:[Object(a.jsx)(C.a,{defaultChecked:!0,icons:!1,onChange:E.toggle}),E.value?Object(a.jsx)(k.d,{className:"m-1"}):Object(a.jsx)(k.g,{className:"m-1"})]})]}),Object(a.jsx)(h.a,{children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{path:"/pk-webs/dash",children:!localStorage.getItem("token")||A?Object(a.jsx)(i.a,{to:"/pk-webs"}):Object(a.jsx)(Q,{})}),Object(a.jsx)(i.b,{exact:!0,path:"/pk-webs",children:c?Object(a.jsx)(U,{}):Object(a.jsxs)(O.a,{className:"mb-3 mt-3",children:[Object(a.jsx)(O.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(O.a.Title,{children:[Object(a.jsx)(k.c,{className:"mr-3"}),"Login"]})}),Object(a.jsxs)(O.a.Body,{children:[N&&!localStorage.getItem("user")?Object(a.jsx)(x.a,{variant:"danger",children:"Something went wrong, please try again."}):"",A?Object(a.jsx)(x.a,{variant:"danger",children:"Invalid token."}):"",localStorage.getItem("user")&&localStorage.getItem("token")?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"You are logged in already, click here to continue to the dash."}),Object(a.jsx)(m.a,{type:"primary",onClick:function(){return j.push("/pk-webs/dash")},children:"Continue to dash"})]}):Object(a.jsxs)(f.a,{onSubmit:R((function(e){localStorage.setItem("token",e.pkToken),D(!1),s(!0),v("".concat(z,"s/"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("user",JSON.stringify(e)),w(!0),s(!1),j.push("/pk-webs/dash")})).catch((function(e){console.log(e),D(!0),localStorage.removeItem("token"),localStorage.removeItem("user"),s(!1)}))})),children:[Object(a.jsx)(f.a.Row,{children:Object(a.jsx)(g.a,{className:"mb-1",xs:12,lg:10,children:Object(a.jsxs)(f.a.Label,{children:["Enter your token here. You can get your token by using ",Object(a.jsx)("b",{children:'"pk;token"'}),"."]})})}),Object(a.jsxs)(f.a.Row,{children:[Object(a.jsx)(g.a,{xs:12,lg:10,children:Object(a.jsx)(f.a.Control,{required:!0,name:"pkToken",type:"text",ref:P,placeholder:"token"})}),Object(a.jsx)(g.a,{children:Object(a.jsx)(m.a,{variant:"primary",type:"submit",block:!0,children:"Submit"})})]})]})]})]})}),Object(a.jsx)(i.b,{path:"/pk-webs/profile",children:Object(a.jsx)(ee,{})}),Object(a.jsx)(i.b,{path:"/pk-webs/settings",children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(O.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(O.a.Title,{children:[Object(a.jsx)(k.b,{className:"mr-3"}),"Settings"]})}),Object(a.jsxs)(O.a.Body,{children:[Object(a.jsx)("p",{children:"Change how you view and use pk-webs here, changes will be saved after refreshing. You will have to apply them again in different browsers and on different devices."}),Object(a.jsx)("hr",{}),Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(g.a,{xs:12,lg:4,className:"mx-1 mb-2 d-flex align-items-center row",children:[localStorage.getItem("opendyslexic")?Object(a.jsx)(C.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("opendyslexic"),_()}}):Object(a.jsx)(C.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("opendyslexic","true"),_()}}),"Use opendyslexic?"]}),Object(a.jsxs)(g.a,{xs:12,lg:4,className:"mx-1 mb-2 d-flex align-items-center row",children:[localStorage.getItem("twemoji")?Object(a.jsx)(C.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("twemoji"),_()}}):Object(a.jsx)(C.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("twemoji","true"),_()}}),"Use twemoji?"]})]})]})]})})]})}),Object(a.jsx)(Z,{})]})})}r.a.render(Object(a.jsx)(i.c,{history:j,basename:"/pk-webs",children:Object(a.jsx)(te,{})}),document.getElementById("root"))},43:function(e,t,c){var a=c(95),n=c(96);function s(e,t,c){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"object"===typeof n&&(s=n,n=!0),c||(c={}),c.class&&s.cssModuleNames&&(c.class=c.class.split(" ").map((function(e){return s.cssModuleNames[e]||e})).join(" "));var r="";for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&(r+=" ".concat(a.sanitizeText(i),'="').concat(a.sanitizeText(c[i]),'"'));var l="<".concat(e).concat(r,">");return n?l+t+"</".concat(e,">"):l}a.htmlTag=s;var r={blockQuote:Object.assign({},a.defaultRules.blockQuote,{match:function(e,t,c){return!/^$|\n *$/.test(c)||t.inQuote?null:/^( *>>> ([\s\S]*))|^( *> [^\n]*(\n *> [^\n]*)*\n?)/.exec(e)},parse:function(e,t,c){var a=e[0],n=Boolean(/^ *>>> ?/.exec(a))?/^ *>>> ?/:/^ *> ?/gm;return{content:t(a.replace(n,""),Object.assign({},c,{inQuote:!0})),type:"blockQuote"}}}),codeBlock:Object.assign({},a.defaultRules.codeBlock,{match:a.inlineRegex(/^```(([a-z0-9-]+?)\n+)?\n*([^]+?)\n*```/i),parse:function(e,t,c){return{lang:(e[2]||"").trim(),content:e[3]||"",inQuote:c.inQuote||!1}},html:function(e,t,c){var r;return e.lang&&n.getLanguage(e.lang)&&(r=n.highlight(e.lang,e.content,!0)),r&&c.cssModuleNames&&(r.value=r.value.replace(/<span class="([a-z0-9-_ ]+)">/gi,(function(e,t){return e.replace(t,t.split(" ").map((function(e){return c.cssModuleNames[e]||e})).join(" "))}))),s("pre",s("code",r?r.value:a.sanitizeText(e.content),{class:"hljs".concat(r?" "+r.language:"")},c),null,c)}}),newline:a.defaultRules.newline,escape:a.defaultRules.escape,autolink:Object.assign({},a.defaultRules.autolink,{parse:function(e){return{content:[{type:"text",content:e[1]}],target:e[1]}},html:function(e,t,c){return s("a",t(e.content,c),{href:a.sanitizeUrl(e.target)},c)}}),url:Object.assign({},a.defaultRules.url,{parse:function(e){return{content:[{type:"text",content:e[1]}],target:e[1]}},html:function(e,t,c){return s("a",t(e.content,c),{href:a.sanitizeUrl(e.target)},c)}}),em:Object.assign({},a.defaultRules.em,{parse:function(e,t,c){var n=a.defaultRules.em.parse(e,t,Object.assign({},c,{inEmphasis:!0}));return c.inEmphasis?n.content:n}}),strong:a.defaultRules.strong,u:a.defaultRules.u,strike:Object.assign({},a.defaultRules.del,{match:a.inlineRegex(/^~~([\s\S]+?)~~(?!_)/)}),inlineCode:Object.assign({},a.defaultRules.inlineCode,{match:function(e){return a.defaultRules.inlineCode.match.regex.exec(e)},html:function(e,t,c){return s("code",a.sanitizeText(e.content.trim()),null,c)}}),text:Object.assign({},a.defaultRules.text,{match:function(e){return/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e)},html:function(e,t,c){return c.escapeHTML?a.sanitizeText(e.content):e.content}}),emoticon:{order:a.defaultRules.text.order,match:function(e){return/^(\xaf\\_\(\u30c4\)_\/\xaf)/.exec(e)},parse:function(e){return{type:"text",content:e[1]}},html:function(e,t,c){return t(e.content,c)}},br:Object.assign({},a.defaultRules.br,{match:a.anyScopeRegex(/^\n/)}),spoiler:{order:0,match:function(e){return/^\|\|([\s\S]+?)\|\|/.exec(e)},parse:function(e,t,c){return{content:t(e[1],c)}},html:function(e,t,c){return s("a",t(e.content,c),{class:"d-spoiler"},c)}},link:a.defaultRules.link},i={user:function(e){return"@"+a.sanitizeText(e.id)},channel:function(e){return"#"+a.sanitizeText(e.id)},role:function(e){return"&"+a.sanitizeText(e.id)},everyone:function(){return"@everyone"},here:function(){return"@here"}},l={discordUser:{order:a.defaultRules.strong.order,match:function(e){return/^<@!?([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,c){return s("span",c.discordCallback.user(e),{class:"d-mention d-user"},c)}},discordChannel:{order:a.defaultRules.strong.order,match:function(e){return/^<#?([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,c){return s("span",c.discordCallback.channel(e),{class:"d-mention d-channel"},c)}},discordRole:{order:a.defaultRules.strong.order,match:function(e){return/^<@&([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,c){return s("span",c.discordCallback.role(e),{class:"d-mention d-role"},c)}},discordEmoji:{order:a.defaultRules.strong.order,match:function(e){return/^<(a?):(\w+):(\d+)>/.exec(e)},parse:function(e){return{animated:"a"===e[1],name:e[2],id:e[3]}},html:function(e,t,c){return s("img","",{class:"d-emoji".concat(e.animated?" d-emoji-animated":""),src:"https://cdn.discordapp.com/emojis/".concat(e.id,".").concat(e.animated?"gif":"png"),alt:":".concat(e.name,":")},!1,c)}},discordEveryone:{order:a.defaultRules.strong.order,match:function(e){return/^@everyone/.exec(e)},parse:function(){return{}},html:function(e,t,c){return s("span",c.discordCallback.everyone(e),{class:"d-mention d-user"},c)}},discordHere:{order:a.defaultRules.strong.order,match:function(e){return/^@here/.exec(e)},parse:function(){return{}},html:function(e,t,c){return s("span",c.discordCallback.here(e),{class:"d-mention d-user"},c)}}};Object.assign(r,l);var j=Object.assign({},l,{text:Object.assign({},a.defaultRules.text,{match:function(e){return/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e)},html:function(e,t,c){return c.escapeHTML?a.sanitizeText(e.content):e.content}})}),o=Object.assign({},r,{link:a.defaultRules.link}),b=a.parserFor(r),d=a.htmlFor(a.ruleOutput(r,"html")),u=a.parserFor(j),h=a.htmlFor(a.ruleOutput(j,"html")),O=a.parserFor(o),x=a.htmlFor(a.ruleOutput(o,"html"));e.exports={parser:function(e){return b(e,{inline:!0})},htmlOutput:d,toHTML:function(e,t,c,a){if((c||a)&&(!c||!a))throw new Error("You must pass both a custom parser and custom htmlOutput function, not just one");t=Object.assign({embed:!1,escapeHTML:!0,discordOnly:!1,discordCallback:{}},t||{});var n=b,s=d;c?(n=c,s=a):t.discordOnly?(n=u,s=h):t.embed&&(n=O,s=x);var r={inline:!0,inQuote:!1,inEmphasis:!1,escapeHTML:t.escapeHTML,cssModuleNames:t.cssModuleNames||null,discordCallback:Object.assign({},i,t.discordCallback)};return s(n(e,r),r)},rules:r,rulesDiscordOnly:j,rulesEmbed:o,markdownEngine:a,htmlTag:s}},80:function(e,t,c){},87:function(e,t,c){}},[[313,1,2]]]);
//# sourceMappingURL=main.3abd4f7a.chunk.js.map