(this["webpackJsonppk-web"]=this["webpackJsonppk-web"]||[]).push([[0],{324:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c(27),r=c.n(s),i=c(13),l=c(24),j=Object(l.a)(),o=(c(92),c(3)),b=c(5),d=c(339),O=c(336),h=c(340),x=c(331),m=c(341),u=c(342),g=c(86),p=c(335),f=c(85),y=c(330),v=c(19),N=c(73),C=c(28),S=c.n(C),k=c(81),w=(c(99),c(100),c(101),c(10)),I=c(329),_=c(30),L=c.n(_),D=c(21),A=c.n(D),M=(c(102),c(22)),T=c(16),V=c.n(T),E="https://api.pluralkit.me/v1/",z="data:image/png;base64,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";function P(e){var t=Object(i.i)("/pk-webs/dash/:memberID"),s=Object(v.a)(),r=s.register,l=s.handleSubmit,d=Object(v.a)(),O=d.register,h=d.handleSubmit,x=Object(n.useState)(JSON.parse(localStorage.getItem("user"))),N=Object(b.a)(x,2),C=N[0],S=N[1],k=Object(n.useState)(""),_=Object(b.a)(k,2),D=_[0],T=_[1],P=Object(n.useState)(""),F=Object(b.a)(P,2),Y=F[0],R=F[1],H=Object(n.useState)(""),J=Object(b.a)(H,2),q=J[0],B=J[1],K=Object(n.useState)(""),G=Object(b.a)(K,2),U=G[0],W=G[1],Q=Object(n.useState)(""),Z=Object(b.a)(Q,2),X=Z[0],$=Z[1],ee=Object(n.useState)(""),te=Object(b.a)(ee,2),ce=te[0],ae=te[1],ne=Object(n.useState)(!1),se=Object(b.a)(ne,2),re=se[0],ie=se[1],le=Object(n.useState)(!1),je=Object(b.a)(le,2),oe=je[0],be=je[1],de=Object(n.useState)(!1),Oe=Object(b.a)(de,2),he=Oe[0],xe=Oe[1],me=Object(n.useState)(!1),ue=Object(b.a)(me,2),ge=ue[0],pe=ue[1],fe=Object(n.useState)(!1),ye=Object(b.a)(fe,2),ve=ye[0],Ne=ye[1];Object(n.useEffect)((function(){var e=c(40).toHTML;if(C.name?T(C.name):T(""),C.tag?R(C.tag):R(""),C.tz?B(C.tz):B(""),C.avatar_url){var t=C.avatar_url.replace("&format=jpeg","");W(t.replace("?width=256&height=256",""))}else W("");C.description?($(e(C.description)),ae(C.description)):($("(no description)"),ae(""))}),[C.description,C.tag,C.avatar_url,C.tz,C.name]),Object(n.useEffect)((function(){L()(document.querySelector("textarea"))}));return t?null:Object(a.jsxs)(m.a,{className:"mb-3 mt-3 w-100",children:[Object(a.jsxs)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(m.a.Title,{className:"float-left",children:[Object(a.jsx)(w.a,{className:"mr-4 float-left"})," ",D," (",C.id,")"]}),C.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(C.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)(I.a,{src:"".concat(U),style:{"max-width":640,height:"auto"},thumbnail:!0})})}}):Object(a.jsx)(I.a,{src:z,style:{width:50,height:50},className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(m.a.Body,{children:[ve?Object(a.jsx)(u.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",re?Object(a.jsxs)(p.a,{onSubmit:l((function(e){!e.tz||A.a.tz.zone(e.tz)?fetch("".concat(E,"s"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(){S((function(t){return Object(o.a)(Object(o.a)({},t),e)})),localStorage.setItem("user",JSON.stringify(C)),ie(!1)})).catch((function(e){console.error(e),Ne(!0)})):pe(!0)})),children:[Object(a.jsxs)(p.a.Text,{className:"mb-4",children:[Object(a.jsx)("b",{children:"Note:"})," if you refresh the page, the old data might show up again, this is due to the bot caching data.",Object(a.jsx)("br",{}),"Try editing a member to clear the cache, or wait a few minutes before refreshing."]}),Object(a.jsxs)(p.a.Row,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Name:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"name"},r("name")),{},{defaultValue:D}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Tag:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"tag"},r("tag")),{},{defaultValue:Y}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Timezone:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"tz"},r("tz")),{},{defaultValue:q,required:!0})),ge?Object(a.jsxs)(p.a.Text,{children:["Please enter a valid ",Object(a.jsx)("a",{href:"https://xske.github.io/tz/",rel:"noreferrer",target:"_blank",children:"timezone"})]}):""]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Avatar url:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"avatar_url"},r("avatar_url")),{},{defaultValue:U}))]})]}),Object(a.jsxs)(p.a.Group,{className:"mt-3",children:[Object(a.jsx)(p.a.Label,{children:"Description:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({maxLength:"1000",as:"textarea",name:"description"},r("description")),{},{defaultValue:ce}))]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return ie(!1)},children:"Cancel"}),"  ",Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",C.id]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Tag:"})," ",Y]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Timezone:"})," ",q]}),he?"":Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Privacy:"})," ",Object(a.jsx)(g.a,{variant:"light",size:"sm",onClick:function(){return xe(!0)},children:"View"})]})]}),oe?Object(a.jsxs)(p.a,{onSubmit:h((function(e){fetch("".concat(E,"s"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){S((function(t){return Object(o.a)(Object(o.a)({},t),e)})),localStorage.setItem("user",JSON.stringify(C)),be(!1)})).catch((function(e){console.error(e),Ne(!0)}))})),children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing privacy settings"}),Object(a.jsxs)(p.a.Row,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Description:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"description_privacy",defaultValue:C.description_privacy,as:"select"},O("description_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Member list:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"member_list_privacy",defaultValue:C.member_list_privacy,as:"select"},O("member_list_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Front:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"front_privacy",as:"select",defaultValue:C.front_privacy},O("front_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Front history:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"front_history_privacy",defaultValue:C.front_history_privacy,as:"select"},O("front_history_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]})]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return be(!1)},children:"Cancel"})," ",Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)("hr",{})]}):he?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing privacy settings"}),Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Description:"})," ",C.description_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Member list: "}),C.member_list_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Front:"})," ",C.front_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Front history:"})," ",C.front_history_privacy]})]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return xe(!1)},children:"Exit"}),"  ",Object(a.jsx)(g.a,{variant:"primary",onClick:function(){return be(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(V.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:X}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:X}}),oe||he?"":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g.a,{variant:"light",onClick:function(){return ie(!0)},children:"Edit"}),Object(a.jsx)(g.a,{variant:"primary",className:"float-right",onClick:function(){return j.push("/pk-webs/profile/".concat(C.id))},children:"Profile"})]})]})]})]})}var F=c(14),Y=c(332),R=c(343),H=c(338),J=(c(41),c(15)),q=c(337),B=c(333),K=c(57),G=c.n(K);function U(e){var t=JSON.parse(localStorage.getItem("user")).id,s=Object(n.useState)(e.member),r=Object(b.a)(s,2),i=r[0],l=r[1],j=Object(n.useState)(""),d=Object(b.a)(j,2),O=d[0],h=d[1],N=Object(n.useState)(""),C=Object(b.a)(N,2),S=C[0],k=C[1],_=Object(n.useState)(""),D=Object(b.a)(_,2),T=D[0],P=D[1],R=Object(n.useState)(""),K=Object(b.a)(R,2),U=K[0],W=K[1],Q=Object(n.useState)(""),Z=Object(b.a)(Q,2),X=Z[0],$=Z[1],ee=Object(n.useState)(""),te=Object(b.a)(ee,2),ce=te[0],ae=te[1],ne=Object(n.useState)(""),se=Object(b.a)(ne,2),re=se[0],ie=se[1],le=Object(n.useState)(""),je=Object(b.a)(le,2),oe=je[0],be=je[1],de=Object(n.useState)(""),Oe=Object(b.a)(de,2),he=Oe[0],xe=Oe[1],me=Object(n.useState)(i.proxy_tags),ue=Object(b.a)(me,2),ge=ue[0],pe=ue[1],fe=Object(n.useState)(!1),ye=Object(b.a)(fe,2),ve=ye[0],Ne=ye[1],Ce=Object(n.useState)(!1),Se=Object(b.a)(Ce,2),ke=Se[0],we=Se[1],Ie=Object(n.useState)(!1),_e=Object(b.a)(Ie,2),Le=_e[0],De=_e[1],Ae=Object(n.useState)(!1),Me=Object(b.a)(Ae,2),Te=Me[0],Ve=Me[1],Ee=Object(n.useState)(!1),ze=Object(b.a)(Ee,2),Pe=ze[0],Fe=ze[1],Ye=Object(n.useState)(!1),Re=Object(b.a)(Ye,2),He=Re[0],Je=Re[1],qe=function(){return Je(!1)},Be=Object(n.useState)(!1),Ke=Object(b.a)(Be,2),Ge=Ke[0],Ue=Ke[1],We=Object(n.useState)(!1),Qe=Object(b.a)(We,2),Ze=Qe[0],Xe=Qe[1],$e=Object(n.useState)(!1),et=Object(b.a)($e,2),tt=et[0],ct=et[1],at=Object(v.a)(),nt=at.register,st=at.handleSubmit,rt=Object(v.a)(),it=rt.register,lt=rt.handleSubmit,jt=Object(v.a)(),ot=jt.register,bt=jt.handleSubmit,dt=Object(v.a)(),Ot=dt.register,ht=dt.handleSubmit;Object(n.useEffect)((function(){L()(document.querySelectorAll("textarea"))})),Object(n.useEffect)((function(){var e=c(40).toHTML;if(i.display_name?h(i.display_name):h(""),i.birthday)if(P(i.birthday),i.birthday.startsWith("0004-")){var t=A()(i.birthday,"YYYY-MM-DD").format("MMM D");k(t)}else{var a=A()(i.birthday,"YYYY-MM-DD").format("MMM D, YYYY");k(a)}else k(""),P("");if(i.pronouns?(W(e(i.pronouns)),$(i.pronouns)):(W(""),$("")),i.avatar_url){var n=i.avatar_url.replace("&format=jpeg","");ae(n.replace("?width=256&height=256",""))}else ae("");i.color?ie(i.color):ie(""),i.description?(be(e(i.description)),xe(i.description)):(be("(no description)"),xe(""))}),[i.description,i.color,i.birthday,i.display_name,i.pronouns,i.avatar_url,i.proxy_tags]);var xt=function(t){e.edit(Object.assign(i,t)),fetch("".concat(E,"m/").concat(i.id),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){l((function(t){return Object(o.a)(Object(o.a)({},t),e)})),Ue(!1),Ne(!1)})).catch((function(e){console.error(e),Ue(!0)}))},mt=function(t){e.edit(Object.assign(i,t)),fetch("".concat(E,"m/").concat(i.id),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){l((function(t){return Object(o.a)(Object(o.a)({},t),e)})),Ue(!1),we(!1)})).catch((function(e){console.error(e),Ue(!0)}))},ut=function(e){e.memberID!==i.id?Xe(!0):fetch("".concat(E,"m/").concat(i.id),{method:"DELETE",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(){Ue(!1),ct(!0)})).catch((function(e){console.error(e),Ue(!0)}))};var gt=function(t){var c={proxy_tags:t.proxy_tags.filter((function(e){return!(""===e.prefix&&""===e.suffix)}))};e.edit(Object.assign(i,c)),fetch("".concat(E,"m/").concat(i.id),{method:"PATCH",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){l((function(t){return Object(o.a)(Object(o.a)({},t),e)})),pe(e.proxy_tags),Ue(!1),Fe(!1)})).catch((function(e){console.error(e),Ue(!0)}))};function pt(){return Object(a.jsxs)(m.a.Body,{style:{borderLeft:"5px solid #".concat(re)},children:[Ge?Object(a.jsx)(u.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",ve?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(p.a,{id:"Edit",onSubmit:st(xt),children:[Object(a.jsxs)(p.a.Row,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Name:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"name"},nt("name")),{},{defaultValue:i.name}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Display name: "}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"display_name"},nt("display_name")),{},{defaultValue:O}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Birthday:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({pattern:"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$",name:"birthday"},nt("birthday")),{},{defaultValue:T})),Object(a.jsx)(p.a.Text,{children:"(YYYY-MM-DD)"})]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Pronouns:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({maxLength:"100",name:"pronouns"},nt("pronouns")),{},{defaultValue:X}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Avatar url:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({type:"url",name:"avatar_url"},nt("avatar_url")),{},{defaultValue:ce}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Color:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({pattern:"[A-Fa-f0-9]{6}",name:"color"},nt("color")),{},{defaultValue:re})),Object(a.jsx)(p.a.Text,{children:"(hexcode)"})]})]}),Object(a.jsxs)(p.a.Group,{className:"mt-3",children:[Object(a.jsx)(p.a.Label,{children:"Description:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({maxLength:"1000",as:"textarea",name:"description"},nt("description")),{},{defaultValue:he}))]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return Ne(!1)},children:"Cancel"})," ",Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})," ",Object(a.jsx)(g.a,{variant:"danger",className:"float-right",onClick:function(){return Je((function(e){return!e}))},children:"Delete"})]}),Object(a.jsx)(M.a,{open:He,position:"top-center",modal:!0,children:Object(a.jsx)(x.a,{children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(m.a.Header,{children:Object(a.jsxs)("h5",{children:[Object(a.jsx)(w.i,{className:"mr-3"})," Are you sure you want to delete ",i.name,"?"]})}),Object(a.jsxs)(m.a.Body,{children:[Ze?Object(a.jsx)(u.a,{variant:"danger",children:"Incorrect ID, please check the spelling."}):"",Object(a.jsxs)("p",{children:["If you're sure you want to delete this member, please enter the member ID (",i.id,") below."]}),Object(a.jsxs)(p.a,{id:"Delete",onSubmit:bt(ut),children:[Object(a.jsx)(p.a.Label,{children:"Member ID:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({className:"mb-4",name:"memberID"},ot("memberID",{required:!0})),{},{placeholder:i.id})),Object(a.jsx)(g.a,{variant:"danger",type:"submit",children:"Delete"})," ",Object(a.jsx)(g.a,{variant:"light",className:"float-right",onClick:qe,children:"Cancel"})]})]})]})})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",i.id]}),i.display_name?localStorage.getItem("twemoji")?Object(a.jsx)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(V.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Display name: "}),O]})}):Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name:"})," ",O]}):"",i.birthday?Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",S]}):"",i.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(V.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:U}})]})}):Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:U}})]}):"",i.color?Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",re]}):"",Le||Te?"":Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Privacy:"})," ",Object(a.jsx)(g.a,{variant:"light",size:"sm",onClick:function(){return De(!0)},children:"View"})]}),Le||Te?"":Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(g.a,{variant:"light",size:"sm",onClick:function(){return Ve(!0)},children:"View"})]})]}),ke?Object(a.jsxs)(p.a,{id:"Privacy",onSubmit:lt(mt),children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing privacy settings"}),Object(a.jsxs)(p.a.Row,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Visibility:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"visibility",defaultValue:i.visibility,as:"select"},it("visibility")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Name:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"name_privacy",defaultValue:i.name_privacy,as:"select"},it("name_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Description:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"description_privacy",defaultValue:i.description_privacy,as:"select"},it("description_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Avatar:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"avatar_privacy",defaultValue:i.avatar_privacy,as:"select"},it("avatar_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Birthday:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"birthday_privacy",defaultValue:i.birthday_privacy,as:"select"},it("birthday_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Pronouns:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"pronoun_privacy",defaultValue:i.pronoun_privacy,as:"select"},it("pronoun_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Meta:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"metadata_privacy",defaultValue:i.metadata_privacy,as:"select"},it("metadata_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]})]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return we(!1)},children:"Cancel"})," ",Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)("hr",{})]}):Le?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing privacy settings"}),Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Visibility:"})," ",i.visibility]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Name: "}),i.name_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Description:"})," ",i.description_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Avatar:"})," ",i.avatar_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",i.birthday_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",i.pronoun_privacy]}),Object(a.jsxs)(f.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Meta:"})," ",i.metadata_privacy]})]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return De(!1)},children:"Exit"}),"  ",Object(a.jsx)(g.a,{variant:"primary",onClick:function(){return we(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Pe?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing proxy tags"}),Object(a.jsxs)(p.a,{onSubmit:ht(gt),children:[Object(a.jsxs)(p.a.Row,{children:[ge.map((function(e,t){return Object(a.jsx)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:Object(a.jsx)(p.a.Row,{children:Object(a.jsxs)(Y.a,{className:"ml-1 mr-1 mb-1",children:[Object(a.jsx)(p.a.Control,Object(o.a)({as:"textarea",rows:"1",name:"proxy_tags[".concat(t,"].prefix"),defaultValue:e.prefix},Ot("proxy_tags[".concat(t,"].prefix")))),Object(a.jsx)(p.a.Control,{as:"textarea",rows:"1",disabled:!0,placeholder:"text"}),Object(a.jsx)(p.a.Control,Object(o.a)({as:"textarea",rows:"1",name:"proxy_tags[".concat(t,"].suffix"),defaultValue:e.suffix},Ot("proxy_tags[".concat(t,"].suffix"))))]})})},t)}))," ",Object(a.jsx)(f.a,{className:"mb-2",xs:12,lg:3,children:Object(a.jsx)(g.a,{block:!0,variant:"light",onClick:function(){pe((function(e){return[].concat(Object(F.a)(e),[{prefix:"",suffix:""}])}))},children:"Add new"})})]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return Fe(!1),void pe(i.proxy_tags)},children:"Exit"})," ",Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(a.jsx)("hr",{})]}):Te?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(y.a,{className:"mb-2",children:0===ge.length?Object(a.jsx)(f.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):ge.map((function(e,t){return Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},t)}))}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return Ve(!1)},children:"Exit"}),"  ",Object(a.jsx)(g.a,{variant:"primary",onClick:function(){return Fe(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(V.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:oe}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:oe}}),Te||ke||Le?"":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g.a,{variant:"light",onClick:function(){return Ne(!0)},children:"Edit"})," ",Object(a.jsx)(J.a,{to:"dash/".concat(i.id),children:Object(a.jsx)(g.a,{variant:"primary",className:"float-right",children:"View page"})})]})]})," "]})}return tt?Object(a.jsx)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(g.a,{variant:"link",className:"float-left",children:[Object(a.jsx)(w.i,{className:"mr-4"}),"Member Deleted"]})}):Object(a.jsxs)(G.a,{offset:100,children:[Object(a.jsxs)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[" ","public"===i.visibility?Object(a.jsx)(q.a,{placement:"left",overlay:Object(a.jsx)(B.a,{children:"Copy public link"}),children:Object(a.jsx)(g.a,{variant:"link",onClick:function(){return function(){var e="https://spectralitree.github.io/pk-webs/profile/".concat(t,"/").concat(i.id),c=document.createElement("textarea");c.innerText=e,document.body.appendChild(c),c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(c)}()},children:Object(a.jsx)(w.c,{style:{fontSize:"1.25rem"}})})}):Object(a.jsx)(g.a,{variant:"link",children:Object(a.jsx)(w.d,{style:{fontSize:"1.25rem"}})}),localStorage.getItem("pagesonly")?Object(a.jsx)(J.a,{to:"dash/".concat(i.id),children:Object(a.jsxs)(g.a,{variant:"link",className:"float-left",children:[Object(a.jsx)("b",{children:i.name})," (",i.id,")"]})}):Object(a.jsxs)(H.a.Toggle,{as:g.a,variant:"link",eventKey:i.id,children:[" ",Object(a.jsx)("b",{children:i.name})," (",i.id,")"]})]}),i.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(i.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)("div",{className:"m-auto",style:{maxWidth:"640px"},children:Object(a.jsx)(I.a,{src:"".concat(ce),style:{maxWidth:"100%",height:"auto"},thumbnail:!0})})})}}):Object(a.jsx)(I.a,{src:z,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),localStorage.getItem("expandcards")?pt():Object(a.jsx)(H.a.Collapse,{eventKey:i.id,children:pt()})]})}function W(e){var t=Object(n.useState)(e.member),s=Object(b.a)(t,2),r=s[0],i=s[1],l=JSON.parse(localStorage.getItem("user")).id,d=Object(n.useState)(""),O=Object(b.a)(d,2),h=O[0],N=O[1],C=Object(n.useState)(""),S=Object(b.a)(C,2),k=S[0],_=S[1],D=Object(n.useState)(""),T=Object(b.a)(D,2),P=T[0],R=T[1],H=Object(n.useState)(""),K=Object(b.a)(H,2),G=K[0],U=K[1],W=Object(n.useState)(""),Q=Object(b.a)(W,2),Z=Q[0],X=Q[1],$=Object(n.useState)(""),ee=Object(b.a)($,2),te=ee[0],ce=ee[1],ae=Object(n.useState)(""),ne=Object(b.a)(ae,2),se=ne[0],re=ne[1],ie=Object(n.useState)(""),le=Object(b.a)(ie,2),je=le[0],oe=le[1],be=Object(n.useState)(""),de=Object(b.a)(be,2),Oe=de[0],he=de[1],xe=Object(n.useState)(r.proxy_tags),me=Object(b.a)(xe,2),ue=me[0],ge=me[1],pe=Object(n.useState)(!1),fe=Object(b.a)(pe,2),ye=fe[0],ve=fe[1],Ne=Object(n.useState)(!1),Ce=Object(b.a)(Ne,2),Se=Ce[0],ke=Ce[1],we=Object(n.useState)(!1),Ie=Object(b.a)(we,2),_e=Ie[0],Le=Ie[1],De=Object(n.useState)(!1),Ae=Object(b.a)(De,2),Me=Ae[0],Te=Ae[1],Ve=Object(n.useState)(!1),Ee=Object(b.a)(Ve,2),ze=Ee[0],Pe=Ee[1],Fe=Object(n.useState)(!1),Ye=Object(b.a)(Fe,2),Re=Ye[0],He=Ye[1],Je=Object(n.useState)(!1),qe=Object(b.a)(Je,2),Be=qe[0],Ke=qe[1],Ge=Object(n.useState)(!1),Ue=Object(b.a)(Ge,2),We=Ue[0],Qe=Ue[1],Ze=Object(n.useState)(!1),Xe=Object(b.a)(Ze,2),$e=Xe[0],et=Xe[1],tt=Object(v.a)(),ct=tt.register,at=tt.handleSubmit,nt=Object(v.a)(),st=nt.register,rt=nt.handleSubmit,it=Object(v.a)(),lt=it.register,jt=it.handleSubmit,ot=Object(v.a)(),bt=ot.register,dt=ot.handleSubmit;Object(n.useEffect)((function(){L()(document.querySelectorAll("textarea"))})),Object(n.useEffect)((function(){var e=c(40).toHTML;if(r.display_name?N(r.display_name):N(""),r.birthday)if(R(r.birthday),r.birthday.startsWith("0004-")){var t=A()(r.birthday,"YYYY-MM-DD").format("MMM D");_(t)}else{var a=A()(r.birthday,"YYYY-MM-DD").format("MMM D, YYYY");_(a)}else _(""),R("");if(r.pronouns?(U(e(r.pronouns)),X(r.pronouns)):(U(""),X("")),r.avatar_url){var n=r.avatar_url.replace("&format=jpeg","");ce(n.replace("?width=256&height=256",""))}else ce("");r.color?re(r.color):re(""),r.description?(oe(e(r.description)),he(r.description)):(oe("(no description)"),he(""))}),[r.description,r.color,r.birthday,r.display_name,r.pronouns,r.avatar_url,r.proxy_tags]);return $e?Object(a.jsxs)(m.a,{className:"mb-5",children:[Object(a.jsx)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(g.a,{variant:"link",className:"float-left",children:[Object(a.jsx)(w.i,{className:"mr-4"}),"Member Deleted"]})}),Object(a.jsxs)(m.a.Body,{children:["Member successfully deleted, click the button below to go back to the dash.",Object(a.jsx)(g.a,{variant:"primary",className:"float-right",onClick:function(){return j.push("/pk-webs/dash/reload")},children:"Back"})]})]}):Object(a.jsxs)(a.Fragment,{children:[localStorage.getItem("colorbg")?"":r.color?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"backdrop",style:{backgroundColor:"#".concat(se)}}),Object(a.jsx)("div",{className:"backdrop-overlay"})]}):"",Object(a.jsxs)(m.a,{className:"mb-5",children:[Object(a.jsxs)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[" ","public"===r.visibility?Object(a.jsx)(q.a,{placement:"left",overlay:Object(a.jsx)(B.a,{children:"Copy public link"}),children:Object(a.jsx)(g.a,{variant:"link",onClick:function(){return function(){var e="https://spectralitree.github.io/pk-webs/profile/".concat(l,"/").concat(r.id),t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)}()},children:Object(a.jsx)(w.c,{style:{fontSize:"1.25rem"}})})}):Object(a.jsx)(g.a,{variant:"link",children:Object(a.jsx)(w.d,{style:{fontSize:"1.25rem"}})}),Object(a.jsxs)(g.a,{variant:"link",children:[Object(a.jsx)("b",{children:r.name})," (",r.id,")"]})," "]}),r.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(r.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)("div",{className:"m-auto",style:{maxWidth:"640px"},children:Object(a.jsx)(I.a,{src:"".concat(te),style:{maxWidth:"100%",height:"auto"},thumbnail:!0})})})}}):Object(a.jsx)(I.a,{src:z,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(m.a.Body,{style:{borderLeft:localStorage.getItem("colorbg")?"5px solid #".concat(se):""},children:[Be?Object(a.jsx)(u.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",ye?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(p.a,{id:"Edit",onSubmit:at((function(t){e.edit(Object.assign(r,t)),fetch("".concat(E,"m/").concat(r.id),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){i((function(t){return Object(o.a)(Object(o.a)({},t),e)})),Ke(!1),ve(!1)})).catch((function(e){console.error(e),Ke(!0)}))})),children:[Object(a.jsxs)(p.a.Row,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Name:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"name"},ct("name")),{},{defaultValue:r.name}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Display name: "}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"display_name"},ct("display_name")),{},{defaultValue:h}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Birthday:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({pattern:"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$",name:"birthday"},ct("birthday")),{},{defaultValue:P})),Object(a.jsx)(p.a.Text,{children:"(YYYY-MM-DD)"})]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Pronouns:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({maxLength:"100",name:"pronouns"},ct("pronouns")),{},{defaultValue:Z}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Avatar url:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({type:"url",name:"avatar_url"},ct("avatar_url")),{},{defaultValue:te}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Color:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({pattern:"[A-Fa-f0-9]{6}",name:"color"},ct("color")),{},{defaultValue:se})),Object(a.jsx)(p.a.Text,{children:"(hexcode)"})]})]}),Object(a.jsxs)(p.a.Group,{className:"mt-3",children:[Object(a.jsx)(p.a.Label,{children:"Description:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({maxLength:"1000",as:"textarea",name:"description"},ct("description")),{},{defaultValue:Oe}))]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return ve(!1)},children:"Cancel"})," ",Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})," ",Object(a.jsx)(g.a,{variant:"danger",className:"float-right",onClick:function(){return He((function(e){return!e}))},children:"Delete"})]}),Object(a.jsx)(M.a,{open:Re,position:"top-center",modal:!0,children:Object(a.jsx)(x.a,{children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(m.a.Header,{children:Object(a.jsxs)("h5",{children:[Object(a.jsx)(w.i,{className:"mr-3"})," Are you sure you want to delete ",r.name,"?"]})}),Object(a.jsxs)(m.a.Body,{children:[We?Object(a.jsx)(u.a,{variant:"danger",children:"Incorrect ID, please check the spelling."}):"",Object(a.jsxs)("p",{children:["If you're sure you want to delete this member, please enter the member ID (",r.id,") below."]}),Object(a.jsxs)(p.a,{id:"Delete",onSubmit:jt((function(e){e.memberID!==r.id?Qe(!0):fetch("".concat(E,"m/").concat(r.id),{method:"DELETE",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(){Ke(!1),et(!0)})).catch((function(e){console.error(e),Ke(!0)}))})),children:[Object(a.jsx)(p.a.Label,{children:"Member ID:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({className:"mb-4",name:"memberID"},lt("memberID",{required:!0})),{},{placeholder:r.id})),Object(a.jsx)(g.a,{variant:"danger",type:"submit",children:"Delete"})," ",Object(a.jsx)(g.a,{variant:"light",className:"float-right",onClick:function(){return He(!1)},children:"Cancel"})]})]})]})})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",r.id]}),r.display_name?localStorage.getItem("twemoji")?Object(a.jsx)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(V.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Display name: "}),h]})}):Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name:"})," ",h]}):"",r.birthday?Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",k]}):"",r.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(V.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:G}})]})}):Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:G}})]}):"",r.color?Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",se]}):"",_e||Me?"":Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Privacy:"})," ",Object(a.jsx)(g.a,{variant:"light",size:"sm",onClick:function(){return Le(!0)},children:"View"})]}),_e||Me?"":Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(g.a,{variant:"light",size:"sm",onClick:function(){return Te(!0)},children:"View"})]})]}),Se?Object(a.jsxs)(p.a,{id:"Privacy",onSubmit:rt((function(t){e.edit(Object.assign(r,t)),fetch("".concat(E,"m/").concat(r.id),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){i((function(t){return Object(o.a)(Object(o.a)({},t),e)})),Ke(!1),ke(!1)})).catch((function(e){console.error(e),Ke(!0)}))})),children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing privacy settings"}),Object(a.jsxs)(p.a.Row,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Visibility:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"visibility",defaultValue:r.visibility,as:"select"},st("visibility")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Name:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"name_privacy",defaultValue:r.name_privacy,as:"select"},st("name_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Description:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"description_privacy",defaultValue:r.description_privacy,as:"select"},st("description_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Avatar:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"avatar_privacy",defaultValue:r.avatar_privacy,as:"select"},st("avatar_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Birthday:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"birthday_privacy",defaultValue:r.birthday_privacy,as:"select"},st("birthday_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Pronouns:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"pronoun_privacy",defaultValue:r.pronoun_privacy,as:"select"},st("pronoun_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Meta:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"metadata_privacy",defaultValue:r.metadata_privacy,as:"select"},st("metadata_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]})]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return ke(!1)},children:"Cancel"})," ",Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)("hr",{})]}):_e?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing privacy settings"}),Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Visibility:"})," ",r.visibility]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Name: "}),r.name_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Description:"})," ",r.description_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Avatar:"})," ",r.avatar_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",r.birthday_privacy]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",r.pronoun_privacy]}),Object(a.jsxs)(f.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Meta:"})," ",r.metadata_privacy]})]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return Le(!1)},children:"Exit"}),"  ",Object(a.jsx)(g.a,{variant:"primary",onClick:function(){return ke(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",ze?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing proxy tags"}),Object(a.jsxs)(p.a,{onSubmit:dt((function(t){var c={proxy_tags:t.proxy_tags.filter((function(e){return!(""===e.prefix&&""===e.suffix)}))};e.edit(Object.assign(r,c)),fetch("".concat(E,"m/").concat(r.id),{method:"PATCH",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){i((function(t){return Object(o.a)(Object(o.a)({},t),e)})),ge(e.proxy_tags),Ke(!1),Pe(!1)})).catch((function(e){console.error(e),Ke(!0)}))})),children:[Object(a.jsxs)(p.a.Row,{children:[ue.map((function(e,t){return Object(a.jsx)(f.a,{className:"mb-lg-2",xs:12,lg:2,children:Object(a.jsx)(p.a.Row,{children:Object(a.jsxs)(Y.a,{className:"ml-1 mr-1 mb-1",children:[Object(a.jsx)(p.a.Control,Object(o.a)({as:"textarea",rows:"1",name:"proxy_tags[".concat(t,"].prefix"),defaultValue:e.prefix},bt("proxy_tags[".concat(t,"].prefix")))),Object(a.jsx)(p.a.Control,{as:"textarea",rows:"1",disabled:!0,placeholder:"text"}),Object(a.jsx)(p.a.Control,Object(o.a)({as:"textarea",rows:"1",name:"proxy_tags[".concat(t,"].suffix"),defaultValue:e.suffix},bt("proxy_tags[".concat(t,"].suffix"))))]})})},t)}))," ",Object(a.jsx)(f.a,{className:"mb-2",xs:12,lg:3,children:Object(a.jsx)(g.a,{block:!0,variant:"light",onClick:function(){ge((function(e){return[].concat(Object(F.a)(e),[{prefix:"",suffix:""}])}))},children:"Add new"})})]}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return Pe(!1),void ge(r.proxy_tags)},children:"Exit"})," ",Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(a.jsx)("hr",{})]}):Me?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(y.a,{className:"mb-2",children:0===ue.length?Object(a.jsx)(f.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):ue.map((function(e,t){return Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},t)}))}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return Te(!1)},children:"Exit"}),"  ",Object(a.jsx)(g.a,{variant:"primary",onClick:function(){return Pe(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(V.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:je}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:je}}),Me||Se||_e?"":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g.a,{variant:"light",onClick:function(){return ve(!0)},children:"Edit"})," ",Object(a.jsx)(J.a,{to:"/pk-webs/dash",children:Object(a.jsx)(g.a,{variant:"primary",className:"float-right",children:"Back"})})]})]})," "]})]})]})}function Q(e){var t=Object(i.h)().memberID,c=e.members.filter((function(e){return e.id===t})),s=c.map((function(t){return Object(a.jsx)(W,{member:t,edit:e.edit},t.id)})),r=0===c.length;return Object(n.useEffect)((function(){c.length}),[c]),r?Object(a.jsxs)(u.a,{variant:"danger",children:["You do not have a member with the ID '",t,"' in your system. Please check the ID again."]}):Object(a.jsx)(a.Fragment,{children:s})}var Z=c(334);function X(){return Object(a.jsx)(x.a,{fluid:!0,className:"text-center",children:Object(a.jsx)(Z.a,{animation:"border"})})}function $(){var e=Object(i.i)().path,t=JSON.parse(localStorage.getItem("user")).id,c=Object(n.useState)(!1),s=Object(b.a)(c,2),r=s[0],l=s[1],j=Object(n.useState)(!1),d=Object(b.a)(j,2),O=d[0],h=d[1],N=Object(n.useState)(!1),C=Object(b.a)(N,2),S=C[0],k=C[1],I=Object(n.useState)(!1),_=Object(b.a)(I,2),L=_[0],D=_[1],A=Object(n.useState)(!1),T=Object(b.a)(A,2),V=T[0],z=T[1],P=Object(n.useState)(1),J=Object(b.a)(P,2),q=J[0],B=J[1],K=Object(n.useState)(25),G=Object(b.a)(K,2),W=G[0],Z=G[1],$=Object(n.useState)(!1),ee=Object(b.a)($,2),te=ee[0],ce=ee[1],ae=function(){return ce(!1)},ne=Object(n.useState)([]),se=Object(b.a)(ne,2),re=se[0],ie=se[1],le=Object(n.useState)("name"),je=Object(b.a)(le,2),oe=je[0],be=je[1],de=Object(n.useState)("all"),Oe=Object(b.a)(de,2),he=Oe[0],xe=Oe[1],me=Object(n.useState)("name"),ue=Object(b.a)(me,2),ge=ue[0],pe=ue[1],fe=Object(n.useState)(""),ye=Object(b.a)(fe,2),ve=ye[0],Ne=ye[1],Ce=Object(n.useState)([{prefix:"",suffix:""}]),Se=Object(b.a)(Ce,2),ke=Se[0],we=Se[1],Ie=Object(v.a)(),_e=Ie.register,Le=Ie.handleSubmit,De=Object(n.useCallback)((function(){l(!0),h(!1),Z(localStorage.getItem("expandcards")?10:25),fetch("".concat(E,"s/").concat(t,"/members"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){ie(e),l(!1)})).catch((function(e){console.log(e),h(!0),l(!1)}))}),[t]);Object(n.useEffect)((function(){De()}),[De]);var Ae=q*W,Me=Ae-W,Te=re.map((function(e){return e.display_name?Object(o.a)(Object(o.a)({},e),{},{displayName:e.display_name}):Object(o.a)(Object(o.a)({},e),{},{displayName:e.name})})).map((function(e){return e.description?Object(o.a)(Object(o.a)({},e),{},{desc:e.description}):Object(o.a)(Object(o.a)({},e),{},{desc:"(no description)"})})).filter((function(e){if(!ve&"all"===he)return!0;if("private"===he){if("private"!==e.visibility)return!1}else if("public"===he&&"public"!==e.visibility)return!1;return"name"===oe?!!e.name.toLowerCase().includes(ve.toLowerCase()):"display name"===oe?!!e.displayName.toLowerCase().includes(ve.toLowerCase()):"description"===oe?!!e.desc.toLowerCase().includes(ve.toLowerCase()):"ID"===oe&&!!e.id.toLowerCase().includes(ve.toLowerCase())})),Ve=q,Ee=Math.ceil(Te.length/W),ze=Te;"name"===ge?ze=Te.sort((function(e,t){return e.name.localeCompare(t.name)})).slice(Me,Ae):"display name"===ge?ze=Te.sort((function(e,t){return e.displayName.localeCompare(t.displayName)})).slice(Me,Ae):"ID"===ge?ze=Te.sort((function(e,t){return e.id.localeCompare(t.id)})).slice(Me,Ae):"date created"===ge&&(ze=Te.sort((function(e,t){return e.created.localeCompare(t.created)})).slice(Me,Ae));var Pe=ze.map((function(e){return Object(a.jsx)(m.a,{className:localStorage.getItem("expandcards")?"mb-3":"",children:Object(a.jsx)(U,{member:e,edit:function(e){return ie(re.map((function(t){return t.id===e.id?Object.assign(t,e):t})))}})},e.id)}));return Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:e,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(y.a,{className:"mb-lg-3 justfiy-content-md-center",children:[Object(a.jsx)(f.a,{xs:12,lg:4,children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(Y.a,{className:"mb-3",children:[Object(a.jsx)(p.a.Control,{disabled:!0,placeholder:"Page length:"}),Object(a.jsxs)(p.a.Control,{as:"select",defaultValue:localStorage.getItem("expandcards")?10:25,onChange:function(e){Z(e.target.value),B(1)},children:[Object(a.jsx)("option",{children:"10"}),Object(a.jsx)("option",{children:"25"}),Object(a.jsx)("option",{children:"50"}),Object(a.jsx)("option",{children:"100"})]})]})})}),Object(a.jsx)(f.a,{xs:12,lg:4,children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(Y.a,{className:"mb-3",children:[Object(a.jsx)(p.a.Control,{disabled:!0,placeholder:"Search by:"}),Object(a.jsxs)(p.a.Control,{as:"select",defaultValue:oe,onChange:function(e){be(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"description"}),Object(a.jsx)("option",{children:"ID"})]})]})})}),Object(a.jsx)(f.a,{xs:12,lg:4,children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(Y.a,{className:"mb-3",children:[Object(a.jsx)(p.a.Control,{disabled:!0,placeholder:"Sort by:"}),Object(a.jsxs)(p.a.Control,{as:"select",defaultValue:ge,onChange:function(e){pe(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"ID"}),Object(a.jsx)("option",{children:"date created"})]})]})})})]}),Object(a.jsxs)(y.a,{className:"justify-content-md-center",children:[Object(a.jsx)(f.a,{xs:12,lg:3,children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(Y.a,{className:"mb-3",children:[Object(a.jsx)(p.a.Control,{disabled:!0,placeholder:"Only show:"}),Object(a.jsxs)(p.a.Control,{as:"select",defaultValue:he,onChange:function(e){xe(e.target.value)},children:[Object(a.jsx)("option",{children:"all"}),Object(a.jsx)("option",{children:"private"}),Object(a.jsx)("option",{children:"public"})]})]})})}),Object(a.jsx)(f.a,{className:"mb-3",xs:12,lg:7,children:Object(a.jsx)(p.a,{children:Object(a.jsx)(p.a.Control,{value:ve,onChange:function(e){Ne(e.target.value),B(1)},placeholder:"Search by ".concat(oe)})})}),Object(a.jsx)(f.a,{className:"mb-3",xs:12,lg:2,children:Object(a.jsx)(g.a,{type:"primary",className:"m-0",block:!0,onClick:function(){return De()},children:"Refresh"})})]}),Object(a.jsx)(y.a,{className:"justify-content-md-center",children:Object(a.jsxs)(R.a,{className:"ml-auto mr-auto",children:[1===q?Object(a.jsx)(R.a.Prev,{disabled:!0}):Object(a.jsx)(R.a.Prev,{onClick:function(){return B(q-1)}}),q<3?"":Object(a.jsx)(R.a.Item,{onClick:function(){return B(1)},active:1===Ve,children:1}),q<4?"":q<5?Object(a.jsx)(R.a.Item,{onClick:function(){return B(2)},active:2===Ve,children:2}):Object(a.jsx)(R.a.Ellipsis,{disabled:!0}),q>1?Object(a.jsx)(R.a.Item,{onClick:function(){return B(q-1)},children:q-1}):"",Object(a.jsx)(R.a.Item,{onClick:function(){return B(q)},active:q===Ve,children:q}),q<Ee?Object(a.jsx)(R.a.Item,{onClick:function(){return B(q+1)},children:q+1}):"",q>Ee-3?"":q===Ee-3?Object(a.jsx)(R.a.Item,{onClick:function(){return B(Ee-1)},active:Ee-1===Ve,children:Ee-1}):Object(a.jsx)(R.a.Ellipsis,{disabled:!0}),q>Ee-2?"":Object(a.jsx)(R.a.Item,{onClick:function(){return B(Ee)},active:Ee===Ve,children:Ee}),q===Ee?Object(a.jsx)(R.a.Next,{disabled:!0}):Object(a.jsx)(R.a.Next,{onClick:function(){return B(q+1)}})]})}),r?Object(a.jsx)(X,{}):O?Object(a.jsx)(u.a,{variant:"danger",children:"Error fetching members."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.a,{className:"w-100",children:Object(a.jsxs)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(g.a,{variant:"link",className:"float-left",onClick:function(){return ce((function(e){return!e}))},children:[Object(a.jsx)(w.f,{className:"mr-4"}),"Add Member"]}),Object(a.jsx)(M.a,{open:te,position:"top-center",modal:!0,children:Object(a.jsx)(x.a,{children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(m.a.Header,{children:Object(a.jsxs)("h5",{children:[Object(a.jsx)(w.f,{className:"mr-3"})," Add member "]})}),Object(a.jsxs)(m.a.Body,{children:[S?Object(a.jsx)(u.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",Object(a.jsxs)(p.a,{onSubmit:Le((function(e){l(!0);var t=e.proxy_tags?Object(o.a)(Object(o.a)({},e),{},{proxy_tags:e.proxy_tags.filter((function(e){return!(""===e.prefix&&""===e.suffix)}))}):e;fetch("".concat(E,"m/"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){k(!1),ae(),De()})).catch((function(e){console.error(e),k(!0)}))})),children:[Object(a.jsx)(p.a.Text,{}),Object(a.jsxs)(p.a.Row,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Name:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"name"},_e("name")),{},{defaultValue:"",required:!0}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Display name: "}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"display_name"},_e("display_name")),{},{defaultValue:""}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Birthday:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({pattern:"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$",name:"birthday"},_e("birthday")),{},{defaultValue:""})),Object(a.jsx)(p.a.Text,{children:"(YYYY-MM-DD)"})]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Pronouns:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"pronouns"},_e("pronouns")),{},{defaultValue:""}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Avatar url:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({type:"url",name:"avatar_url"},_e("avatar_url")),{},{defaultValue:""}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Color:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({pattern:"[A-Fa-f0-9]{6}",name:"color"},_e("color")),{},{defaultValue:""})),Object(a.jsx)(p.a.Text,{children:"(hexcode)"})]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:2,children:[Object(a.jsx)(p.a.Label,{children:"Proxy tags:"}),Object(a.jsxs)(g.a,{variant:"primary",block:!0,onClick:function(){return D((function(e){return!e}))},children:[" ",L?"Hide":"Show"]})]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:2,children:[Object(a.jsx)(p.a.Label,{children:"Privacy settings:"}),Object(a.jsxs)(g.a,{variant:"primary",block:!0,onClick:function(){return z((function(e){return!e}))},children:[" ",V?"Hide":"Show"]})]})]}),Object(a.jsx)("hr",{}),L?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:"Proxy Tags"}),Object(a.jsxs)(p.a.Row,{children:[ke.map((function(e,t){return Object(a.jsx)(f.a,{className:"mb-lg-2",xs:12,lg:2,children:Object(a.jsx)(p.a.Row,{children:Object(a.jsxs)(Y.a,{className:"ml-1 mr-1 mb-1",children:[Object(a.jsx)(p.a.Control,Object(o.a)({name:"proxy_tags[".concat(t,"].prefix"),defaultValue:e.prefix},_e("proxy_tags[".concat(t,"].prefix")))),Object(a.jsx)(p.a.Control,{disabled:!0,placeholder:"text"}),Object(a.jsx)(p.a.Control,Object(o.a)({name:"proxy_tags[".concat(t,"].suffix"),defaultValue:e.suffix},_e("proxy_tags[".concat(t,"].suffix"))))]})})},t)}))," ",Object(a.jsx)(f.a,{className:"mb-lg-2",xs:12,lg:2,children:Object(a.jsx)(g.a,{block:!0,variant:"light",onClick:function(){we((function(e){return[].concat(Object(F.a)(e),[{prefix:"",suffix:""}])}))},children:"Add new"})})]}),Object(a.jsx)("hr",{})]}):"",V?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:"privacy settings"}),Object(a.jsxs)(p.a.Row,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Visibility:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"visibility",as:"select"},_e("visibility")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Name:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"name_privacy",as:"select"},_e("name_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Description:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"description_privacy",as:"select"},_e("description_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Birthday:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"birthday_privacy",as:"select"},_e("birthday_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Pronouns:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"pronoun_privacy",as:"select"},_e("pronoun_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(f.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)(p.a.Label,{children:"Meta:"}),Object(a.jsxs)(p.a.Control,Object(o.a)(Object(o.a)({name:"metadata_privacy",as:"select"},_e("metadata_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]})]}),Object(a.jsx)("hr",{})]}):"",Object(a.jsxs)(p.a.Group,{className:"mt-3",children:[Object(a.jsx)(p.a.Label,{children:"Description:"}),Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({maxLength:"1000",as:"textarea",rows:"7",name:"description"},_e("description")),{},{defaultValue:""}))]}),Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})," ",Object(a.jsx)(g.a,{variant:"light",className:"float-right",onClick:ae,children:"Cancel"})]})]})]})})})]})}),Object(a.jsx)(H.a,{className:"mb-3 mt-3 w-100",defaultActiveKey:"0",children:Pe}),Object(a.jsx)(y.a,{className:"justify-content-md-center",children:Object(a.jsxs)(R.a,{className:"ml-auto mr-auto",children:[1===q?Object(a.jsx)(R.a.Prev,{disabled:!0}):Object(a.jsx)(R.a.Prev,{onClick:function(){return B(q-1)}}),q<3?"":Object(a.jsx)(R.a.Item,{onClick:function(){return B(1)},active:1===Ve,children:1}),q<4?"":q<5?Object(a.jsx)(R.a.Item,{onClick:function(){return B(2)},active:2===Ve,children:2}):Object(a.jsx)(R.a.Ellipsis,{disabled:!0}),q>1?Object(a.jsx)(R.a.Item,{onClick:function(){return B(q-1)},children:q-1}):"",Object(a.jsx)(R.a.Item,{onClick:function(){return B(q)},active:q===Ve,children:q}),q<Ee?Object(a.jsx)(R.a.Item,{onClick:function(){return B(q+1)},children:q+1}):"",q>Ee-3?"":q===Ee-3?Object(a.jsx)(R.a.Item,{onClick:function(){return B(Ee-1)},active:Ee-1===Ve,children:Ee-1}):Object(a.jsx)(R.a.Ellipsis,{disabled:!0}),q>Ee-2?"":Object(a.jsx)(R.a.Item,{onClick:function(){return B(Ee)},active:Ee===Ve,children:Ee}),q===Ee?Object(a.jsx)(R.a.Next,{disabled:!0}):Object(a.jsx)(R.a.Next,{onClick:function(){return B(q+1)}})]})})]})]})}),Object(a.jsx)(i.b,{path:"".concat(e,"/:memberID"),children:r?Object(a.jsx)(X,{}):Object(a.jsx)(Q,{members:re,edit:function(e){return ie(re.map((function(t){return t.id===e.id?Object.assign(t,e):t})))}})})]})}function ee(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P,{}),Object(a.jsx)($,{})]})}function te(){return Object(a.jsx)(d.a,{className:"mt-4 align-items-center justify-content-between footer",children:Object(a.jsxs)(h.a,{children:[Object(a.jsx)(h.a.Item,{children:Object(a.jsx)(h.a.Link,{rel:"noreferrer",target:"_blank",href:"https://pluralkit.me/",children:"Pluralkit.me"})}),Object(a.jsx)(h.a.Item,{children:Object(a.jsx)(h.a.Link,{rel:"noreferrer",target:"_blank",href:"https://github.com/Spectralitree/pk-webs/",children:"Github"})}),Object(a.jsx)(h.a.Item,{children:Object(a.jsx)(h.a.Link,{rel:"noreferrer",target:"_blank",href:"https://ko-fi.com/spectralitree",children:"Ko-fi"})})]})})}function ce(e){var t=Object(i.h)().sysID,s=e.member,r=Object(n.useState)(""),l=Object(b.a)(r,2),j=l[0],o=l[1],d=Object(n.useState)(""),O=Object(b.a)(d,2),h=O[0],x=O[1],u=Object(n.useState)(""),p=Object(b.a)(u,2),v=p[0],N=p[1],C=Object(n.useState)(""),S=Object(b.a)(C,2),k=S[0],_=S[1],D=Object(n.useState)(""),T=Object(b.a)(D,2),E=T[0],P=T[1],F=Object(n.useState)(""),Y=Object(b.a)(F,2),R=Y[0],K=Y[1],U=s.proxy_tags,W=Object(n.useState)(!1),Q=Object(b.a)(W,2),Z=Q[0],X=Q[1];function $(){return Object(a.jsxs)(m.a.Body,{style:{borderLeft:"5px solid #".concat(E)},children:[Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",s.id]}),s.display_name?localStorage.getItem("twemoji")?Object(a.jsx)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(V.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Display name: "}),h]})}):Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name:"})," ",h]}):"",s.birthday?Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",v]}):"",s.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(V.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:k}})]})}):Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:k}})]}):"",s.color?Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",E]}):"",Z?"":Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(g.a,{variant:"light",size:"sm",onClick:function(){return X(!0)},children:"View"})]})]}),Z?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(y.a,{className:"mb-2",children:0===U.length?Object(a.jsx)(f.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):U.map((function(e){return Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},e.index)}))}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return X(!1)},children:"Exit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(V.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:R}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:R}}),Object(a.jsx)(y.a,{children:Object(a.jsx)(f.a,{children:Object(a.jsx)(J.a,{to:"".concat(t,"/").concat(s.id),children:Object(a.jsx)(g.a,{variant:"primary",className:"float-right",children:"View page"})})})})," "]})}return Object(n.useEffect)((function(){L()(document.querySelector("textarea"))})),Object(n.useEffect)((function(){var e=c(40).toHTML;if(s.display_name?x(s.display_name):x(""),s.birthday)if(s.birthday.startsWith("0004-")){var t=A()(s.birthday,"YYYY-MM-DD").format("MMM D");N(t)}else{var a=A()(s.birthday,"YYYY-MM-DD").format("MMM D, YYYY");N(a)}else N("");if(s.avatar_url){var n=s.avatar_url.replace("&format=jpeg","");o(n.replace("?width=256&height=256",""))}else o("");s.pronouns?_(e(s.pronouns)):_(""),s.color?P(s.color):P(""),s.description?K(e(s.description)):K("(no description)")}),[s.description,s.color,s.birthday,s.display_name,s.pronouns,s.avatar_url,s.proxy_tags]),Object(a.jsxs)(G.a,{offset:100,children:[Object(a.jsxs)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[" ",Object(a.jsx)(q.a,{placement:"left",overlay:Object(a.jsx)(B.a,{children:"Copy link"}),children:Object(a.jsx)(g.a,{variant:"link",onClick:function(){return function(){var e="https://spectralitree.github.io/pk-webs/profile/".concat(t,"/").concat(s.id),c=document.createElement("textarea");c.innerText=e,document.body.appendChild(c),c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(c)}()},children:Object(a.jsx)(w.c,{style:{fontSize:"1.25rem"}})})}),localStorage.getItem("pagesonly")?Object(a.jsx)(J.a,{to:"".concat(t,"/").concat(s.id),children:Object(a.jsxs)(g.a,{variant:"link",children:[" ",Object(a.jsx)("b",{children:s.name})," (",s.id,")"]})}):Object(a.jsxs)(H.a.Toggle,{as:g.a,variant:"link",eventKey:s.id,children:[" ",Object(a.jsx)("b",{children:s.name})," (",s.id,")"]})]}),s.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(s.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)("div",{className:"m-auto",style:{maxWidth:"640px"},children:Object(a.jsx)(I.a,{src:"".concat(j),style:{maxWidth:"100%",height:"auto"},thumbnail:!0})})})}}):Object(a.jsx)(I.a,{src:z,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),localStorage.getItem("expandcards")?$():Object(a.jsx)(H.a.Collapse,{eventKey:s.id,children:$()})]})}function ae(e){var t=Object(i.g)(),s=e.member,r=Object(n.useState)(""),l=Object(b.a)(r,2),j=l[0],o=l[1],d=Object(n.useState)(""),O=Object(b.a)(d,2),h=O[0],x=O[1],p=Object(n.useState)(""),v=Object(b.a)(p,2),N=v[0],C=v[1],S=Object(n.useState)(""),k=Object(b.a)(S,2),_=k[0],D=k[1],T=Object(n.useState)(""),E=Object(b.a)(T,2),P=E[0],F=E[1],Y=Object(n.useState)(""),R=Object(b.a)(Y,2),H=R[0],K=R[1],G=s.proxy_tags,U=Object(n.useState)(!1),W=Object(b.a)(U,2),Q=W[0],Z=W[1];return Object(n.useEffect)((function(){L()(document.querySelector("textarea"))})),Object(n.useEffect)((function(){var e=c(40).toHTML;if(s.display_name?x(s.display_name):x(""),s.birthday)if(s.birthday.startsWith("0004-")){var t=A()(s.birthday,"YYYY-MM-DD").format("MMM D");C(t)}else{var a=A()(s.birthday,"YYYY-MM-DD").format("MMM D, YYYY");C(a)}else C("");if(s.avatar_url){var n=s.avatar_url.replace("&format=jpeg","");o(n.replace("?width=256&height=256",""))}else o("");s.pronouns?D(e(s.pronouns)):D(""),s.color?F(s.color):F(""),s.description?K(e(s.description)):K("(no description)")}),[s.description,s.color,s.birthday,s.display_name,s.pronouns,s.avatar_url,s.proxy_tags]),Object(a.jsxs)(a.Fragment,{children:[localStorage.getItem("colorbg")?"":s.color?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"backdrop",style:{backgroundColor:"#".concat(P)}}),Object(a.jsx)("div",{className:"backdrop-overlay"})]}):"",Object(a.jsxs)(u.a,{variant:"primary",children:["You are currently ",Object(a.jsx)("b",{children:"viewing"})," a member."]}),Object(a.jsxs)(m.a,{className:"mb-5",children:[Object(a.jsxs)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[" ",Object(a.jsx)(q.a,{placement:"left",overlay:Object(a.jsx)(B.a,{children:"Copy link"}),children:Object(a.jsx)(g.a,{variant:"link",onClick:function(){return function(){var e="https://spectralitree.github.io".concat(t.pathname),c=document.createElement("textarea");c.innerText=e,document.body.appendChild(c),c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(c)}()},children:Object(a.jsx)(w.c,{style:{fontSize:"1.25rem"}})})}),Object(a.jsxs)(g.a,{variant:"link",children:[Object(a.jsx)("b",{children:s.name})," (",s.id,")"]})]}),s.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(s.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)("div",{className:"m-auto",style:{maxWidth:"640px"},children:Object(a.jsx)(I.a,{src:"".concat(j),style:{maxWidth:"100%",height:"auto"},thumbnail:!0})})})}}):Object(a.jsx)(I.a,{src:z,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(m.a.Body,{style:{borderLeft:localStorage.getItem("colorbg")?"5px solid #".concat(P):""},children:[Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",s.id]}),s.display_name?localStorage.getItem("twemoji")?Object(a.jsx)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(V.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Display name: "}),h]})}):Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name:"})," ",h]}):"",s.birthday?Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",N]}):"",s.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(V.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:_}})]})}):Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:_}})]}):"",s.color?Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",P]}):"",Q?"":Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(g.a,{variant:"light",size:"sm",onClick:function(){return Z(!0)},children:"View"})]})]}),Q?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(y.a,{className:"mb-2",children:0===G.length?Object(a.jsx)(f.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):G.map((function(e){return Object(a.jsxs)(f.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},e.index)}))}),Object(a.jsx)(g.a,{variant:"light",onClick:function(){return Z(!1)},children:"Exit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(V.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:H}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:H}}),Object(a.jsx)(y.a,{children:Object(a.jsx)(f.a,{children:Object(a.jsx)(J.a,{to:t.pathname.substring(0,t.pathname.lastIndexOf("/")),children:Object(a.jsx)(g.a,{variant:"primary",className:"float-right",children:"Back"})})})})]})]})]})}function ne(e){var t=Object(i.h)().memberID,c=e.members.filter((function(e){return e.id===t})),s=c.map((function(e){return Object(a.jsx)(ae,{member:e},e.id)})),r=0===c.length;return Object(n.useEffect)((function(){c.length}),[c]),r?Object(a.jsxs)(u.a,{variant:"danger",children:["This system does not have a member with the ID '",t,"', or the member's visibility is set to private."]}):Object(a.jsx)(a.Fragment,{children:s})}function se(){var e=Object(i.i)().path,t=Object(i.h)().sysID,c=Object(n.useState)(!1),s=Object(b.a)(c,2),r=s[0],l=s[1],j=Object(n.useState)(!1),d=Object(b.a)(j,2),O=d[0],h=d[1],x=Object(n.useState)(1),v=Object(b.a)(x,2),N=v[0],C=v[1],S=Object(n.useState)(25),k=Object(b.a)(S,2),w=k[0],I=k[1],_=Object(n.useState)([]),L=Object(b.a)(_,2),D=L[0],A=L[1],M=Object(n.useState)("name"),T=Object(b.a)(M,2),V=T[0],z=T[1],P=Object(n.useState)("name"),F=Object(b.a)(P,2),J=F[0],q=F[1],B=Object(n.useState)(""),K=Object(b.a)(B,2),G=K[0],U=K[1],W=Object(n.useCallback)((function(){l(!0),h(!1),I(localStorage.getItem("expandcards")?10:25),fetch("".concat(E,"s/").concat(t,"/members"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){A(e),l(!1)})).catch((function(e){console.log(e),h(!0),l(!1)}))}),[t]);Object(n.useEffect)((function(){W()}),[W]);var Q=N*w,Z=Q-w,$=D.map((function(e){return e.display_name?Object(o.a)(Object(o.a)({},e),{},{displayName:e.display_name}):Object(o.a)(Object(o.a)({},e),{},{displayName:e.name})})).map((function(e){return e.description?Object(o.a)(Object(o.a)({},e),{},{desc:e.description}):Object(o.a)(Object(o.a)({},e),{},{desc:"(no description)"})})).filter((function(e){return!G||("name"===V?!!e.name.toLowerCase().includes(G.toLowerCase()):"display name"===V?!!e.displayName.toLowerCase().includes(G.toLowerCase()):"description"===V?!!e.desc.toLowerCase().includes(G.toLowerCase()):"ID"===V&&!!e.id.toLowerCase().includes(G.toLowerCase()))})),ee=N,te=Math.ceil($.length/w),ae=$;"name"===J?ae=$.sort((function(e,t){return e.name.localeCompare(t.name)})).slice(Z,Q):"display name"===J?ae=$.sort((function(e,t){return e.displayName.localeCompare(t.displayName)})).slice(Z,Q):"ID"===J&&(ae=$.sort((function(e,t){return e.id.localeCompare(t.id)})).slice(Z,Q));var se=ae.map((function(e){return Object(a.jsx)(m.a,{className:localStorage.getItem("expandcards")?"mb-3":"",children:Object(a.jsx)(ce,{member:e})},e.id)}));return Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:e,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(y.a,{className:"mb-lg-3 justfiy-content-md-center",children:[Object(a.jsx)(f.a,{xs:12,lg:4,children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(Y.a,{className:"mb-3",children:[Object(a.jsx)(p.a.Control,{disabled:!0,placeholder:"Page length:"}),Object(a.jsxs)(p.a.Control,{as:"select",defaultValue:localStorage.getItem("expandcards")?10:25,onChange:function(e){I(e.target.value),C(1)},children:[Object(a.jsx)("option",{children:"10"}),Object(a.jsx)("option",{children:"25"}),Object(a.jsx)("option",{children:"50"}),Object(a.jsx)("option",{children:"100"})]})]})})}),Object(a.jsx)(f.a,{xs:12,lg:4,children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(Y.a,{className:"mb-3",children:[Object(a.jsx)(p.a.Control,{disabled:!0,placeholder:"Search by:"}),Object(a.jsxs)(p.a.Control,{as:"select",defaultValue:V,onChange:function(e){z(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"description"}),Object(a.jsx)("option",{children:"ID"})]})]})})}),Object(a.jsx)(f.a,{xs:12,lg:4,children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(Y.a,{className:"mb-3",children:[Object(a.jsx)(p.a.Control,{disabled:!0,placeholder:"Sort by:"}),Object(a.jsxs)(p.a.Control,{as:"select",defaultValue:J,onChange:function(e){q(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"ID"})]})]})})})]}),Object(a.jsxs)(y.a,{className:"justify-content-md-center",children:[Object(a.jsx)(f.a,{className:"mb-3",xs:12,lg:7,children:Object(a.jsx)(p.a,{children:Object(a.jsx)(p.a.Control,{value:G,onChange:function(e){U(e.target.value),C(1)},placeholder:"Search by ".concat(V)})})}),Object(a.jsx)(f.a,{className:"mb-3",xs:12,lg:2,children:Object(a.jsx)(g.a,{type:"primary",className:"m-0",block:!0,onClick:function(){return W()},children:"Refresh"})})]}),Object(a.jsx)(y.a,{className:"justify-content-md-center",children:Object(a.jsxs)(R.a,{className:"ml-auto mr-auto",children:[1===N?Object(a.jsx)(R.a.Prev,{disabled:!0}):Object(a.jsx)(R.a.Prev,{onClick:function(){return C(N-1)}}),N<3?"":Object(a.jsx)(R.a.Item,{onClick:function(){return C(1)},active:1===ee,children:1}),N<4?"":N<5?Object(a.jsx)(R.a.Item,{onClick:function(){return C(2)},active:2===ee,children:2}):Object(a.jsx)(R.a.Ellipsis,{disabled:!0}),N>1?Object(a.jsx)(R.a.Item,{onClick:function(){return C(N-1)},children:N-1}):"",Object(a.jsx)(R.a.Item,{onClick:function(){return C(N)},active:N===ee,children:N}),N<te?Object(a.jsx)(R.a.Item,{onClick:function(){return C(N+1)},children:N+1}):"",N>te-3?"":N===te-3?Object(a.jsx)(R.a.Item,{onClick:function(){return C(te-1)},active:te-1===ee,children:te-1}):Object(a.jsx)(R.a.Ellipsis,{disabled:!0}),N>te-2?"":Object(a.jsx)(R.a.Item,{onClick:function(){return C(te)},active:te===ee,children:te}),N===te?Object(a.jsx)(R.a.Next,{disabled:!0}):Object(a.jsx)(R.a.Next,{onClick:function(){return C(N+1)}})]})}),r?Object(a.jsx)(X,{}):O?Object(a.jsx)(u.a,{variant:"danger",children:"Error fetching members."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(H.a,{className:"mb-3 mt-3 w-100",defaultActiveKey:"0",children:se}),Object(a.jsx)(y.a,{className:"justify-content-md-center",children:Object(a.jsxs)(R.a,{className:"ml-auto mr-auto",children:[1===N?Object(a.jsx)(R.a.Prev,{disabled:!0}):Object(a.jsx)(R.a.Prev,{onClick:function(){return C(N-1)}}),N<3?"":Object(a.jsx)(R.a.Item,{onClick:function(){return C(1)},active:1===ee,children:1}),N<4?"":N<5?Object(a.jsx)(R.a.Item,{onClick:function(){return C(2)},active:2===ee,children:2}):Object(a.jsx)(R.a.Ellipsis,{disabled:!0}),N>1?Object(a.jsx)(R.a.Item,{onClick:function(){return C(N-1)},children:N-1}):"",Object(a.jsx)(R.a.Item,{onClick:function(){return C(N)},active:N===ee,children:N}),N<te?Object(a.jsx)(R.a.Item,{onClick:function(){return C(N+1)},children:N+1}):"",N>te-3?"":N===te-3?Object(a.jsx)(R.a.Item,{onClick:function(){return C(te-1)},active:te-1===ee,children:te-1}):Object(a.jsx)(R.a.Ellipsis,{disabled:!0}),N>te-2?"":Object(a.jsx)(R.a.Item,{onClick:function(){return C(te)},active:te===ee,children:te}),N===te?Object(a.jsx)(R.a.Next,{disabled:!0}):Object(a.jsx)(R.a.Next,{onClick:function(){return C(N+1)}})]})})]})]})}),Object(a.jsx)(i.b,{path:"/pk-webs/profile/".concat(t,"/:memberID"),children:r?Object(a.jsx)(X,{}):Object(a.jsx)(ne,{members:D})})]})}function re(){var e=Object(i.i)("/pk-webs/profile/:sysID/:memberID"),t=Object(i.h)().sysID,s=Object(n.useState)(""),r=Object(b.a)(s,2),l=r[0],j=r[1],o=Object(n.useState)(""),d=Object(b.a)(o,2),O=d[0],h=d[1],x=Object(n.useState)(""),g=Object(b.a)(x,2),p=g[0],v=g[1],N=Object(n.useState)(""),C=Object(b.a)(N,2),S=C[0],k=C[1],_=Object(n.useState)(""),L=Object(b.a)(_,2),D=L[0],A=L[1],T=Object(n.useState)(""),P=Object(b.a)(T,2),F=P[0],Y=P[1],R=Object(n.useState)(!0),H=Object(b.a)(R,2),J=H[0],q=H[1],B=Object(n.useState)(!1),K=Object(b.a)(B,2),G=K[0],U=K[1];return Object(n.useEffect)((function(){fetch("".concat(E,"s/").concat(t),{method:"GET"}).then((function(e){return e.json()})).then((function(e){j(e),q(!1)})).catch((function(e){console.log(e),U(!0),q(!1)}))}),[t]),Object(n.useEffect)((function(){var e=c(40).toHTML;if(l.name?h(l.name):h(""),l.avatar_url){var t=l.avatar_url.replace("&format=jpeg","");Y(t.replace("?width=256&height=256",""))}else Y("");l.tag?v(l.tag):v(""),l.tz?k(l.tz):k(""),l.description?A(e(l.description)):A("(no description)")}),[l.description,l.tag,l.avatar_url,l.tz,l.name]),e?Object(a.jsx)(se,{sysID:t}):Object(a.jsx)(a.Fragment,{children:J?Object(a.jsx)(X,{}):G?Object(a.jsx)(u.a,{variant:"danger",children:"Something went wrong, either the system doesn't exist, or there was an error fetching data."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{variant:"primary",children:["You are currently ",Object(a.jsx)("b",{children:"viewing"})," a system."]}),Object(a.jsxs)(m.a,{className:"mb-3 mt-3 w-100",children:[Object(a.jsxs)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(m.a.Title,{className:"float-left",children:[Object(a.jsx)(w.a,{className:"mr-4 float-left"})," ",O," (",l.id,")"]}),l.avatar_url?Object(a.jsx)(M.a,{trigger:Object(a.jsx)(I.a,{src:"".concat(l.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)(I.a,{src:"".concat(F),style:{"max-width":640,height:"auto"},thumbnail:!0})})}}):Object(a.jsx)(I.a,{src:z,style:{width:50,height:50},className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(m.a.Body,{children:[Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",l.id]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Tag:"})," ",p]}),Object(a.jsxs)(f.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Timezone:"})," ",S]})]}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(V.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:D}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:D}})]})]}),Object(a.jsx)(se,{sysID:t})," "]})})}function ie(){var e=Object(i.i)(),t=e.path,c=e.url,n=Object(v.a)(),s=n.register,r=n.handleSubmit;return Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:t,children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(m.a.Header,{children:Object(a.jsxs)(m.a.Title,{children:[Object(a.jsx)(w.g,{className:"mr-3"}),"Profile"]})}),Object(a.jsx)(m.a.Body,{children:Object(a.jsxs)(p.a,{onSubmit:r((function(e){j.push("".concat(c,"/").concat(e.sysID))})),children:[Object(a.jsx)(p.a.Label,{children:"Submit a system ID to view to that system's profile."}),Object(a.jsxs)(p.a.Row,{children:[Object(a.jsx)(f.a,{className:"mb-1",xs:12,lg:10,children:Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({name:"sysID"},s("sysID")),{},{defaultValue:""}))}),Object(a.jsx)(f.a,{children:Object(a.jsx)(g.a,{variant:"primary",type:"submit",block:!0,children:"Submit"})})]})]})})]})}),Object(a.jsx)(i.b,{path:"".concat(t,"/:sysID"),children:Object(a.jsx)(re,{})})]})}function le(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(b.a)(r,2),C=l[0],I=l[1],_=Object(n.useState)(!1),L=Object(b.a)(_,2),D=L[0],A=L[1],M=Object(n.useState)(),T=Object(b.a)(M,2)[1],V=Object(n.useCallback)((function(){return T({})}),[]),z=Object(k.a)(!1),P=Object(v.a)(),F=P.register,Y=P.handleSubmit;Object(n.useEffect)((function(){localStorage.getItem("token")&&(A(!1),s(!0),N("".concat(E,"s/"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("user",JSON.stringify(e)),I(!0),s(!1)})).catch((function(e){console.log(e),A(!0),localStorage.removeItem("token"),localStorage.removeItem("user"),s(!1)})))}),[]);return Object(a.jsx)("div",{className:"contents ".concat(localStorage.getItem("opendyslexic")?"opendyslexic":""),children:Object(a.jsxs)(i.c,{history:j,basename:"/pk-webs",children:[Object(a.jsxs)(d.a,{className:"mb-5 align-items-center",children:[Object(a.jsx)(d.a.Brand,{href:"/pk-webs",children:"pk-webs"}),Object(a.jsxs)(O.a,{id:"menu",className:"mr-auto",title:"Menu",children:[Object(a.jsx)(O.a.Item,{onClick:function(){return j.push("/pk-webs/dash")},children:"Dash"}),Object(a.jsx)(O.a.Item,{onClick:function(){return j.push("/pk-webs/settings")},children:"Settings"}),Object(a.jsx)(O.a.Item,{onClick:function(){return j.push("/pk-webs/profile")},children:"Public profile"}),localStorage.getItem("token")?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{className:"my-1"}),Object(a.jsx)(O.a.Item,{onClick:function(){return I(!1),localStorage.removeItem("token"),localStorage.removeItem("user"),j.push("/pk-webs"),void V()},children:"Log out"})]}):""]}),Object(a.jsxs)(h.a,{className:"mr-2 d-flex align-items-center row",children:[Object(a.jsx)(S.a,{defaultChecked:!0,icons:!1,onChange:z.toggle}),z.value?Object(a.jsx)(w.e,{className:"m-1"}):Object(a.jsx)(w.h,{className:"m-1"})]})]}),Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(x.a,{children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{path:"/pk-webs/dash",children:!localStorage.getItem("token")||D?Object(a.jsx)(i.a,{to:"/pk-webs"}):Object(a.jsx)(ee,{})}),Object(a.jsx)(i.b,{exact:!0,path:"/pk-webs",children:c?Object(a.jsx)(X,{}):Object(a.jsxs)(m.a,{className:"mb-3 mt-3",children:[Object(a.jsx)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(m.a.Title,{children:[Object(a.jsx)(w.d,{className:"mr-3"}),"Login"]})}),Object(a.jsxs)(m.a.Body,{children:[C&&!localStorage.getItem("user")?Object(a.jsx)(u.a,{variant:"danger",children:"Something went wrong, please try again."}):"",D?Object(a.jsx)(u.a,{variant:"danger",children:"Invalid token."}):"",localStorage.getItem("user")&&localStorage.getItem("token")?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"You are logged in already, click here to continue to the dash."}),Object(a.jsx)(g.a,{type:"primary",onClick:function(){return j.push("/pk-webs/dash")},children:"Continue to dash"})]}):Object(a.jsxs)(p.a,{onSubmit:Y((function(e){localStorage.setItem("token",e.pkToken),A(!1),s(!0),N("".concat(E,"s/"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("user",JSON.stringify(e)),I(!0),s(!1),j.push("/pk-webs/dash")})).catch((function(e){console.log(e),A(!0),localStorage.removeItem("token"),localStorage.removeItem("user"),s(!1)}))})),children:[Object(a.jsx)(p.a.Row,{children:Object(a.jsx)(f.a,{className:"mb-1",xs:12,lg:10,children:Object(a.jsxs)(p.a.Label,{children:["Enter your token here. You can get your token by using ",Object(a.jsx)("b",{children:'"pk;token"'}),"."]})})}),Object(a.jsxs)(p.a.Row,{children:[Object(a.jsx)(f.a,{xs:12,lg:10,children:Object(a.jsx)(p.a.Control,Object(o.a)(Object(o.a)({required:!0,name:"pkToken",type:"text"},F("pkToken")),{},{placeholder:"token"}))}),Object(a.jsx)(f.a,{children:Object(a.jsx)(g.a,{variant:"primary",type:"submit",block:!0,children:"Submit"})})]})]})]})]})}),Object(a.jsx)(i.b,{path:"/pk-webs/profile",children:Object(a.jsx)(ie,{})}),Object(a.jsx)(i.b,{path:"/pk-webs/settings",children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(m.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(m.a.Title,{children:[Object(a.jsx)(w.b,{className:"mr-3"}),"Settings"]})}),Object(a.jsxs)(m.a.Body,{children:[Object(a.jsx)("p",{children:"Change how you view and use pk-webs here, changes will be saved after refreshing. You will have to apply them again in different browsers and on different devices."}),Object(a.jsx)("hr",{}),Object(a.jsxs)(y.a,{children:[Object(a.jsxs)(f.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("opendyslexic")?Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("opendyslexic"),V()}}):Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("opendyslexic","true"),V()}}),"Use opendyslexic?"]}),Object(a.jsxs)(f.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("twemoji")?Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("twemoji"),V()}}):Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("twemoji","true"),V()}}),"Use twemoji?"]}),Object(a.jsxs)(f.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("pagesonly")?Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("pagesonly"),V()}}):Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("pagesonly","true"),V()}}),"Use only member pages?"]}),Object(a.jsxs)(f.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("colorbg")?Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("colorbg"),V()}}):Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("colorbg","false"),V()}}),"Hide colored backgrounds?"]}),Object(a.jsxs)(f.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("expandcards")?Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("expandcards"),V()}}):Object(a.jsx)(S.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("expandcards","true"),V()}}),"Expand member cards on default?"]})]})]})]})})]})})}),Object(a.jsx)(te,{})]})})}r.a.render(Object(a.jsx)(i.c,{history:j,basename:"/pk-webs",children:Object(a.jsx)(le,{})}),document.getElementById("root"))},40:function(e,t,c){var a=c(109),n=c(110);function s(e,t,c){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"object"===typeof n&&(s=n,n=!0),c||(c={}),c.class&&s.cssModuleNames&&(c.class=c.class.split(" ").map((function(e){return s.cssModuleNames[e]||e})).join(" "));var r="";for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&(r+=" ".concat(a.sanitizeText(i),'="').concat(a.sanitizeText(c[i]),'"'));var l="<".concat(e).concat(r,">");return n?l+t+"</".concat(e,">"):l}a.htmlTag=s;var r={blockQuote:Object.assign({},a.defaultRules.blockQuote,{match:function(e,t,c){return!/^$|\n *$/.test(c)||t.inQuote?null:/^( *>>> ([\s\S]*))|^( *> [^\n]*(\n *> [^\n]*)*\n?)/.exec(e)},parse:function(e,t,c){var a=e[0],n=Boolean(/^ *>>> ?/.exec(a))?/^ *>>> ?/:/^ *> ?/gm;return{content:t(a.replace(n,""),Object.assign({},c,{inQuote:!0})),type:"blockQuote"}}}),codeBlock:Object.assign({},a.defaultRules.codeBlock,{match:a.inlineRegex(/^```(([a-z0-9-]+?)\n+)?\n*([^]+?)\n*```/i),parse:function(e,t,c){return{lang:(e[2]||"").trim(),content:e[3]||"",inQuote:c.inQuote||!1}},html:function(e,t,c){var r;return e.lang&&n.getLanguage(e.lang)&&(r=n.highlight(e.lang,e.content,!0)),r&&c.cssModuleNames&&(r.value=r.value.replace(/<span class="([a-z0-9-_ ]+)">/gi,(function(e,t){return e.replace(t,t.split(" ").map((function(e){return c.cssModuleNames[e]||e})).join(" "))}))),s("pre",s("code",r?r.value:a.sanitizeText(e.content),{class:"hljs".concat(r?" "+r.language:"")},c),null,c)}}),newline:a.defaultRules.newline,escape:a.defaultRules.escape,autolink:Object.assign({},a.defaultRules.autolink,{parse:function(e){return{content:[{type:"text",content:e[1]}],target:e[1]}},html:function(e,t,c){return s("a",t(e.content,c),{href:a.sanitizeUrl(e.target)},c)}}),url:Object.assign({},a.defaultRules.url,{parse:function(e){return{content:[{type:"text",content:e[1]}],target:e[1]}},html:function(e,t,c){return s("a",t(e.content,c),{href:a.sanitizeUrl(e.target)},c)}}),em:Object.assign({},a.defaultRules.em,{parse:function(e,t,c){var n=a.defaultRules.em.parse(e,t,Object.assign({},c,{inEmphasis:!0}));return c.inEmphasis?n.content:n}}),strong:a.defaultRules.strong,u:a.defaultRules.u,strike:Object.assign({},a.defaultRules.del,{match:a.inlineRegex(/^~~([\s\S]+?)~~(?!_)/)}),inlineCode:Object.assign({},a.defaultRules.inlineCode,{match:function(e){return a.defaultRules.inlineCode.match.regex.exec(e)},html:function(e,t,c){return s("code",a.sanitizeText(e.content.trim()),null,c)}}),text:Object.assign({},a.defaultRules.text,{match:function(e){return/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e)},html:function(e,t,c){return c.escapeHTML?a.sanitizeText(e.content):e.content}}),emoticon:{order:a.defaultRules.text.order,match:function(e){return/^(\xaf\\_\(\u30c4\)_\/\xaf)/.exec(e)},parse:function(e){return{type:"text",content:e[1]}},html:function(e,t,c){return t(e.content,c)}},br:Object.assign({},a.defaultRules.br,{match:a.anyScopeRegex(/^\n/)}),spoiler:{order:0,match:function(e){return/^\|\|([\s\S]+?)\|\|/.exec(e)},parse:function(e,t,c){return{content:t(e[1],c)}},html:function(e,t,c){return s("a",t(e.content,c),{class:"d-spoiler"},c)}},link:Object.assign({},a.defaultRules.link,{html:function(e,t,c){return s("a",t(e.content,c),{href:a.sanitizeUrl(e.target),rel:"noreferrer",target:"_blank"},c)}})},i={user:function(e){return"@"+a.sanitizeText(e.id)},channel:function(e){return"#"+a.sanitizeText(e.id)},role:function(e){return"&"+a.sanitizeText(e.id)},everyone:function(){return"@everyone"},here:function(){return"@here"}},l={discordUser:{order:a.defaultRules.strong.order,match:function(e){return/^<@!?([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,c){return s("span",c.discordCallback.user(e),{class:"d-mention d-user"},c)}},discordChannel:{order:a.defaultRules.strong.order,match:function(e){return/^<#?([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,c){return s("span",c.discordCallback.channel(e),{class:"d-mention d-channel"},c)}},discordRole:{order:a.defaultRules.strong.order,match:function(e){return/^<@&([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,c){return s("span",c.discordCallback.role(e),{class:"d-mention d-role"},c)}},discordEmoji:{order:a.defaultRules.strong.order,match:function(e){return/^<(a?):(\w+):(\d+)>/.exec(e)},parse:function(e){return{animated:"a"===e[1],name:e[2],id:e[3]}},html:function(e,t,c){return s("img","",{class:"d-emoji".concat(e.animated?" d-emoji-animated":""),src:"https://cdn.discordapp.com/emojis/".concat(e.id,".").concat(e.animated?"gif":"png"),alt:":".concat(e.name,":")},!1,c)}},discordEveryone:{order:a.defaultRules.strong.order,match:function(e){return/^@everyone/.exec(e)},parse:function(){return{}},html:function(e,t,c){return s("span",c.discordCallback.everyone(e),{class:"d-mention d-user"},c)}},discordHere:{order:a.defaultRules.strong.order,match:function(e){return/^@here/.exec(e)},parse:function(){return{}},html:function(e,t,c){return s("span",c.discordCallback.here(e),{class:"d-mention d-user"},c)}}};Object.assign(r,l);var j=Object.assign({},l,{text:Object.assign({},a.defaultRules.text,{match:function(e){return/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e)},html:function(e,t,c){return c.escapeHTML?a.sanitizeText(e.content):e.content}})}),o=Object.assign({},r,{link:a.defaultRules.link}),b=a.parserFor(r),d=a.htmlFor(a.ruleOutput(r,"html")),O=a.parserFor(j),h=a.htmlFor(a.ruleOutput(j,"html")),x=a.parserFor(o),m=a.htmlFor(a.ruleOutput(o,"html"));e.exports={parser:function(e){return b(e,{inline:!0})},htmlOutput:d,toHTML:function(e,t,c,a){if((c||a)&&(!c||!a))throw new Error("You must pass both a custom parser and custom htmlOutput function, not just one");t=Object.assign({embed:!1,escapeHTML:!0,discordOnly:!1,discordCallback:{}},t||{});var n=b,s=d;c?(n=c,s=a):t.discordOnly?(n=O,s=h):t.embed&&(n=x,s=m);var r={inline:!0,inQuote:!1,inEmphasis:!1,escapeHTML:t.escapeHTML,cssModuleNames:t.cssModuleNames||null,discordCallback:Object.assign({},i,t.discordCallback)};return s(n(e,r),r)},rules:r,rulesDiscordOnly:j,rulesEmbed:o,markdownEngine:a,htmlTag:s}},92:function(e,t,c){},99:function(e,t,c){}},[[324,1,2]]]);
//# sourceMappingURL=main.727cf068.chunk.js.map