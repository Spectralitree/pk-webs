{"version":3,"sources":["History.js","Constants/constants.js","default_discord_avatar.png","Components/System.js","Components/MemberCard.js","Components/MemberPage.js","Components/MemberPages.js","Components/Loading.js","Components/Memberlist.js","Components/Dash.js","Components/Footer.js","Components/ProfileCard.js","Components/ProfilePage.js","Components/ProfilePages.js","Components/ProfileList.js","Components/Profile.js","Components/Public.js","App.js","index.js","Functions/discord-parser.js"],"names":["createBrowserHistory","API_URL","System","props","match","useRouteMatch","useForm","registerEdit","register","handleSubmitEdit","handleSubmit","registerPrivacy","handleSubmitPrivacy","useState","JSON","parse","localStorage","getItem","user","setUser","name","setName","tag","setTag","timezone","setTimezone","avatar","setAvatar","desc","setDesc","editDesc","setEditDesc","editMode","setEditMode","privacyMode","setPrivacyMode","privacyView","setPrivacyView","invalidTimezone","setInvalidTimezone","errorAlert","setErrorAlert","useEffect","toHTML","require","tz","avatar_url","avatarsmall","replace","description","autosize","document","querySelector","className","Header","Title","id","trigger","src","style","width","height","tabIndex","roundedCircle","modal","close","onClick","thumbnail","defaultAvatar","Body","variant","onSubmit","data","moment","zone","fetch","method","body","stringify","headers","slice","then","res","json","prevState","setItem","catch","error","console","Text","Row","xs","lg","Label","Control","ref","defaultValue","required","href","rel","target","Group","maxLength","as","type","size","description_privacy","member_list_privacy","front_privacy","front_history_privacy","options","dangerouslySetInnerHTML","__html","history","push","MemberCard","sysID","member","setMember","displayName","setDisplayName","birthday","setBirthday","birthdate","setBirthdate","pronouns","setPronouns","editPronouns","setEditPronouns","color","setColor","proxy_tags","proxyTags","setProxyTags","proxyView","setProxyView","proxyMode","setProxyMode","open","setOpen","closeModal","wrongID","setWrongID","memberDeleted","setMemberDeleted","registerDelete","handleSubmitDelete","registerProxy","handleSubmitProxy","querySelectorAll","display_name","startsWith","bdaymoment","format","birthdaymoment","submitEdit","edit","Object","assign","submitPrivacy","deleteMember","memberID","submitProxy","newdata","filter","prefix","suffix","renderCard","borderLeft","pattern","o","position","placeholder","visibility","name_privacy","avatar_privacy","birthday_privacy","pronoun_privacy","metadata_privacy","map","item","index","rows","disabled","block","oldTags","length","proxytag","to","offset","placement","overlay","link","textField","createElement","innerText","appendChild","select","setSelectionRange","execCommand","removeChild","copyLink","fontSize","Toggle","BS","eventKey","maxWidth","Collapse","MemberPage","Helmet","content","property","backgroundColor","MemberPages","useParams","memberpages","members","memberpage","noMatch","Loading","fluid","animation","Memberlist","path","userId","isLoading","setIsLoading","isError","setIsError","currentPage","setCurrentPage","membersPerPage","setMembersPerPage","setMembers","searchBy","setSearchBy","privacyFilter","setPrivacyFilter","sortBy","setSortBy","value","setValue","fetchMembers","useCallback","log","indexOfLastMember","indexOfFirstMember","currentMembers","toLowerCase","includes","active","pageAmount","Math","ceil","sortMembers","sort","a","b","localeCompare","created","memberList","memberEdit","exact","onChange","e","Prev","Item","Ellipsis","Next","view","defaultActiveKey","Dash","Navigation","Link","ProfilePage","location","useLocation","pathname","substring","lastIndexOf","Profile","system","setSystem","Public","url","App","isSubmit","setIsSubmit","isInvalid","setIsInvalid","updateState","forceUpdate","darkMode","useDarkMode","removeItem","basename","Brand","title","defaultChecked","icons","toggle","pkToken","ReactDOM","render","getElementById","markdown","highlight","htmlTag","tagName","attributes","isClosed","state","class","cssModuleNames","split","cl","join","attributeString","attr","prototype","hasOwnProperty","call","sanitizeText","unclosedTag","rules","blockQuote","defaultRules","source","prevSource","test","inQuote","exec","capture","all","removeSyntaxRegex","Boolean","codeBlock","inlineRegex","lang","trim","html","node","output","code","getLanguage","str","m","language","newline","escape","autolink","sanitizeUrl","em","parsed","inEmphasis","strong","u","strike","del","inlineCode","regex","text","escapeHTML","emoticon","order","br","anyScopeRegex","spoiler","discordCallbackDefaults","channel","role","everyone","here","rulesDiscord","discordUser","discordCallback","discordChannel","discordRole","discordEmoji","animated","alt","discordEveryone","discordHere","rulesDiscordOnly","rulesEmbed","parser","parserFor","htmlOutput","htmlFor","ruleOutput","parserDiscord","htmlOutputDiscord","parserEmbed","htmlOutputEmbed","module","exports","inline","customParser","customHtmlOutput","Error","embed","discordOnly","_parser","_htmlOutput","markdownEngine"],"mappings":"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","file":"static/js/main.ca65bc15.chunk.js","sourcesContent":["import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();","const API_URL = \"https://api.pluralkit.me/v1/\";\r\n\r\nexport default API_URL","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from 'react';\r\nimport  * as BS from 'react-bootstrap'\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport autosize from 'autosize';\r\nimport moment from 'moment';\r\nimport 'moment-timezone';\r\nimport Popup from 'reactjs-popup';\r\nimport Twemoji from 'react-twemoji';\r\n\r\nimport API_URL from \"../Constants/constants.js\";\r\n\r\nimport history from \"../History.js\";\r\nimport defaultAvatar from '../default_discord_avatar.png'\r\nimport { FaAddressCard } from \"react-icons/fa\";\r\n\r\nexport default function System(props) {\r\n\r\n    const match = useRouteMatch(\"/pk-webs/dash/:memberID\");\r\n\r\n    const {\r\n        register: registerEdit,\r\n        handleSubmit: handleSubmitEdit\r\n      } = useForm();\r\n\r\n\r\n    const {\r\n        register: registerPrivacy,\r\n        handleSubmit: handleSubmitPrivacy\r\n      } = useForm();\r\n\r\n    const [ user, setUser ] = useState(JSON.parse(localStorage.getItem('user')));\r\n\r\n    const [ name, setName ] = useState(\"\");\r\n    const [ tag, setTag ] = useState(\"\");\r\n    const [ timezone, setTimezone ] = useState(\"\");\r\n    const [ avatar, setAvatar ] = useState(\"\");\r\n    const [ desc, setDesc ] = useState(\"\");\r\n    const [ editDesc, setEditDesc ] = useState(\"\");\r\n\r\n    const [ editMode, setEditMode ] = useState(false);\r\n    const [ privacyMode, setPrivacyMode ] = useState(false);\r\n    const [ privacyView, setPrivacyView ] = useState(false);\r\n\r\n    const [ invalidTimezone, setInvalidTimezone ] = useState(false);\r\n    const [ errorAlert, setErrorAlert ] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n    const { toHTML } = require('../Functions/discord-parser.js');\r\n    \r\n    if (user.name) {\r\n        setName(user.name);\r\n    } else setName('');\r\n\r\n    if (user.tag) {\r\n        setTag(user.tag);\r\n    } else setTag('');\r\n\r\n    if (user.tz) {\r\n        setTimezone(user.tz);\r\n    } else setTimezone('');\r\n\r\n    if (user.avatar_url) {\r\n        var avatarsmall = user.avatar_url.replace('&format=jpeg', '');\r\n        setAvatar(avatarsmall.replace('?width=256&height=256', ''))\r\n    } else setAvatar('')\r\n\r\n    if (user.description) {\r\n        setDesc(toHTML(user.description));\r\n        setEditDesc(user.description);\r\n    } else { setDesc(\"(no description)\");\r\n    setEditDesc(\"\");\r\n}}, [user.description, user.tag, user.avatar_url, user.tz, user.name]);\r\n\r\nuseEffect(() => {\r\n    autosize(document.querySelector('textarea'));\r\n})\r\n\r\nconst submitEdit = data => {\r\n    if (data.tz) {\r\n        if (!moment.tz.zone(data.tz)) {\r\n        setInvalidTimezone(true);\r\n        return;\r\n        }\r\n    }\r\n\r\n    fetch(`${API_URL}s`,{\r\n        method: 'PATCH',\r\n        body: JSON.stringify(data),\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n        }}).then (res => res.json()\r\n        ).then ( () => { setUser(prevState => {return {...prevState, ...data}}); localStorage.setItem('user', JSON.stringify(user)); setEditMode(false)}\r\n        ).catch (error => {\r\n            console.error(error);\r\n            setErrorAlert(true);\r\n        })\r\n\r\n    }\r\n\r\nconst submitPrivacy = data => {\r\n    fetch(`${API_URL}s`,{\r\n        method: 'PATCH',\r\n        body: JSON.stringify(data),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n        }}).then (res => res.json()\r\n        ).then (data => { setUser(prevState => {return {...prevState, ...data}}); localStorage.setItem('user', JSON.stringify(user)); setPrivacyMode(false)}\r\n        ).catch (error => {\r\n            console.error(error);\r\n            setErrorAlert(true);\r\n        })\r\n}\r\n\r\n        if (match) return null;\r\n\r\n        return (\r\n           <BS.Card className=\"mb-3 mt-3 w-100\" >\r\n               <BS.Card.Header className=\"d-flex align-items-center justify-content-between\">\r\n                  <BS.Card.Title className=\"float-left\"><FaAddressCard className=\"mr-4 float-left\" /> {name} ({user.id})</BS.Card.Title> \r\n                  { user.avatar_url ? <Popup trigger={<BS.Image src={`${user.avatar_url}`} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />} className=\"avatar\" modal>\r\n                {close => (\r\n                    <div className=\"text-center w-100 m-0\" onClick={() => close()}>\r\n                    <BS.Image src={`${avatar}`} style={{'max-width': 640, height: 'auto'}} thumbnail />\r\n                    </div>\r\n                )}\r\n            </Popup> : \r\n               <BS.Image src={defaultAvatar} style={{width: 50, height: 50}} className=\"float-right\" roundedCircle />}\r\n               </BS.Card.Header>\r\n               <BS.Card.Body>\r\n               { errorAlert ? <BS.Alert variant=\"danger\">Something went wrong, please try logging in and out again.</BS.Alert> : \"\" }\r\n               { editMode ?  \r\n               <BS.Form onSubmit={handleSubmitEdit(submitEdit)}>\r\n                <BS.Form.Text className='mb-4'><b>Note:</b> if you refresh the page, the old data might show up again, this is due to the bot caching data.<br/>\r\n                Try editing a member to clear the cache, or wait a few minutes before refreshing.</BS.Form.Text>\r\n                <BS.Form.Row>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Name:</BS.Form.Label>\r\n               <BS.Form.Control name=\"name\" ref={registerEdit}  defaultValue={name}/>\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Tag:</BS.Form.Label>\r\n                    <BS.Form.Control name=\"tag\" ref={registerEdit}  defaultValue={tag}/>\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Timezone:</BS.Form.Label>\r\n                    <BS.Form.Control name=\"tz\" ref={registerEdit}  defaultValue={timezone} required/>\r\n                    { invalidTimezone ? <BS.Form.Text>Please enter a valid <a href='https://xske.github.io/tz/' rel=\"noreferrer\" target=\"_blank\">timezone</a></BS.Form.Text> : \"\" }\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Avatar url:</BS.Form.Label> \r\n                    <BS.Form.Control name=\"avatar_url\" ref={registerEdit}   defaultValue={avatar}/>\r\n                </BS.Col>\r\n                </BS.Form.Row>\r\n                <BS.Form.Group className=\"mt-3\">\r\n                <BS.Form.Label>Description:</BS.Form.Label>\r\n                <BS.Form.Control maxLength=\"1000\" as=\"textarea\" name=\"description\" ref={registerEdit} defaultValue={editDesc}/>\r\n            </BS.Form.Group>\r\n                <BS.Button variant=\"light\" onClick={() => setEditMode(false)}>Cancel</BS.Button>  <BS.Button variant=\"primary\" type=\"submit\">Submit</BS.Button>\r\n                </BS.Form> :\r\n               <><BS.Row>\r\n                    <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>ID:</b> {user.id}</BS.Col>\r\n                    <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Tag:</b> {tag}</BS.Col>\r\n                    <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Timezone:</b> {timezone}</BS.Col>\r\n                    { privacyView ? \"\" : <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Privacy:</b> <BS.Button variant=\"light\" size=\"sm\" onClick={() => setPrivacyView(true)}>View</BS.Button></BS.Col> }\r\n                </BS.Row>\r\n                { privacyMode ? <BS.Form onSubmit={handleSubmitPrivacy(submitPrivacy)}>\r\n                <hr/>\r\n                <h5>Editing privacy settings</h5>\r\n                    <BS.Form.Row>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                        <BS.Form.Label>Description:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"description_privacy\" defaultValue={user.description_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Member list:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"member_list_privacy\" defaultValue={user.member_list_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Front:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"front_privacy\" as=\"select\" defaultValue={user.front_privacy} ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Front history:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"front_history_privacy\" defaultValue={user.front_history_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                </BS.Form.Row>\r\n                <BS.Button variant=\"light\" onClick={() => setPrivacyMode(false)}>Cancel</BS.Button> <BS.Button variant=\"primary\" type=\"submit\">Submit</BS.Button>                \r\n                <hr/>\r\n            </BS.Form> : privacyView ? <><hr/>\r\n                <h5>Viewing privacy settings</h5>\r\n            <BS.Row>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Description:</b> {user.description_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Member list: </b>{user.member_list_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Front:</b> {user.front_privacy}</BS.Col> \r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Front history:</b> {user.front_history_privacy}</BS.Col>\r\n            </BS.Row>\r\n            <BS.Button variant=\"light\" onClick={() => setPrivacyView(false)}>Exit</BS.Button>  <BS.Button variant=\"primary\" onClick={() => setPrivacyMode(true)}>Edit</BS.Button>\r\n            <hr/></> : \"\" }\r\n                <p><b>Description:</b></p>\r\n                { localStorage.getItem('twemoji') ? <Twemoji options={{ className: 'twemoji' }}><p dangerouslySetInnerHTML={{__html: desc}}></p></Twemoji> : <p dangerouslySetInnerHTML={{__html: desc}}></p>}\r\n                { privacyMode ? \"\" : privacyView ? \"\" : <><BS.Button variant=\"light\" onClick={() => setEditMode(true)}>Edit</BS.Button><BS.Button variant=\"primary\" className=\"float-right\" onClick={() => history.push(`/pk-webs/profile/${user.id}`)}>Profile</BS.Button></>}</> }\r\n                </BS.Card.Body>\r\n           </BS.Card>\r\n        )\r\n}\r\n\r\n   \r\n\r\n    ","import React, { useEffect, useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport  * as BS from 'react-bootstrap'\r\nimport { useForm } from \"react-hook-form\";\r\nimport moment from 'moment';\r\nimport Popup from 'reactjs-popup';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport autosize from 'autosize';\r\nimport LazyLoad from 'react-lazyload';\r\nimport Twemoji from 'react-twemoji';\r\n\r\nimport API_URL from \"../Constants/constants.js\";\r\n\r\nimport defaultAvatar from '../default_discord_avatar.png'\r\nimport { FaLink, FaLock, FaTrashAlt } from \"react-icons/fa\";\r\n\r\nexport default function MemberCard(props) {\r\n\r\n    const system = JSON.parse(localStorage.getItem('user'));\r\n    const sysID = system.id;\r\n    const [member, setMember] = useState(props.member);\r\n\r\n    const [ displayName, setDisplayName ] = useState(\"\");\r\n    const [ birthday, setBirthday ] = useState(\"\");\r\n    const [ birthdate, setBirthdate ] = useState(\"\");\r\n    const [ pronouns, setPronouns ] = useState(\"\");\r\n    const [ editPronouns, setEditPronouns ] = useState(\"\");\r\n    const [ avatar, setAvatar ] = useState(\"\");\r\n    const [ color, setColor ] = useState(\"\");\r\n    const [ desc, setDesc ] = useState(\"\");\r\n    const [ editDesc, setEditDesc ] = useState(\"\");\r\n    const [ proxyTags, setProxyTags ] = useState(member.proxy_tags);\r\n\r\n    const [ editMode, setEditMode ] = useState(false);\r\n    const [ privacyMode, setPrivacyMode ] = useState(false);\r\n    const [ privacyView, setPrivacyView ] = useState(false);\r\n    const [ proxyView, setProxyView ] = useState(false);\r\n    const [ proxyMode, setProxyMode ] = useState(false);\r\n    \r\n    const [open, setOpen] = useState(false);\r\n    const closeModal = () => setOpen(false);\r\n\r\n    const [ errorAlert, setErrorAlert ] = useState(false);\r\n    const [ wrongID, setWrongID ] = useState(false);\r\n    const [ memberDeleted, setMemberDeleted ] = useState(false);\r\n\r\n    const {\r\n        register: registerEdit,\r\n        handleSubmit: handleSubmitEdit\r\n      } = useForm();\r\n\r\n    const {\r\n        register: registerPrivacy,\r\n        handleSubmit: handleSubmitPrivacy\r\n      } = useForm();\r\n\r\n    const {\r\n        register: registerDelete,\r\n        handleSubmit: handleSubmitDelete\r\n      } = useForm();\r\n  \r\n      const {\r\n        register: registerProxy,\r\n        handleSubmit: handleSubmitProxy,\r\n        } = useForm();\r\n\r\n        useEffect(() => {\r\n            autosize(document.querySelectorAll('textarea'));\r\n        })\r\n\r\n    useEffect(() => {\r\n        const { toHTML } = require('../Functions/discord-parser.js');\r\n\r\n        if (member.display_name) {\r\n            setDisplayName(member.display_name)\r\n        } else setDisplayName('')\r\n\r\n        if (member.birthday) { \r\n            setBirthdate(member.birthday)\r\n            if (member.birthday.startsWith('0004-')) {\r\n                var bdaymoment = moment(member.birthday, 'YYYY-MM-DD').format('MMM D');\r\n                setBirthday(bdaymoment);\r\n            } else {\r\n                var birthdaymoment =  moment(member.birthday, 'YYYY-MM-DD').format('MMM D, YYYY');\r\n                setBirthday(birthdaymoment);\r\n            }\r\n        } else { setBirthday('');\r\n        setBirthdate('');\r\n    }\r\n\r\n        if (member.pronouns) {\r\n            setPronouns(toHTML(member.pronouns));\r\n            setEditPronouns(member.pronouns);\r\n        } else { setPronouns('');\r\n        setEditPronouns('');\r\n    }\r\n\r\n        if (member.avatar_url) {\r\n            var avatarsmall = member.avatar_url.replace('&format=jpeg', '');\r\n            setAvatar(avatarsmall.replace('?width=256&height=256', ''))\r\n        } else setAvatar('')\r\n        \r\n        if (member.color) {\r\n            setColor(member.color);\r\n        } else setColor('');\r\n\r\n        if (member.description) {\r\n            setDesc(toHTML(member.description));\r\n            setEditDesc(member.description);\r\n        } else { setDesc(\"(no description)\");\r\n        setEditDesc(\"\");\r\n    }\r\n    }, [member.description, member.color, member.birthday, member.display_name, member.pronouns, member.avatar_url, member.proxy_tags]);\r\n\r\n    const submitEdit = data => {\r\n        props.edit(Object.assign(member, data));\r\n        \r\n        fetch(`${API_URL}m/${member.id}`,{\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n            }}).then (res => res.json()\r\n            ).then (data => { \r\n                setMember(prevState => {return {...prevState, ...data}});\r\n                setErrorAlert(false);\r\n                setEditMode(false);\r\n        }\r\n            ).catch (error => {\r\n                console.error(error);\r\n                setErrorAlert(true);\r\n            });\r\n    }\r\n\r\n    const submitPrivacy = data => {\r\n        props.edit(Object.assign(member, data));\r\n\r\n        fetch(`${API_URL}m/${member.id}`,{\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n            }}).then (res => res.json()\r\n            ).then (data => {\r\n                setMember(prevState => {return {...prevState, ...data}});\r\n                setErrorAlert(false); \r\n                setPrivacyMode(false)\r\n        }\r\n            ).catch (error => {\r\n                console.error(error);\r\n                setErrorAlert(true);\r\n             })\r\n    }\r\n\r\n    const deleteMember = data => {\r\n        if (data.memberID !== member.id) {\r\n        setWrongID(true);\r\n        } else {\r\n            fetch(`${API_URL}m/${member.id}`,{\r\n                method: 'DELETE',\r\n                headers: {\r\n                'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n                }}).then (() => {\r\n                    setErrorAlert(false);\r\n                    setMemberDeleted(true);\r\n                })\r\n                .catch (error => {\r\n                    console.error(error);\r\n                    setErrorAlert(true);\r\n                })\r\n        }\r\n    }\r\n\r\n    function addProxyField() {\r\n        setProxyTags(oldTags => [...oldTags, {prefix: '', suffix: ''}] )\r\n    }\r\n\r\n    function resetProxyFields() {\r\n        setProxyMode(false);\r\n        setProxyTags(member.proxy_tags);\r\n    }\r\n\r\n    const submitProxy = data => {\r\n\r\n        const newdata = {proxy_tags: data.proxy_tags.filter(tag => !(tag.prefix === \"\" && tag.suffix === \"\"))}\r\n        props.edit(Object.assign(member, newdata));\r\n\r\n        fetch(`${API_URL}m/${member.id}`,{\r\n            method: 'PATCH',\r\n            body: JSON.stringify(newdata),\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n            }}).then (res => res.json()\r\n            ).then (data => { \r\n                setMember(prevState => {return {...prevState, ...data}}); \r\n                setProxyTags(data.proxy_tags);\r\n                setErrorAlert(false);\r\n                setProxyMode(false);\r\n        }\r\n            ).catch (error => {\r\n                console.error(error);\r\n                setErrorAlert(true);\r\n            });\r\n    }\r\n\r\n    function copyLink() {\r\n        var link = `https://spectralitree.github.io/pk-webs/profile/${sysID}/${member.id}`\r\n        var textField = document.createElement('textarea')\r\n        textField.innerText = link\r\n        document.body.appendChild(textField);\r\n\r\n        textField.select();\r\n        textField.setSelectionRange(0, 99999);\r\n        document.execCommand('copy');\r\n\r\n        document.body.removeChild(textField);\r\n    }\r\n\r\n    function renderCard() {\r\n        return (\r\n            <BS.Card.Body style={{borderLeft: `5px solid #${color}` }}>\r\n                { errorAlert ? <BS.Alert variant=\"danger\">Something went wrong, please try logging in and out again.</BS.Alert> : \"\" }\r\n                { editMode ?\r\n                <>\r\n                <BS.Form id='Edit' onSubmit={handleSubmitEdit(submitEdit)}>\r\n                <BS.Form.Row>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Name:</BS.Form.Label>\r\n                   <BS.Form.Control name=\"name\" ref={registerEdit} defaultValue={member.name} />\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Display name: </BS.Form.Label>\r\n                    <BS.Form.Control name=\"display_name\" ref={registerEdit}  defaultValue={displayName} />\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Birthday:</BS.Form.Label>\r\n                    <BS.Form.Control  pattern=\"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$\" name=\"birthday\" ref={registerEdit}  defaultValue={birthdate}/>\r\n                    <BS.Form.Text>(YYYY-MM-DD)</BS.Form.Text>\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Pronouns:</BS.Form.Label>\r\n                    <BS.Form.Control maxLength=\"100\" name=\"pronouns\" ref={registerEdit} defaultValue={editPronouns} />\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Avatar url:</BS.Form.Label> \r\n                  <BS.Form.Control type=\"url\" name=\"avatar_url\" ref={registerEdit}  defaultValue={avatar} />\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Color:</BS.Form.Label> \r\n                   <BS.Form.Control  pattern=\"[A-Fa-f0-9]{6}\" name=\"color\" ref={registerEdit}  defaultValue={color} />\r\n                    <BS.Form.Text>(hexcode)</BS.Form.Text>\r\n                </BS.Col>\r\n            </BS.Form.Row>\r\n            <BS.Form.Group className=\"mt-3\">\r\n                <BS.Form.Label>Description:</BS.Form.Label>\r\n                <BS.Form.Control maxLength=\"1000\" as=\"textarea\" name=\"description\" ref={registerEdit} defaultValue={editDesc}/>\r\n            </BS.Form.Group>\r\n            <BS.Button variant=\"light\" onClick={() => setEditMode(false)}>Cancel</BS.Button> <BS.Button variant=\"primary\" type=\"submit\">Submit</BS.Button> <BS.Button variant=\"danger\" className=\"float-right\" onClick={() => setOpen(o => !o)}>Delete</BS.Button>\r\n            </BS.Form>\r\n                   <Popup open={open} position=\"top-center\" modal>\r\n                       <BS.Container>\r\n                       <BS.Card>\r\n                           <BS.Card.Header>\r\n                               <h5><FaTrashAlt className=\"mr-3\"/> Are you sure you want to delete {member.name}?</h5>\r\n                           </BS.Card.Header>\r\n                           <BS.Card.Body>\r\n                             { wrongID ? <BS.Alert variant=\"danger\">Incorrect ID, please check the spelling.</BS.Alert> : \"\" }\r\n                               <p>If you're sure you want to delete this member, please enter the member ID ({member.id}) below.</p>\r\n                               <BS.Form id='Delete' onSubmit={handleSubmitDelete(deleteMember)}>\r\n                                   <BS.Form.Label>Member ID:</BS.Form.Label>\r\n                                   <BS.Form.Control className=\"mb-4\" name=\"memberID\" ref={registerDelete({required: true})} placeholder={member.id} />\r\n                                   <BS.Button variant=\"danger\" type=\"submit\">Delete</BS.Button> <BS.Button variant=\"light\" className=\"float-right\" onClick={closeModal}>Cancel</BS.Button>\r\n                               </BS.Form>\r\n                           </BS.Card.Body>\r\n                       </BS.Card>\r\n                       </BS.Container>\r\n                    </Popup></>\r\n                 :\r\n            <>\r\n            <BS.Row>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>ID:</b> {member.id}</BS.Col>\r\n                { member.display_name ? localStorage.getItem('twemoji') ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><Twemoji options={{ className: 'twemoji' }}><b>Display name: </b>{displayName}</Twemoji></BS.Col> :\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Display name:</b> {displayName}</BS.Col> : \"\" }\r\n                { member.birthday ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Birthday:</b> {birthday}</BS.Col> : \"\" }\r\n                { member.pronouns ?  localStorage.getItem('twemoji') ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><Twemoji options={{ className: 'twemoji' }}><b>Pronouns:</b> <span dangerouslySetInnerHTML={{__html: pronouns}}></span></Twemoji></BS.Col> : \r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Pronouns:</b> <span dangerouslySetInnerHTML={{__html: pronouns}}></span></BS.Col> : \"\" }\r\n                { member.color ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Color:</b> {color}</BS.Col> : \"\" }\r\n                { privacyView ? \"\" : proxyView ? \"\" : <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Privacy:</b> <BS.Button variant=\"light\" size=\"sm\" onClick={() => setPrivacyView(true)}>View</BS.Button></BS.Col> }\r\n                { privacyView ? \"\" : proxyView ? \"\" : <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Proxy tags:</b> <BS.Button variant=\"light\" size=\"sm\" onClick={() => setProxyView(true)}>View</BS.Button></BS.Col> }\r\n                \r\n            </BS.Row>\r\n            { privacyMode ? <BS.Form id='Privacy' onSubmit={handleSubmitPrivacy(submitPrivacy)}>\r\n                <hr/>\r\n                <h5>Editing privacy settings</h5>\r\n                    <BS.Form.Row>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                        <BS.Form.Label>Visibility:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"visibility\" defaultValue={member.visibility} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Name:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"name_privacy\" defaultValue={member.name_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Description:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"description_privacy\" defaultValue={member.description_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Avatar:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"avatar_privacy\" defaultValue={member.avatar_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Birthday:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"birthday_privacy\" defaultValue={member.birthday_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Pronouns:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"pronoun_privacy\" defaultValue={member.pronoun_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-3\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Meta:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"metadata_privacy\" defaultValue={member.metadata_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                </BS.Form.Row>\r\n                <BS.Button variant=\"light\" onClick={() => setPrivacyMode(false)}>Cancel</BS.Button> <BS.Button variant=\"primary\" type=\"submit\">Submit</BS.Button>                \r\n                <hr/>\r\n            </BS.Form> : privacyView ? <><hr/>\r\n                <h5>Viewing privacy settings</h5>\r\n            <BS.Row>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Visibility:</b> {member.visibility}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Name: </b>{member.name_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Description:</b> {member.description_privacy}</BS.Col> \r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Avatar:</b> {member.avatar_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Birthday:</b> {member.birthday_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Pronouns:</b> {member.pronoun_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-3\" xs={12} lg={3}><b>Meta:</b> {member.metadata_privacy}</BS.Col>\r\n            </BS.Row>\r\n         <BS.Button variant=\"light\" onClick={() => setPrivacyView(false)}>Exit</BS.Button>  <BS.Button variant=\"primary\" onClick={() => setPrivacyMode(true)}>Edit</BS.Button>\r\n         <hr/></> : \"\" }\r\n         { proxyMode ?\r\n         <><hr/>\r\n         <h5>Editing proxy tags</h5>\r\n         <BS.Form onSubmit={handleSubmitProxy(submitProxy)}>\r\n             <BS.Form.Row>\r\n                { proxyTags.map((item, index) => (\r\n                    <BS.Col key={index} className=\"mb-lg-2\" xs={12} lg={3}>\r\n                        <BS.Form.Row>\r\n                        <BS.InputGroup className=\"ml-1 mr-1 mb-1\">\r\n                        <BS.Form.Control as=\"textarea\" rows=\"1\" name={`proxy_tags[${index}].prefix`} defaultValue={item.prefix} ref={registerProxy}/> \r\n                        <BS.Form.Control as=\"textarea\" rows=\"1\" disabled placeholder='text'/>\r\n                        <BS.Form.Control as=\"textarea\" rows=\"1\" name={`proxy_tags[${index}].suffix`} defaultValue={item.suffix} ref={registerProxy}/>\r\n                        </BS.InputGroup>\r\n                        </BS.Form.Row>\r\n                    </BS.Col>\r\n                ))} <BS.Col className=\"mb-2\" xs={12} lg={3}><BS.Button block variant=\"light\" onClick={() => addProxyField()}>Add new</BS.Button></BS.Col>\r\n             </BS.Form.Row>\r\n             <BS.Button variant=\"light\" onClick={() => resetProxyFields()}>Exit</BS.Button> <BS.Button variant=\"primary\" type=\"submit\">Submit</BS.Button>\r\n        </BS.Form><hr/></> : proxyView ? \r\n         <><hr/>\r\n             <h5>Viewing proxy tags</h5>\r\n         <BS.Row className=\"mb-2\">\r\n          { proxyTags.length === 0 ? <BS.Col className=\"mb-lg-2\"><b>No proxy tags set.</b></BS.Col> : proxyTags.map((proxytag, index) => <BS.Col key={index} className=\"mb-lg-2\" xs={12} lg={2}> <code>{proxytag.prefix}text{proxytag.suffix}</code></BS.Col> )}\r\n         </BS.Row>\r\n         <BS.Button variant=\"light\" onClick={() => setProxyView(false)}>Exit</BS.Button>  <BS.Button variant=\"primary\" onClick={() => setProxyMode(true)}>Edit</BS.Button>\r\n            <hr/></> : \"\" }\r\n            <p><b>Description:</b></p>\r\n            { localStorage.getItem('twemoji') ? <Twemoji options={{ className: 'twemoji' }}><p dangerouslySetInnerHTML={{__html: desc}}></p></Twemoji> : <p dangerouslySetInnerHTML={{__html: desc}}></p>}\r\n                { proxyView ? \"\" : privacyMode ? \"\" : privacyView ? \"\" : <><BS.Button variant=\"light\" onClick={() => setEditMode(true)}>Edit</BS.Button> <Link to={`dash/${member.id}`}><BS.Button variant=\"primary\" className=\"float-right\">View page</BS.Button></Link></> }\r\n            </> } </BS.Card.Body>\r\n        )\r\n    }\r\n\r\n    return (\r\n       memberDeleted ? <BS.Card.Header className=\"d-flex align-items-center justify-content-between\"><BS.Button variant=\"link\" className=\"float-left\"><FaTrashAlt className=\"mr-4\"/>Member Deleted</BS.Button></BS.Card.Header> :\r\n       <LazyLoad offset={100}>\r\n           <BS.Card.Header className=\"d-flex align-items-center justify-content-between\">\r\n        <div> { member.visibility === 'public' ? <BS.OverlayTrigger placement=\"left\" overlay={ \r\n            <BS.Tooltip>\r\n                Copy public link\r\n            </BS.Tooltip>\r\n        }><BS.Button variant=\"link\" onClick={() => copyLink()}><FaLink style={{fontSize: '1.25rem'}}/></BS.Button></BS.OverlayTrigger> : \r\n        <BS.Button variant=\"link\"><FaLock style={{fontSize: '1.25rem'}} /></BS.Button> }\r\n        { localStorage.getItem('pagesonly') ? \r\n        <Link to={`dash/${member.id}`}><BS.Button variant=\"link\" className=\"float-left\"><b>{member.name}</b> ({member.id})</BS.Button></Link>\r\n        : <BS.Accordion.Toggle  as={BS.Button} variant=\"link\" eventKey={member.id}> <b>{member.name}</b> ({member.id})</BS.Accordion.Toggle>}</div>\r\n            { member.avatar_url ?   <Popup trigger={<BS.Image src={`${member.avatar_url}`} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />} className=\"avatar\" modal>\r\n                {close => (\r\n                    <div className=\"text-center w-100 m-0\" onClick={() => close()}>\r\n                        <div className=\"m-auto\" style={{maxWidth: '640px'}}>\r\n                            <BS.Image src={`${avatar}`} style={{'maxWidth': '100%', height: 'auto'}} thumbnail />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </Popup> : \r\n        <BS.Image src={defaultAvatar} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />}\r\n        </BS.Card.Header>\r\n        {localStorage.getItem(\"expandcards\") ? renderCard() : <BS.Accordion.Collapse eventKey={member.id}>\r\n            {renderCard()}\r\n        </BS.Accordion.Collapse>}\r\n        </LazyLoad>\r\n        \r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport  * as BS from 'react-bootstrap'\r\nimport { useForm } from \"react-hook-form\";\r\nimport moment from 'moment';\r\nimport Popup from 'reactjs-popup';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport autosize from 'autosize';\r\nimport Twemoji from 'react-twemoji';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nimport API_URL from \"../Constants/constants.js\";\r\nimport history from \"../History.js\";\r\n\r\nimport defaultAvatar from '../default_discord_avatar.png'\r\nimport { FaLink, FaLock, FaTrashAlt } from \"react-icons/fa\";\r\n\r\nexport default function MemberPage(props) {\r\n\r\n    const [ member, setMember] = useState(props.member);\r\n    const system = JSON.parse(localStorage.getItem('user'));\r\n    const sysID = system.id;\r\n\r\n    const [ displayName, setDisplayName ] = useState(\"\");\r\n    const [ birthday, setBirthday ] = useState(\"\");\r\n    const [ birthdate, setBirthdate ] = useState(\"\");\r\n    const [ pronouns, setPronouns ] = useState(\"\");\r\n    const [ editPronouns, setEditPronouns ] = useState(\"\");\r\n    const [ avatar, setAvatar ] = useState(\"\");\r\n    const [ color, setColor ] = useState(\"\");\r\n    const [ desc, setDesc ] = useState(\"\");\r\n    const [ editDesc, setEditDesc ] = useState(\"\");\r\n    const [ proxyTags, setProxyTags ] = useState(member.proxy_tags);\r\n\r\n    const [ editMode, setEditMode ] = useState(false);\r\n    const [ privacyMode, setPrivacyMode ] = useState(false);\r\n    const [ privacyView, setPrivacyView ] = useState(false);\r\n    const [ proxyView, setProxyView ] = useState(false);\r\n    const [ proxyMode, setProxyMode ] = useState(false);\r\n    \r\n    const [open, setOpen] = useState(false);\r\n    const closeModal = () => setOpen(false);\r\n\r\n    const [ errorAlert, setErrorAlert ] = useState(false);\r\n    const [ wrongID, setWrongID ] = useState(false);\r\n    const [ memberDeleted, setMemberDeleted ] = useState(false);\r\n\r\n    const {\r\n        register: registerEdit,\r\n        handleSubmit: handleSubmitEdit\r\n      } = useForm();\r\n\r\n    const {\r\n        register: registerPrivacy,\r\n        handleSubmit: handleSubmitPrivacy\r\n      } = useForm();\r\n\r\n    const {\r\n        register: registerDelete,\r\n        handleSubmit: handleSubmitDelete\r\n      } = useForm();\r\n  \r\n      const {\r\n        register: registerProxy,\r\n        handleSubmit: handleSubmitProxy,\r\n        } = useForm();\r\n\r\n        useEffect(() => {\r\n            autosize(document.querySelectorAll('textarea'));\r\n        })\r\n\r\n    useEffect(() => {\r\n        const { toHTML } = require('../Functions/discord-parser.js');\r\n\r\n        if (member.display_name) {\r\n            setDisplayName(member.display_name)\r\n        } else setDisplayName('')\r\n\r\n        if (member.birthday) { \r\n            setBirthdate(member.birthday)\r\n            if (member.birthday.startsWith('0004-')) {\r\n                var bdaymoment = moment(member.birthday, 'YYYY-MM-DD').format('MMM D');\r\n                setBirthday(bdaymoment);\r\n            } else {\r\n                var birthdaymoment =  moment(member.birthday, 'YYYY-MM-DD').format('MMM D, YYYY');\r\n                setBirthday(birthdaymoment);\r\n            }\r\n        } else { setBirthday('');\r\n        setBirthdate('');\r\n    }\r\n\r\n        if (member.pronouns) {\r\n            setPronouns(toHTML(member.pronouns));\r\n            setEditPronouns(member.pronouns);\r\n        } else { setPronouns('');\r\n        setEditPronouns('');\r\n    }\r\n\r\n        if (member.avatar_url) {\r\n            var avatarsmall = member.avatar_url.replace('&format=jpeg', '');\r\n            setAvatar(avatarsmall.replace('?width=256&height=256', ''))\r\n        } else setAvatar('')\r\n        \r\n        if (member.color) {\r\n            setColor(member.color);\r\n        } else setColor('');\r\n\r\n        if (member.description) {\r\n            setDesc(toHTML(member.description));\r\n            setEditDesc(member.description);\r\n        } else { setDesc(\"(no description)\");\r\n        setEditDesc(\"\");\r\n    }\r\n    }, [member.description, member.color, member.birthday, member.display_name, member.pronouns, member.avatar_url, member.proxy_tags]);\r\n\r\n    const submitEdit = data => {\r\n        props.edit(Object.assign(member, data));\r\n\r\n        fetch(`${API_URL}m/${member.id}`,{\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n            }}).then (res => res.json()\r\n            ).then (data => { \r\n                setMember(prevState => {return {...prevState, ...data}});\r\n                setErrorAlert(false);\r\n                setEditMode(false);\r\n        }\r\n            ).catch (error => {\r\n                console.error(error);\r\n                setErrorAlert(true);\r\n            });\r\n    }\r\n\r\n    const submitPrivacy = data => {\r\n        props.edit(Object.assign(member, data));\r\n        \r\n        fetch(`${API_URL}m/${member.id}`,{\r\n            method: 'PATCH',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n            }}).then (res => res.json()\r\n            ).then (data => {\r\n                setMember(prevState => {return {...prevState, ...data}});\r\n                setErrorAlert(false); \r\n                setPrivacyMode(false)\r\n        }\r\n            ).catch (error => {\r\n                console.error(error);\r\n                setErrorAlert(true);\r\n             })\r\n    }\r\n\r\n    const deleteMember = data => {\r\n        if (data.memberID !== member.id) {\r\n        setWrongID(true);\r\n        } else {\r\n            fetch(`${API_URL}m/${member.id}`,{\r\n                method: 'DELETE',\r\n                headers: {\r\n                'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n                }}).then (() => {\r\n                    setErrorAlert(false);\r\n                    setMemberDeleted(true);\r\n                })\r\n                .catch (error => {\r\n                    console.error(error);\r\n                    setErrorAlert(true);\r\n                })\r\n        }\r\n    }\r\n\r\n    function addProxyField() {\r\n        setProxyTags(oldTags => [...oldTags, {prefix: '', suffix: ''}] )\r\n    }\r\n\r\n    function resetProxyFields() {\r\n        setProxyMode(false);\r\n        setProxyTags(member.proxy_tags);\r\n    }\r\n\r\n    const submitProxy = data => {\r\n\r\n        const newdata = {proxy_tags: data.proxy_tags.filter(tag => !(tag.prefix === \"\" && tag.suffix === \"\"))}\r\n        props.edit(Object.assign(member, newdata));\r\n\r\n        fetch(`${API_URL}m/${member.id}`,{\r\n            method: 'PATCH',\r\n            body: JSON.stringify(newdata),\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n            }}).then (res => res.json()\r\n            ).then (data => { \r\n                setMember(prevState => {return {...prevState, ...data}}); \r\n                setProxyTags(data.proxy_tags); \r\n                setErrorAlert(false)\r\n                setProxyMode(false);\r\n        }\r\n            ).catch (error => {\r\n                console.error(error);\r\n                setErrorAlert(true);\r\n            });\r\n    }\r\n\r\n    function copyLink() {\r\n        var link = `https://spectralitree.github.io/pk-webs/profile/${sysID}/${member.id}`\r\n        var textField = document.createElement('textarea')\r\n        textField.innerText = link\r\n        document.body.appendChild(textField);\r\n\r\n        textField.select();\r\n        textField.setSelectionRange(0, 99999);\r\n        document.execCommand('copy');\r\n\r\n        document.body.removeChild(textField);\r\n    }\r\n\r\n    return (\r\n        memberDeleted ? <BS.Card className=\"mb-5\"><BS.Card.Header className=\"d-flex align-items-center justify-content-between\"><BS.Button variant=\"link\" className=\"float-left\"><FaTrashAlt className=\"mr-4\"/>Member Deleted</BS.Button></BS.Card.Header>\r\n        <BS.Card.Body>\r\n            Member successfully deleted, click the button below to go back to the dash.\r\n            <BS.Button variant=\"primary\" className=\"float-right\" onClick={() => history.push(\"/pk-webs/dash/reload\")}>Back</BS.Button>\r\n        </BS.Card.Body></BS.Card> :\r\n        <>\r\n            <Helmet>\r\n                <title>{member.name} | pk-webs</title>\r\n                <meta content={`${member.name} | pk-webs`} property=\"og:site_name\"/>\r\n                {member.avatar_url ? <meta content={`${member.avatar_url}`} property='og:image'/> : \"\"}\r\n                <meta content={`View ${member.name}'s profile on pk-webs.`} property=\"og:description\"/>\r\n            </Helmet>\r\n\r\n        { localStorage.getItem('colorbg') ? \"\" : member.color ? <><div className=\"backdrop\" style={{backgroundColor: `#${color}`}}/>\r\n        <div className=\"backdrop-overlay\"/></> : \"\" }\r\n        <BS.Card className=\"mb-5\">\r\n        <BS.Card.Header className=\"d-flex align-items-center justify-content-between\">\r\n        <div> { member.visibility === 'public' ? <BS.OverlayTrigger placement=\"left\" overlay={ \r\n            <BS.Tooltip>\r\n                Copy public link\r\n            </BS.Tooltip>\r\n        }><BS.Button variant=\"link\" onClick={() => copyLink()}><FaLink style={{fontSize: '1.25rem'}}/></BS.Button></BS.OverlayTrigger> : <BS.Button variant=\"link\"><FaLock style={{fontSize: '1.25rem'}} /></BS.Button> }<BS.Button variant=\"link\" ><b>{member.name}</b> ({member.id})</BS.Button> </div> \r\n            { member.avatar_url ?   <Popup trigger={<BS.Image src={`${member.avatar_url}`} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />} className=\"avatar\" modal>\r\n                {close => (\r\n                  <div className=\"text-center w-100 m-0\" onClick={() => close()}>\r\n                    <div className=\"m-auto\" style={{maxWidth: '640px'}}>\r\n                        <BS.Image src={`${avatar}`} style={{'maxWidth': '100%', height: 'auto'}} thumbnail />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n            </Popup> : \r\n        <BS.Image src={defaultAvatar} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />}\r\n        </BS.Card.Header>\r\n                <BS.Card.Body style={{ borderLeft: localStorage.getItem('colorbg') ? `5px solid #${color}` : ''}}>\r\n                { errorAlert ? <BS.Alert variant=\"danger\">Something went wrong, please try logging in and out again.</BS.Alert> : \"\" }\r\n                { editMode ?\r\n                <>\r\n                <BS.Form id='Edit' onSubmit={handleSubmitEdit(submitEdit)}>\r\n                <BS.Form.Row>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Name:</BS.Form.Label>\r\n                   <BS.Form.Control name=\"name\" ref={registerEdit} defaultValue={member.name} />\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Display name: </BS.Form.Label>\r\n                    <BS.Form.Control name=\"display_name\" ref={registerEdit}  defaultValue={displayName} />\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Birthday:</BS.Form.Label>\r\n                    <BS.Form.Control  pattern=\"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$\" name=\"birthday\" ref={registerEdit}  defaultValue={birthdate}/>\r\n                    <BS.Form.Text>(YYYY-MM-DD)</BS.Form.Text>\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Pronouns:</BS.Form.Label>\r\n                    <BS.Form.Control maxLength=\"100\" name=\"pronouns\" ref={registerEdit} defaultValue={editPronouns} />\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Avatar url:</BS.Form.Label> \r\n                  <BS.Form.Control type=\"url\" name=\"avatar_url\" ref={registerEdit}  defaultValue={avatar} />\r\n                </BS.Col>\r\n                <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Color:</BS.Form.Label> \r\n                   <BS.Form.Control  pattern=\"[A-Fa-f0-9]{6}\" name=\"color\" ref={registerEdit}  defaultValue={color} />\r\n                    <BS.Form.Text>(hexcode)</BS.Form.Text>\r\n                </BS.Col>\r\n            </BS.Form.Row>\r\n            <BS.Form.Group className=\"mt-3\">\r\n                <BS.Form.Label>Description:</BS.Form.Label>\r\n                <BS.Form.Control maxLength=\"1000\" as=\"textarea\" name=\"description\" ref={registerEdit} defaultValue={editDesc}/>\r\n            </BS.Form.Group>\r\n            <BS.Button variant=\"light\" onClick={() => setEditMode(false)}>Cancel</BS.Button> <BS.Button variant=\"primary\" type=\"submit\">Submit</BS.Button> <BS.Button variant=\"danger\" className=\"float-right\" onClick={() => setOpen(o => !o)}>Delete</BS.Button>\r\n            </BS.Form>\r\n                   <Popup open={open} position=\"top-center\" modal>\r\n                       <BS.Container>\r\n                       <BS.Card>\r\n                           <BS.Card.Header>\r\n                               <h5><FaTrashAlt className=\"mr-3\"/> Are you sure you want to delete {member.name}?</h5>\r\n                           </BS.Card.Header>\r\n                           <BS.Card.Body>\r\n                             { wrongID ? <BS.Alert variant=\"danger\">Incorrect ID, please check the spelling.</BS.Alert> : \"\" }\r\n                               <p>If you're sure you want to delete this member, please enter the member ID ({member.id}) below.</p>\r\n                               <BS.Form id='Delete' onSubmit={handleSubmitDelete(deleteMember)}>\r\n                                   <BS.Form.Label>Member ID:</BS.Form.Label>\r\n                                   <BS.Form.Control className=\"mb-4\" name=\"memberID\" ref={registerDelete({required: true})} placeholder={member.id} />\r\n                                   <BS.Button variant=\"danger\" type=\"submit\">Delete</BS.Button> <BS.Button variant=\"light\" className=\"float-right\" onClick={closeModal}>Cancel</BS.Button>\r\n                               </BS.Form>\r\n                           </BS.Card.Body>\r\n                       </BS.Card>\r\n                       </BS.Container>\r\n                    </Popup></>\r\n                 :\r\n            <>\r\n            <BS.Row>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>ID:</b> {member.id}</BS.Col>\r\n                { member.display_name ? localStorage.getItem('twemoji') ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><Twemoji options={{ className: 'twemoji' }}><b>Display name: </b>{displayName}</Twemoji></BS.Col> :\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Display name:</b> {displayName}</BS.Col> : \"\" }\r\n                { member.birthday ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Birthday:</b> {birthday}</BS.Col> : \"\" }\r\n                { member.pronouns ?  localStorage.getItem('twemoji') ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><Twemoji options={{ className: 'twemoji' }}><b>Pronouns:</b> <span dangerouslySetInnerHTML={{__html: pronouns}}></span></Twemoji></BS.Col> : \r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Pronouns:</b> <span dangerouslySetInnerHTML={{__html: pronouns}}></span></BS.Col> : \"\" }\r\n                { member.color ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Color:</b> {color}</BS.Col> : \"\" }\r\n                { privacyView ? \"\" : proxyView ? \"\" : <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Privacy:</b> <BS.Button variant=\"light\" size=\"sm\" onClick={() => setPrivacyView(true)}>View</BS.Button></BS.Col> }\r\n                { privacyView ? \"\" : proxyView ? \"\" : <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Proxy tags:</b> <BS.Button variant=\"light\" size=\"sm\" onClick={() => setProxyView(true)}>View</BS.Button></BS.Col> }\r\n                \r\n            </BS.Row>\r\n            { privacyMode ? <BS.Form id='Privacy' onSubmit={handleSubmitPrivacy(submitPrivacy)}>\r\n                <hr/>\r\n                <h5>Editing privacy settings</h5>\r\n                    <BS.Form.Row>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                        <BS.Form.Label>Visibility:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"visibility\" defaultValue={member.visibility} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Name:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"name_privacy\" defaultValue={member.name_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Description:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"description_privacy\" defaultValue={member.description_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Avatar:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"avatar_privacy\" defaultValue={member.avatar_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Birthday:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"birthday_privacy\" defaultValue={member.birthday_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Pronouns:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"pronoun_privacy\" defaultValue={member.pronoun_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-3\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Meta:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"metadata_privacy\" defaultValue={member.metadata_privacy} as=\"select\" ref={registerPrivacy}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                </BS.Form.Row>\r\n                <BS.Button variant=\"light\" onClick={() => setPrivacyMode(false)}>Cancel</BS.Button> <BS.Button variant=\"primary\" type=\"submit\">Submit</BS.Button>                \r\n                <hr/>\r\n            </BS.Form> : privacyView ? <><hr/>\r\n                <h5>Viewing privacy settings</h5>\r\n            <BS.Row>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Visibility:</b> {member.visibility}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Name: </b>{member.name_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Description:</b> {member.description_privacy}</BS.Col> \r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Avatar:</b> {member.avatar_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Birthday:</b> {member.birthday_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Pronouns:</b> {member.pronoun_privacy}</BS.Col>\r\n                <BS.Col className=\"mb-3\" xs={12} lg={3}><b>Meta:</b> {member.metadata_privacy}</BS.Col>\r\n            </BS.Row>\r\n         <BS.Button variant=\"light\" onClick={() => setPrivacyView(false)}>Exit</BS.Button>  <BS.Button variant=\"primary\" onClick={() => setPrivacyMode(true)}>Edit</BS.Button>\r\n         <hr/></> : \"\" }\r\n         { proxyMode ?\r\n         <><hr/>\r\n         <h5>Editing proxy tags</h5>\r\n         <BS.Form onSubmit={handleSubmitProxy(submitProxy)}>\r\n             <BS.Form.Row>\r\n                { proxyTags.map((item, index) => (\r\n                    <BS.Col key={index} className=\"mb-lg-2\" xs={12} lg={2}>\r\n                        <BS.Form.Row>\r\n                        <BS.InputGroup className=\"ml-1 mr-1 mb-1\">\r\n                        <BS.Form.Control as=\"textarea\" rows=\"1\" name={`proxy_tags[${index}].prefix`} defaultValue={item.prefix} ref={registerProxy}/> \r\n                        <BS.Form.Control as=\"textarea\" rows=\"1\" disabled placeholder='text'/>\r\n                        <BS.Form.Control as=\"textarea\" rows=\"1\" name={`proxy_tags[${index}].suffix`} defaultValue={item.suffix} ref={registerProxy}/>\r\n                        </BS.InputGroup>\r\n                        </BS.Form.Row>\r\n                    </BS.Col>\r\n                ))} <BS.Col className=\"mb-2\" xs={12} lg={3}><BS.Button block variant=\"light\" onClick={() => addProxyField()}>Add new</BS.Button></BS.Col>\r\n             </BS.Form.Row>\r\n             <BS.Button variant=\"light\" onClick={() => resetProxyFields()}>Exit</BS.Button> <BS.Button variant=\"primary\" type=\"submit\">Submit</BS.Button>\r\n        </BS.Form><hr/></> : proxyView ? \r\n         <><hr/>\r\n             <h5>Viewing proxy tags</h5>\r\n         <BS.Row className=\"mb-2\">\r\n          { proxyTags.length === 0 ? <BS.Col className=\"mb-lg-2\"><b>No proxy tags set.</b></BS.Col> : proxyTags.map((proxytag, index) => <BS.Col key={index} className=\"mb-lg-2\" xs={12} lg={2}> <code>{proxytag.prefix}text{proxytag.suffix}</code></BS.Col> )}\r\n         </BS.Row>\r\n         <BS.Button variant=\"light\" onClick={() => setProxyView(false)}>Exit</BS.Button>  <BS.Button variant=\"primary\" onClick={() => setProxyMode(true)}>Edit</BS.Button>\r\n            <hr/></> : \"\" }\r\n            <p><b>Description:</b></p>\r\n            { localStorage.getItem('twemoji') ? <Twemoji options={{ className: 'twemoji' }}><p dangerouslySetInnerHTML={{__html: desc}}></p></Twemoji> : <p dangerouslySetInnerHTML={{__html: desc}}></p>}\r\n                { proxyView ? \"\" : privacyMode ? \"\" : privacyView ? \"\" : <><BS.Button variant=\"light\" onClick={() => setEditMode(true)}>Edit</BS.Button> <Link to=\"/pk-webs/dash\" ><BS.Button variant=\"primary\" className=\"float-right\">Back</BS.Button></Link></>}\r\n            </> } </BS.Card.Body></BS.Card></>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport * as BS from 'react-bootstrap';\r\nimport { useParams } from \"react-router-dom\";\r\nimport MemberPage from './MemberPage.js'\r\n\r\nexport default function MemberPages(props) {\r\n    const { memberID } = useParams();\r\n    \r\n    \r\n    const memberpages = props.members.filter((member) => member.id === memberID)\r\n    const memberpage = memberpages.map((member) => <MemberPage key={member.id} member={member} edit={props.edit}/>)\r\n    const noMatch = memberpages.length === 0;\r\n\r\n    useEffect (() => { \r\n        if (memberpages.length === 0) {\r\n         }\r\n    }, [memberpages])\r\n\r\n    if (noMatch) return (\r\n        <BS.Alert variant=\"danger\">You do not have a member with the ID '{memberID}' in your system. Please check the ID again.</BS.Alert>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            {memberpage}\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport  * as BS from 'react-bootstrap'\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <BS.Container fluid className=\"text-center\"><BS.Spinner animation=\"border\" /></BS.Container>\r\n    )\r\n}","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { useRouteMatch, Switch, Route } from \"react-router-dom\";\r\nimport  * as BS from 'react-bootstrap'\r\nimport Popup from 'reactjs-popup';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport MemberCard from './MemberCard.js'\r\nimport MemberPages from './MemberPages.js'\r\nimport Loading from \"./Loading.js\";\r\nimport API_URL from \"../Constants/constants.js\";\r\n\r\nimport { FaPlus } from \"react-icons/fa\";\r\n\r\nexport default function Memberlist() {\r\n\r\n    const { path } = useRouteMatch();\r\n    \r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    const userId = user.id;\r\n\r\n    const [isLoading, setIsLoading ] = useState(false);\r\n    const [isError, setIsError ] = useState(false);\r\n    const [errorAlert, setErrorAlert ] = useState(false);\r\n\r\n    const [proxyView, setProxyView] = useState(false);\r\n    const [privacyView, setPrivacyView] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [membersPerPage, setMembersPerPage] = useState(25);\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const closeModal = () => setOpen(false);\r\n\r\n    const [members, setMembers ] = useState([]);\r\n\r\n    const [searchBy, setSearchBy] = useState('name')\r\n    const [privacyFilter, setPrivacyFilter] = useState('all')\r\n    const [sortBy, setSortBy] = useState('name')\r\n\r\n    const [value, setValue] = useState('');\r\n    const [proxyTags, setProxyTags] = useState([{\r\n      prefix: \"\", suffix: \"\"\r\n    }]);\r\n\r\n    const {register, handleSubmit} = useForm();\r\n\r\n  const fetchMembers = useCallback( () => {\r\n    setIsLoading(true);\r\n    setIsError(false);\r\n    setMembersPerPage(localStorage.getItem(\"expandcards\") ? 10 : 25);\r\n\r\n     fetch(`${API_URL}s/${userId}/members`,{\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n    }}).then ( res => res.json()\r\n    ).then (data => { \r\n      setMembers(data)\r\n      setIsLoading(false);\r\n  })\r\n    .catch (error => { \r\n        console.log(error);\r\n        setIsError(true);\r\n        setIsLoading(false);\r\n    })\r\n  }, [userId])\r\n\r\n  useEffect(() => {\r\n    fetchMembers();\r\n  }, [fetchMembers])\r\n\r\n  const indexOfLastMember = currentPage * membersPerPage;\r\n  const indexOfFirstMember = indexOfLastMember - membersPerPage;\r\n\r\n    let Members = members.map(member => {\r\n      if (member.display_name) {\r\n        return {...member, displayName: member.display_name}\r\n      } return {...member, displayName: member.name}\r\n    }) \r\n    let Members1 = Members.map(member => {\r\n      if (member.description) {\r\n        return {...member, desc: member.description}\r\n      } return {...member, desc: \"(no description)\"}\r\n    })\r\n\r\n    const currentMembers = Members1.filter(member => {\r\n      if (!value & privacyFilter === 'all') return true;\r\n      \r\n      if (privacyFilter === 'private') {\r\n        if (member.visibility !== 'private') {\r\n          return false;\r\n        }\r\n      } else if (privacyFilter === 'public') {\r\n        if (member.visibility !== 'public') {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      if (searchBy === 'name') {\r\n      if (member.name.toLowerCase().includes(value.toLowerCase())) {\r\n        return true;\r\n      }\r\n      return false;\r\n    } else if (searchBy === 'display name') {\r\n      if (member.displayName.toLowerCase().includes(value.toLowerCase())) {\r\n        return true;\r\n      }\r\n      return false\r\n    } else if (searchBy === 'description') {\r\n      if (member.desc.toLowerCase().includes(value.toLowerCase())) {\r\n        return true;\r\n      }\r\n      return false;\r\n    } else if (searchBy === 'ID') {\r\n      if (member.id.toLowerCase().includes(value.toLowerCase())) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n      return false;\r\n    })\r\n\r\n    const active = currentPage;\r\n    const pageAmount = Math.ceil(currentMembers.length / membersPerPage);\r\n\r\n      var sortMembers = currentMembers;\r\n      if (sortBy === 'name') {\r\n        sortMembers =  currentMembers.sort((a, b) => a.name.localeCompare(b.name)).slice(indexOfFirstMember, indexOfLastMember);\r\n      } else if (sortBy === 'display name') {\r\n        sortMembers =  currentMembers.sort((a, b) => a.displayName.localeCompare(b.displayName)).slice(indexOfFirstMember, indexOfLastMember);\r\n      } else if (sortBy === 'ID') {\r\n        sortMembers =  currentMembers.sort((a, b) => a.id.localeCompare(b.id)).slice(indexOfFirstMember, indexOfLastMember);\r\n      } else if (sortBy === 'date created') {\r\n        sortMembers =  currentMembers.sort((a, b) => a.created.localeCompare(b.created)).slice(indexOfFirstMember, indexOfLastMember);\r\n      }\r\n\r\n      const memberList = sortMembers.map((member) => <BS.Card key={member.id} className={localStorage.getItem(\"expandcards\") ? \"mb-3\" : \"\"}>\r\n      <MemberCard\r\n      member={member} \r\n      edit={memberEdit => setMembers(members.map(member => member.id === memberEdit.id ? Object.assign(member, memberEdit) : member))}\r\n      />\r\n    </BS.Card>\r\n    );\r\n\r\n    function addProxyField() {\r\n      setProxyTags(oldTags => [...oldTags, {prefix: '', suffix: ''}] )\r\n    }\r\n\r\n    const submitMember = data => {\r\n      setIsLoading(true);\r\n\r\n      const newdata = data.proxy_tags ? {...data, proxy_tags: data.proxy_tags.filter(tag => !(tag.prefix === \"\" && tag.suffix === \"\"))} : data\r\n\r\n      fetch(`${API_URL}m/`,{\r\n        method: 'POST',\r\n        body: JSON.stringify(newdata),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n        }}).then (res => res.json()\r\n        ).then (data => { \r\n            setErrorAlert(false);\r\n            closeModal();\r\n            fetchMembers();\r\n    }\r\n        ).catch (error => {\r\n            console.error(error);\r\n            setErrorAlert(true);\r\n        });\r\n    }\r\n\r\n    return (\r\n      <Switch>\r\n        <Route exact path={path}>\r\n        <>\r\n        <BS.Row className=\"mb-lg-3 justfiy-content-md-center\">\r\n        <BS.Col xs={12} lg={4}>\r\n        <BS.Form>\r\n          <BS.InputGroup className=\"mb-3\">\r\n          <BS.Form.Control disabled placeholder='Page length:'/>\r\n            <BS.Form.Control as=\"select\" defaultValue={localStorage.getItem(\"expandcards\") ? 10 : 25} onChange={e => {\r\n              setMembersPerPage(e.target.value);\r\n              setCurrentPage(1);\r\n              }}>\r\n              <option>10</option>\r\n              <option>25</option>\r\n              <option>50</option>\r\n              <option>100</option>\r\n            </BS.Form.Control>\r\n            </BS.InputGroup>\r\n        </BS.Form>\r\n        </BS.Col>\r\n        <BS.Col xs={12} lg={4}>\r\n        <BS.Form>\r\n          <BS.InputGroup className=\"mb-3\">\r\n          <BS.Form.Control disabled placeholder='Search by:'/>\r\n            <BS.Form.Control as=\"select\" defaultValue={searchBy} onChange={e => {\r\n              setSearchBy(e.target.value)\r\n              }}>\r\n              <option>name</option>\r\n              <option>display name</option>\r\n              <option>description</option>\r\n              <option>ID</option>\r\n            </BS.Form.Control>\r\n            </BS.InputGroup>\r\n        </BS.Form>\r\n        </BS.Col>\r\n        <BS.Col xs={12} lg={4}>\r\n        <BS.Form>\r\n          <BS.InputGroup className=\"mb-3\">\r\n          <BS.Form.Control disabled placeholder='Sort by:'/>\r\n            <BS.Form.Control as=\"select\" defaultValue={sortBy} onChange={e => {\r\n              setSortBy(e.target.value)\r\n              }}>\r\n              <option>name</option>\r\n              <option>display name</option>\r\n              <option>ID</option>\r\n              <option>date created</option>\r\n            </BS.Form.Control>\r\n            </BS.InputGroup>\r\n        </BS.Form>\r\n        </BS.Col>\r\n        </BS.Row>\r\n        <BS.Row className=\"justify-content-md-center\">\r\n        <BS.Col xs={12} lg={3}>\r\n        <BS.Form>\r\n          <BS.InputGroup className=\"mb-3\">\r\n          <BS.Form.Control disabled placeholder='Only show:'/>\r\n            <BS.Form.Control as=\"select\" defaultValue={privacyFilter} onChange={e => {\r\n              setPrivacyFilter(e.target.value)\r\n              }}>\r\n              <option>all</option>\r\n              <option>private</option>\r\n              <option>public</option>\r\n            </BS.Form.Control>\r\n            </BS.InputGroup>\r\n        </BS.Form>\r\n        </BS.Col>\r\n        <BS.Col className=\"mb-3\" xs={12} lg={7}>\r\n        <BS.Form>\r\n            <BS.Form.Control value={value} onChange={e => {setValue(e.target.value); setCurrentPage(1);}} placeholder={`Search by ${searchBy}`}/>\r\n        </BS.Form>\r\n        </BS.Col>\r\n        <BS.Col className=\"mb-3\" xs={12} lg={2}>\r\n          <BS.Button type=\"primary\" className=\"m-0\" block onClick={() => fetchMembers()}>Refresh</BS.Button>\r\n        </BS.Col>\r\n        </BS.Row>\r\n        <BS.Row className=\"justify-content-md-center\">\r\n        <BS.Pagination className=\"ml-auto mr-auto\">\r\n          { currentPage === 1 ? <BS.Pagination.Prev disabled/> : <BS.Pagination.Prev onClick={() => setCurrentPage(currentPage - 1)} />}\r\n          { currentPage < 3 ? \"\" : <BS.Pagination.Item  onClick={() => setCurrentPage(1)} active={1 === active}>{1}</BS.Pagination.Item>}\r\n          { currentPage < 4 ? \"\" : currentPage < 5 ? <BS.Pagination.Item  onClick={() => setCurrentPage(2)} active={2 === active}>{2}</BS.Pagination.Item> : <BS.Pagination.Ellipsis disabled />}\r\n          { currentPage > 1 ? <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage - 1)}>{currentPage - 1}</BS.Pagination.Item> : \"\" }\r\n          <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage)} active={currentPage === active}>{currentPage}</BS.Pagination.Item>\r\n          { currentPage < pageAmount ? <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage + 1)}>{currentPage + 1}</BS.Pagination.Item> : \"\" }\r\n          { currentPage > pageAmount - 3 ? \"\" : currentPage === pageAmount - 3 ? <BS.Pagination.Item  onClick={() => setCurrentPage(pageAmount - 1)} active={pageAmount - 1 === active}>{pageAmount - 1}</BS.Pagination.Item> : <BS.Pagination.Ellipsis disabled />}\r\n          { currentPage > pageAmount - 2 ? \"\" : <BS.Pagination.Item  onClick={() => setCurrentPage(pageAmount)} active={pageAmount === active}>{pageAmount}</BS.Pagination.Item>}\r\n          { currentPage === pageAmount ? <BS.Pagination.Next disabled /> :<BS.Pagination.Next onClick={() => setCurrentPage(currentPage + 1)} />}\r\n          </BS.Pagination>\r\n        </BS.Row>\r\n        { isLoading ? <Loading /> : isError ? \r\n        <BS.Alert variant=\"danger\">Error fetching members.</BS.Alert> :\r\n        <>\r\n        <BS.Card className=\"w-100\">\r\n          <BS.Card.Header className=\"d-flex align-items-center justify-content-between\">\r\n            <BS.Button variant=\"link\" className=\"float-left\" onClick={() => setOpen(o => !o)}><FaPlus className=\"mr-4\"/>Add Member</BS.Button> \r\n            <Popup open={open} position=\"top-center\" modal>\r\n              <BS.Container>\r\n                <BS.Card>\r\n                  <BS.Card.Header>\r\n                      <h5><FaPlus className=\"mr-3\"/> Add member </h5>\r\n                  </BS.Card.Header>\r\n                  <BS.Card.Body>\r\n                  { errorAlert ? <BS.Alert variant=\"danger\">Something went wrong, please try logging in and out again.</BS.Alert> : \"\" }\r\n                    <BS.Form onSubmit={handleSubmit(submitMember)}>\r\n                            <BS.Form.Text>\r\n                            </BS.Form.Text>\r\n                            <BS.Form.Row>\r\n                        <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                            <BS.Form.Label>Name:</BS.Form.Label>\r\n                          <BS.Form.Control name=\"name\" ref={register()} defaultValue={''} required/>\r\n                        </BS.Col>\r\n                        <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                            <BS.Form.Label>Display name: </BS.Form.Label>\r\n                            <BS.Form.Control name=\"display_name\" ref={register}  defaultValue={''} />\r\n                        </BS.Col>\r\n                        <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                            <BS.Form.Label>Birthday:</BS.Form.Label>\r\n                            <BS.Form.Control  pattern=\"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$\" name=\"birthday\" ref={register}  defaultValue={''}/>\r\n                            <BS.Form.Text>(YYYY-MM-DD)</BS.Form.Text>\r\n                        </BS.Col>\r\n                        <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                            <BS.Form.Label>Pronouns:</BS.Form.Label>\r\n                            <BS.Form.Control name=\"pronouns\" ref={register} defaultValue={''} />\r\n                        </BS.Col>\r\n                        <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                            <BS.Form.Label>Avatar url:</BS.Form.Label> \r\n                          <BS.Form.Control type=\"url\" name=\"avatar_url\" ref={register}  defaultValue={''} />\r\n                        </BS.Col>\r\n                        <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                            <BS.Form.Label>Color:</BS.Form.Label> \r\n                          <BS.Form.Control  pattern=\"[A-Fa-f0-9]{6}\" name=\"color\" ref={register}  defaultValue={''} />\r\n                            <BS.Form.Text>(hexcode)</BS.Form.Text>\r\n                        </BS.Col>\r\n                        <BS.Col className=\"mb-lg-2\" xs={12} lg={2}>\r\n                            <BS.Form.Label>Proxy tags:</BS.Form.Label> \r\n                            <BS.Button variant=\"primary\" block onClick={() => setProxyView(view => !view)}> { proxyView ? \"Hide\" : \"Show\" }</BS.Button>\r\n                        </BS.Col>\r\n                        <BS.Col className=\"mb-lg-2\" xs={12} lg={2}>\r\n                            <BS.Form.Label>Privacy settings:</BS.Form.Label> \r\n                            <BS.Button variant=\"primary\" block onClick={() => setPrivacyView(view => !view)}> { privacyView ? \"Hide\" : \"Show\" }</BS.Button>\r\n                        </BS.Col>\r\n                    </BS.Form.Row>\r\n                    <hr/>\r\n                    { proxyView ? <>\r\n                <h5>Proxy Tags</h5>\r\n                    <BS.Form.Row>\r\n                  { proxyTags.map((item, index) => (\r\n                    <BS.Col key={index} className=\"mb-lg-2\" xs={12} lg={2}>\r\n                        <BS.Form.Row>\r\n                        <BS.InputGroup className=\"ml-1 mr-1 mb-1\">\r\n                        <BS.Form.Control name={`proxy_tags[${index}].prefix`} defaultValue={item.prefix} ref={register}/> \r\n                        <BS.Form.Control disabled placeholder='text'/>\r\n                        <BS.Form.Control name={`proxy_tags[${index}].suffix`} defaultValue={item.suffix} ref={register}/>\r\n                        </BS.InputGroup>\r\n                        </BS.Form.Row>\r\n                    </BS.Col>\r\n                ))} <BS.Col className=\"mb-lg-2\" xs={12} lg={2}><BS.Button block variant=\"light\" onClick={() => addProxyField()}>Add new</BS.Button></BS.Col>\r\n             </BS.Form.Row>\r\n                    <hr/></> : \"\" }\r\n                { privacyView ? <><h5>privacy settings</h5>\r\n                    <BS.Form.Row>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                        <BS.Form.Label>Visibility:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"visibility\" as=\"select\" ref={register}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Name:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"name_privacy\" as=\"select\" ref={register}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Description:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"description_privacy\" as=\"select\" ref={register}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Birthday:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"birthday_privacy\" as=\"select\" ref={register}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-lg-2\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Pronouns:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"pronoun_privacy\" as=\"select\" ref={register}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                    <BS.Col className=\"mb-3\" xs={12} lg={3}>\r\n                    <BS.Form.Label>Meta:</BS.Form.Label>\r\n                        <BS.Form.Control name=\"metadata_privacy\" as=\"select\" ref={register}>\r\n                            <option>public</option>\r\n                            <option>private</option>\r\n                        </BS.Form.Control>\r\n                    </BS.Col>\r\n                </BS.Form.Row>               \r\n                <hr/></> : \"\" }\r\n                <BS.Form.Group className=\"mt-3\">\r\n                        <BS.Form.Label>Description:</BS.Form.Label>\r\n                        <BS.Form.Control maxLength=\"1000\" as=\"textarea\" rows=\"7\" name=\"description\" ref={register} defaultValue={''}/>\r\n                    </BS.Form.Group>\r\n                    <BS.Button variant=\"primary\" type=\"submit\">Submit</BS.Button> <BS.Button variant=\"light\" className=\"float-right\" onClick={closeModal}>Cancel</BS.Button>\r\n                    </BS.Form>\r\n                  </BS.Card.Body>\r\n                </BS.Card>\r\n              </BS.Container>\r\n            </Popup>\r\n          </BS.Card.Header>\r\n        </BS.Card>\r\n        \r\n        <BS.Accordion className=\"mb-3 mt-3 w-100\" defaultActiveKey=\"0\">\r\n            {memberList}\r\n        </BS.Accordion>\r\n        <BS.Row className=\"justify-content-md-center\">\r\n        <BS.Pagination className=\"ml-auto mr-auto\">\r\n          { currentPage === 1 ? <BS.Pagination.Prev disabled/> : <BS.Pagination.Prev onClick={() => setCurrentPage(currentPage - 1)} />}\r\n          { currentPage < 3 ? \"\" : <BS.Pagination.Item  onClick={() => setCurrentPage(1)} active={1 === active}>{1}</BS.Pagination.Item>}\r\n          { currentPage < 4 ? \"\" : currentPage < 5 ? <BS.Pagination.Item  onClick={() => setCurrentPage(2)} active={2 === active}>{2}</BS.Pagination.Item> : <BS.Pagination.Ellipsis disabled />}\r\n          { currentPage > 1 ? <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage - 1)}>{currentPage - 1}</BS.Pagination.Item> : \"\" }\r\n          <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage)} active={currentPage === active}>{currentPage}</BS.Pagination.Item>\r\n          { currentPage < pageAmount ? <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage + 1)}>{currentPage + 1}</BS.Pagination.Item> : \"\" }\r\n          { currentPage > pageAmount - 3 ? \"\" : currentPage === pageAmount - 3 ? <BS.Pagination.Item  onClick={() => setCurrentPage(pageAmount - 1)} active={pageAmount - 1 === active}>{pageAmount - 1}</BS.Pagination.Item> : <BS.Pagination.Ellipsis disabled />}\r\n          { currentPage > pageAmount - 2 ? \"\" : <BS.Pagination.Item  onClick={() => setCurrentPage(pageAmount)} active={pageAmount === active}>{pageAmount}</BS.Pagination.Item>}\r\n          { currentPage === pageAmount ? <BS.Pagination.Next disabled /> :<BS.Pagination.Next onClick={() => setCurrentPage(currentPage + 1)} />}\r\n          </BS.Pagination>\r\n        </BS.Row>\r\n        </>\r\n        }\r\n        </>\r\n        </Route>\r\n        <Route path={`${path}/:memberID`}>\r\n          { isLoading ? <Loading/> :\r\n          <MemberPages members={members}\r\n          edit={memberEdit => setMembers(members.map(member => member.id === memberEdit.id ? Object.assign(member, memberEdit) : member))}/>}\r\n        </Route>\r\n        </Switch>\r\n    )\r\n}","import React from 'react';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nimport System from './System.js'\r\nimport Memberlist from './Memberlist.js'\r\n\r\nexport default function Dash(props) {\r\n\r\n    return (<>\r\n            <Helmet>\r\n                <title>dash | pk-webs</title>\r\n                <meta content=\"dash | pk-webs\" property=\"og:site_name\"/>\r\n            </Helmet>\r\n            <System />\r\n            <Memberlist />\r\n            </>\r\n    );\r\n}","import * as BS from 'react-bootstrap'\r\n\r\nexport default function Navigation() {\r\n    return (\r\n        <BS.Navbar className=\"mt-4 align-items-center justify-content-between footer\">\r\n            <BS.Nav>\r\n                <BS.Nav.Item>\r\n                    <BS.Nav.Link rel=\"noreferrer\" target=\"_blank\" href=\"https://pluralkit.me/\">\r\n                        Pluralkit.me\r\n                    </BS.Nav.Link>\r\n                </BS.Nav.Item>\r\n                <BS.Nav.Item>\r\n                    <BS.Nav.Link rel=\"noreferrer\" target=\"_blank\" href=\"https://github.com/Spectralitree/pk-webs/\">\r\n                        Github \r\n                    </BS.Nav.Link>\r\n                </BS.Nav.Item>\r\n                <BS.Nav.Item>\r\n                    <BS.Nav.Link rel=\"noreferrer\" target=\"_blank\" href=\"https://ko-fi.com/spectralitree\">\r\n                        Ko-fi\r\n                    </BS.Nav.Link>\r\n                </BS.Nav.Item>\r\n            </BS.Nav>\r\n        </BS.Navbar>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport  * as BS from 'react-bootstrap'\r\nimport moment from 'moment';\r\nimport Popup from 'reactjs-popup';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport autosize from 'autosize';\r\nimport LazyLoad from 'react-lazyload';\r\nimport Twemoji from 'react-twemoji';\r\n\r\nimport defaultAvatar from '../default_discord_avatar.png'\r\nimport { FaLink } from \"react-icons/fa\";\r\n\r\nexport default function MemberCard(props) {\r\n    const { sysID } = useParams();\r\n    const member = props.member;\r\n\r\n    const [ avatar, setAvatar ] = useState('')\r\n    const [ displayName, setDisplayName ] = useState(\"\");\r\n    const [ birthday, setBirthday ] = useState(\"\");\r\n    const [ pronouns, setPronouns ] = useState(\"\");\r\n    const [ color, setColor ] = useState(\"\");\r\n    const [ desc, setDesc ] = useState(\"\");\r\n    const proxyTags = member.proxy_tags;\r\n\r\n    const [ proxyView, setProxyView ] = useState(false);\r\n\r\n        useEffect(() => {\r\n            autosize(document.querySelector('textarea'));\r\n        })\r\n\r\n    useEffect(() => {\r\n        const { toHTML } = require('../Functions/discord-parser.js');\r\n\r\n        if (member.display_name) {\r\n            setDisplayName(member.display_name)\r\n        } else setDisplayName('')\r\n\r\n        if (member.birthday) { \r\n            if (member.birthday.startsWith('0004-')) {\r\n                var bdaymoment = moment(member.birthday, 'YYYY-MM-DD').format('MMM D');\r\n                setBirthday(bdaymoment);\r\n            } else {\r\n                var birthdaymoment =  moment(member.birthday, 'YYYY-MM-DD').format('MMM D, YYYY');\r\n                setBirthday(birthdaymoment);\r\n            }\r\n        } else { setBirthday('');\r\n    }\r\n\r\n    if (member.avatar_url) {\r\n        var avatarsmall = member.avatar_url.replace('&format=jpeg', '');\r\n        setAvatar(avatarsmall.replace('?width=256&height=256', ''))\r\n    } else setAvatar('')\r\n\r\n        if (member.pronouns) {\r\n            setPronouns(toHTML(member.pronouns))\r\n        } else setPronouns('')\r\n\r\n        if (member.color) {\r\n            setColor(member.color);\r\n        } else setColor('');\r\n\r\n        if (member.description) {\r\n            setDesc(toHTML(member.description));\r\n        } else setDesc(\"(no description)\");\r\n    }, [member.description, member.color, member.birthday, member.display_name, member.pronouns, member.avatar_url, member.proxy_tags]);\r\n\r\n    function copyLink() {\r\n        var link = `https://spectralitree.github.io/pk-webs/profile/${sysID}/${member.id}`\r\n        var textField = document.createElement('textarea')\r\n        textField.innerText = link\r\n        document.body.appendChild(textField);\r\n\r\n        textField.select();\r\n        textField.setSelectionRange(0, 99999);\r\n        document.execCommand('copy');\r\n\r\n        document.body.removeChild(textField);\r\n    }\r\n\r\n    function renderCard() {\r\n        return (\r\n            <BS.Card.Body style={{borderLeft: `5px solid #${color}` }}>\r\n            <BS.Row>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>ID:</b> {member.id}</BS.Col>\r\n                { member.display_name ? localStorage.getItem('twemoji') ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><Twemoji options={{ className: 'twemoji' }}><b>Display name: </b>{displayName}</Twemoji></BS.Col> :\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Display name:</b> {displayName}</BS.Col> : \"\" }\r\n                { member.birthday ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Birthday:</b> {birthday}</BS.Col> : \"\" }\r\n                { member.pronouns ?  localStorage.getItem('twemoji') ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><Twemoji options={{ className: 'twemoji' }}><b>Pronouns:</b> <span dangerouslySetInnerHTML={{__html: pronouns}}></span></Twemoji></BS.Col> : \r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Pronouns:</b> <span dangerouslySetInnerHTML={{__html: pronouns}}></span></BS.Col> : \"\" }\r\n                { member.color ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Color:</b> {color}</BS.Col> : \"\" }\r\n                { proxyView ? \"\" : <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Proxy tags:</b> <BS.Button variant=\"light\" size=\"sm\" onClick={() => setProxyView(true)}>View</BS.Button></BS.Col> }\r\n                \r\n            </BS.Row>\r\n            { proxyView ? <><hr/>\r\n             <h5>Viewing proxy tags</h5>\r\n         <BS.Row className=\"mb-2\">\r\n          { proxyTags.length === 0 ? <BS.Col className=\"mb-lg-2\"><b>No proxy tags set.</b></BS.Col> : proxyTags.map((proxytag) => <BS.Col key={proxytag.index} className=\"mb-lg-2\" xs={12} lg={2}> <code>{proxytag.prefix}text{proxytag.suffix}</code></BS.Col> )}\r\n         </BS.Row>\r\n         <BS.Button variant=\"light\" onClick={() => setProxyView(false)}>Exit</BS.Button>\r\n            <hr/></> : \"\" }\r\n            <p><b>Description:</b></p>\r\n            { localStorage.getItem('twemoji') ? <Twemoji options={{ className: 'twemoji' }}><p dangerouslySetInnerHTML={{__html: desc}}></p></Twemoji> : <p dangerouslySetInnerHTML={{__html: desc}}></p>}\r\n            <BS.Row><BS.Col><Link to={`${sysID}/${member.id}`}><BS.Button variant=\"primary\" className=\"float-right\">View page</BS.Button></Link></BS.Col></BS.Row> </BS.Card.Body>\r\n        )\r\n    }\r\n\r\n    return (\r\n       <LazyLoad offset={100}>\r\n           <BS.Card.Header className=\"d-flex align-items-center justify-content-between\">\r\n           <div> <BS.OverlayTrigger placement=\"left\" overlay={ \r\n            <BS.Tooltip>\r\n                Copy link\r\n            </BS.Tooltip>\r\n        }><BS.Button variant=\"link\" onClick={() => copyLink()}><FaLink style={{fontSize: '1.25rem'}}/></BS.Button></BS.OverlayTrigger>\r\n           { localStorage.getItem('pagesonly') ? \r\n        <Link to={`${sysID}/${member.id}`}><BS.Button variant=\"link\"> <b>{member.name}</b> ({member.id})</BS.Button></Link>\r\n        : <BS.Accordion.Toggle  as={BS.Button} variant=\"link\" eventKey={member.id} > <b>{member.name}</b> ({member.id})</BS.Accordion.Toggle>}</div>\r\n            { member.avatar_url ?   <Popup trigger={<BS.Image src={`${member.avatar_url}`} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />} className=\"avatar\" modal>\r\n                {close => (\r\n                  <div className=\"text-center w-100 m-0\" onClick={() => close()}>\r\n                  <div className=\"m-auto\" style={{maxWidth: '640px'}}>\r\n                      <BS.Image src={`${avatar}`} style={{'maxWidth': '100%', height: 'auto'}} thumbnail />\r\n                  </div>\r\n                </div>\r\n                )}\r\n            </Popup> : \r\n        <BS.Image src={defaultAvatar} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />}\r\n        </BS.Card.Header>\r\n        {localStorage.getItem(\"expandcards\") ? renderCard() : <BS.Accordion.Collapse eventKey={member.id}>\r\n        {renderCard()}\r\n        </BS.Accordion.Collapse>}\r\n        </LazyLoad>\r\n        \r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport  * as BS from 'react-bootstrap'\r\nimport moment from 'moment';\r\nimport Popup from 'reactjs-popup';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport autosize from 'autosize';\r\nimport Twemoji from 'react-twemoji';\r\n\r\nimport defaultAvatar from '../default_discord_avatar.png'\r\nimport { FaLink } from \"react-icons/fa\";\r\n\r\nexport default function ProfilePage(props) {\r\n\r\n    const location = useLocation();\r\n    const member = props.member;\r\n\r\n    const [ avatar, setAvatar ] = useState('')\r\n    const [ displayName, setDisplayName ] = useState(\"\");\r\n    const [ birthday, setBirthday ] = useState(\"\");\r\n    const [ pronouns, setPronouns ] = useState(\"\");\r\n    const [ color, setColor ] = useState(\"\");\r\n    const [ desc, setDesc ] = useState(\"\");\r\n    const proxyTags = member.proxy_tags;\r\n\r\n    const [ proxyView, setProxyView ] = useState(false);\r\n\r\n        useEffect(() => {\r\n            autosize(document.querySelector('textarea'));\r\n        })\r\n\r\n    useEffect(() => {\r\n        const { toHTML } = require('../Functions/discord-parser.js');\r\n\r\n        if (member.display_name) {\r\n            setDisplayName(member.display_name)\r\n        } else setDisplayName('')\r\n\r\n        if (member.birthday) { \r\n            if (member.birthday.startsWith('0004-')) {\r\n                var bdaymoment = moment(member.birthday, 'YYYY-MM-DD').format('MMM D');\r\n                setBirthday(bdaymoment);\r\n            } else {\r\n                var birthdaymoment =  moment(member.birthday, 'YYYY-MM-DD').format('MMM D, YYYY');\r\n                setBirthday(birthdaymoment);\r\n            }\r\n        } else { setBirthday('');\r\n    }\r\n\r\n    if (member.avatar_url) {\r\n        var avatarsmall = member.avatar_url.replace('&format=jpeg', '');\r\n        setAvatar(avatarsmall.replace('?width=256&height=256', ''))\r\n    } else setAvatar('')\r\n\r\n        if (member.pronouns) {\r\n            setPronouns(toHTML(member.pronouns))\r\n        } else setPronouns('')\r\n\r\n        if (member.color) {\r\n            setColor(member.color);\r\n        } else setColor('');\r\n\r\n        if (member.description) {\r\n            setDesc(toHTML(member.description));\r\n        } else setDesc(\"(no description)\");\r\n    }, [member.description, member.color, member.birthday, member.display_name, member.pronouns, member.avatar_url, member.proxy_tags]);\r\n\r\n    function copyLink() {\r\n        var link = `https://spectralitree.github.io${location.pathname}`\r\n        var textField = document.createElement('textarea')\r\n        textField.innerText = link\r\n        document.body.appendChild(textField);\r\n\r\n        textField.select();\r\n        textField.setSelectionRange(0, 99999);\r\n        document.execCommand('copy');\r\n\r\n        document.body.removeChild(textField);\r\n    }\r\n\r\n    return (\r\n       <> \r\n       { localStorage.getItem('colorbg') ? \"\" : member.color ? <><div className=\"backdrop\" style={{backgroundColor: `#${color}`}}/>\r\n        <div className=\"backdrop-overlay\"/></> : \"\" }\r\n        <BS.Alert variant=\"primary\" >You are currently <b>viewing</b> a member.</BS.Alert>\r\n        <BS.Card className=\"mb-5\">\r\n        <BS.Card.Header className=\"d-flex align-items-center justify-content-between\">\r\n         <div> <BS.OverlayTrigger placement=\"left\" overlay={ \r\n            <BS.Tooltip>\r\n                Copy link\r\n            </BS.Tooltip>\r\n        }><BS.Button variant=\"link\" onClick={() => copyLink()}><FaLink style={{fontSize: '1.25rem'}}/></BS.Button></BS.OverlayTrigger>\r\n         <BS.Button variant=\"link\" ><b>{member.name}</b> ({member.id})</BS.Button></div>\r\n            { member.avatar_url ?   <Popup trigger={<BS.Image src={`${member.avatar_url}`} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />} className=\"avatar\" modal>\r\n                {close => (\r\n                  <div className=\"text-center w-100 m-0\" onClick={() => close()}>\r\n                  <div className=\"m-auto\" style={{maxWidth: '640px'}}>\r\n                      <BS.Image src={`${avatar}`} style={{'maxWidth': '100%', height: 'auto'}} thumbnail />\r\n                  </div>\r\n                </div>\r\n                )}\r\n            </Popup> : \r\n        <BS.Image src={defaultAvatar} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />}\r\n        </BS.Card.Header>\r\n                <BS.Card.Body style={{ borderLeft: localStorage.getItem('colorbg') ? `5px solid #${color}` : ''}}>\r\n            <BS.Row>\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>ID:</b> {member.id}</BS.Col>\r\n                { member.display_name ? localStorage.getItem('twemoji') ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><Twemoji options={{ className: 'twemoji' }}><b>Display name: </b>{displayName}</Twemoji></BS.Col> :\r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Display name:</b> {displayName}</BS.Col> : \"\" }\r\n                { member.birthday ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Birthday:</b> {birthday}</BS.Col> : \"\" }\r\n                { member.pronouns ?  localStorage.getItem('twemoji') ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><Twemoji options={{ className: 'twemoji' }}><b>Pronouns:</b> <span dangerouslySetInnerHTML={{__html: pronouns}}></span></Twemoji></BS.Col> : \r\n                <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Pronouns:</b> <span dangerouslySetInnerHTML={{__html: pronouns}}></span></BS.Col> : \"\" }\r\n                { member.color ? <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Color:</b> {color}</BS.Col> : \"\" }\r\n                { proxyView ? \"\" : <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Proxy tags:</b> <BS.Button variant=\"light\" size=\"sm\" onClick={() => setProxyView(true)}>View</BS.Button></BS.Col> }\r\n                \r\n            </BS.Row>\r\n            { proxyView ? <><hr/>\r\n             <h5>Viewing proxy tags</h5>\r\n         <BS.Row className=\"mb-2\">\r\n          { proxyTags.length === 0 ? <BS.Col className=\"mb-lg-2\"><b>No proxy tags set.</b></BS.Col> : proxyTags.map((proxytag) => <BS.Col key={proxytag.index} className=\"mb-lg-2\" xs={12} lg={2}> <code>{proxytag.prefix}text{proxytag.suffix}</code></BS.Col> )}\r\n         </BS.Row>\r\n         <BS.Button variant=\"light\" onClick={() => setProxyView(false)}>Exit</BS.Button>\r\n            <hr/></> : \"\" }\r\n            <p><b>Description:</b></p>\r\n            { localStorage.getItem('twemoji') ? <Twemoji options={{ className: 'twemoji' }}><p dangerouslySetInnerHTML={{__html: desc}}></p></Twemoji> : <p dangerouslySetInnerHTML={{__html: desc}}></p>}\r\n            <BS.Row><BS.Col><Link to={location.pathname.substring(0, location.pathname.lastIndexOf('/'))}><BS.Button variant=\"primary\" className=\"float-right\">Back</BS.Button></Link></BS.Col></BS.Row>\r\n            </BS.Card.Body>\r\n        </BS.Card>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport * as BS from 'react-bootstrap';\r\nimport { useParams } from \"react-router-dom\";\r\nimport ProfilePage from './ProfilePage.js'\r\n\r\nexport default function MemberPages(props) {\r\n    const { memberID } = useParams();\r\n    \r\n    const memberpages = props.members.filter((member) => member.id === memberID)\r\n    const memberpage = memberpages.map((member) => <ProfilePage key={member.id} member={member}/>)\r\n    const noMatch = memberpages.length === 0;\r\n\r\n    useEffect (() => { \r\n        if (memberpages.length === 0) {\r\n         }\r\n    }, [memberpages])\r\n\r\n    if (noMatch) return (\r\n        <BS.Alert variant=\"danger\">This system does not have a member with the ID '{memberID}', or the member's visibility is set to private.</BS.Alert>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            {memberpage}\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { Switch, Route, useParams, useRouteMatch } from 'react-router-dom';\r\nimport  * as BS from 'react-bootstrap'\r\nimport 'reactjs-popup/dist/index.css';\r\n\r\nimport ProfileCard from './ProfileCard.js'\r\nimport ProfilePages from './ProfilePages.js'\r\nimport Loading from \"./Loading.js\";\r\nimport API_URL from \"../Constants/constants.js\";\r\n\r\nexport default function Memberlist() {\r\n\r\n    const { path } = useRouteMatch();\r\n    const { sysID } = useParams();\r\n\r\n    const [isLoading, setIsLoading ] = useState(false);\r\n    const [isError, setIsError ] = useState(false);\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [membersPerPage, setMembersPerPage] = useState(25);\r\n\r\n    const [members, setMembers ] = useState([]);\r\n\r\n    const [searchBy, setSearchBy] = useState('name')\r\n    const [sortBy, setSortBy] = useState('name')\r\n\r\n    const [value, setValue] = useState('');\r\n\r\n  const fetchMembers = useCallback( () => {\r\n    setIsLoading(true);\r\n    setIsError(false);\r\n    setMembersPerPage(localStorage.getItem(\"expandcards\") ? 10 : 25);\r\n\r\n     fetch(`${API_URL}s/${sysID}/members`,{\r\n    method: 'GET',\r\n    }).then ( res => res.json()\r\n    ).then (data => { \r\n    setMembers(data)\r\n      setIsLoading(false);\r\n  })\r\n    .catch (error => { \r\n        console.log(error);\r\n        setIsError(true);\r\n        setIsLoading(false);\r\n    })\r\n  }, [sysID])\r\n\r\n  useEffect(() => {\r\n    fetchMembers();\r\n  }, [fetchMembers])\r\n\r\n  const indexOfLastMember = currentPage * membersPerPage;\r\n  const indexOfFirstMember = indexOfLastMember - membersPerPage;\r\n\r\n    let Members = members.map(member => {\r\n      if (member.display_name) {\r\n        return {...member, displayName: member.display_name}\r\n      } return {...member, displayName: member.name}\r\n    }) \r\n    let Members1 = Members.map(member => {\r\n      if (member.description) {\r\n        return {...member, desc: member.description}\r\n      } return {...member, desc: \"(no description)\"}\r\n    })\r\n    \r\n    const currentMembers =  Members1.filter(member => {\r\n      if (!value) return true;\r\n      \r\n      if (searchBy === 'name') {\r\n      if (member.name.toLowerCase().includes(value.toLowerCase())) {\r\n        return true;\r\n      }\r\n      return false;\r\n    } else if (searchBy === 'display name') {\r\n      if (member.displayName.toLowerCase().includes(value.toLowerCase())) {\r\n        return true;\r\n      }\r\n      return false\r\n    } else if (searchBy === 'description') {\r\n      if (member.desc.toLowerCase().includes(value.toLowerCase())) {\r\n        return true;\r\n      }\r\n      return false;\r\n    } else if (searchBy === 'ID') {\r\n      if (member.id.toLowerCase().includes(value.toLowerCase())) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n      return false;\r\n    })\r\n\r\n    const active = currentPage;\r\n    const pageAmount = Math.ceil(currentMembers.length / membersPerPage);\r\n\r\n      var sortMembers = currentMembers;\r\n      if (sortBy === 'name') {\r\n        sortMembers =  currentMembers.sort((a, b) => a.name.localeCompare(b.name)).slice(indexOfFirstMember, indexOfLastMember);\r\n      } else if (sortBy === 'display name') {\r\n        sortMembers =  currentMembers.sort((a, b) => a.displayName.localeCompare(b.displayName)).slice(indexOfFirstMember, indexOfLastMember);\r\n      } else if (sortBy === 'ID') {\r\n        sortMembers =  currentMembers.sort((a, b) => a.id.localeCompare(b.id)).slice(indexOfFirstMember, indexOfLastMember);\r\n      } \r\n\r\n      const memberList = sortMembers.map((member) => <BS.Card key={member.id} className={localStorage.getItem(\"expandcards\") ? \"mb-3\" : \"\"}>\r\n      <ProfileCard\r\n      member={member} \r\n      />\r\n    </BS.Card>\r\n    );\r\n\r\n    return (\r\n      <Switch>\r\n        <Route exact path={path}>\r\n      <>\r\n      <BS.Row className=\"mb-lg-3 justfiy-content-md-center\">\r\n      <BS.Col xs={12} lg={4}>\r\n      <BS.Form>\r\n        <BS.InputGroup className=\"mb-3\">\r\n        <BS.Form.Control disabled placeholder='Page length:'/>\r\n          <BS.Form.Control as=\"select\" defaultValue={localStorage.getItem(\"expandcards\") ? 10 : 25} onChange={e => {\r\n            setMembersPerPage(e.target.value);\r\n            setCurrentPage(1);\r\n            }}>\r\n            <option>10</option>\r\n            <option>25</option>\r\n            <option>50</option>\r\n            <option>100</option>\r\n          </BS.Form.Control>\r\n          </BS.InputGroup>\r\n      </BS.Form>\r\n      </BS.Col>\r\n      <BS.Col xs={12} lg={4}>\r\n      <BS.Form>\r\n        <BS.InputGroup className=\"mb-3\">\r\n        <BS.Form.Control disabled placeholder='Search by:'/>\r\n          <BS.Form.Control as=\"select\" defaultValue={searchBy} onChange={e => {\r\n            setSearchBy(e.target.value)\r\n            }}>\r\n            <option>name</option>\r\n            <option>display name</option>\r\n            <option>description</option>\r\n            <option>ID</option>\r\n          </BS.Form.Control>\r\n          </BS.InputGroup>\r\n      </BS.Form>\r\n      </BS.Col>\r\n      <BS.Col xs={12} lg={4}>\r\n      <BS.Form>\r\n        <BS.InputGroup className=\"mb-3\">\r\n        <BS.Form.Control disabled placeholder='Sort by:'/>\r\n          <BS.Form.Control as=\"select\" defaultValue={sortBy} onChange={e => {\r\n            setSortBy(e.target.value)\r\n            }}>\r\n            <option>name</option>\r\n            <option>display name</option>\r\n            <option>ID</option>\r\n          </BS.Form.Control>\r\n          </BS.InputGroup>\r\n      </BS.Form>\r\n      </BS.Col>\r\n      </BS.Row>\r\n      <BS.Row className=\"justify-content-md-center\">\r\n      <BS.Col className=\"mb-3\" xs={12} lg={7}>\r\n      <BS.Form>\r\n          <BS.Form.Control value={value} onChange={e => {setValue(e.target.value); setCurrentPage(1);}} placeholder={`Search by ${searchBy}`}/>\r\n      </BS.Form>\r\n      </BS.Col>\r\n      <BS.Col className=\"mb-3\" xs={12} lg={2}>\r\n        <BS.Button type=\"primary\" className=\"m-0\" block onClick={() => fetchMembers()}>Refresh</BS.Button>\r\n      </BS.Col>\r\n      </BS.Row>\r\n      <BS.Row className=\"justify-content-md-center\">\r\n      <BS.Pagination className=\"ml-auto mr-auto\">\r\n          { currentPage === 1 ? <BS.Pagination.Prev disabled/> : <BS.Pagination.Prev onClick={() => setCurrentPage(currentPage - 1)} />}\r\n          { currentPage < 3 ? \"\" : <BS.Pagination.Item  onClick={() => setCurrentPage(1)} active={1 === active}>{1}</BS.Pagination.Item>}\r\n          { currentPage < 4 ? \"\" : currentPage < 5 ? <BS.Pagination.Item  onClick={() => setCurrentPage(2)} active={2 === active}>{2}</BS.Pagination.Item> : <BS.Pagination.Ellipsis disabled />}\r\n          { currentPage > 1 ? <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage - 1)}>{currentPage - 1}</BS.Pagination.Item> : \"\" }\r\n          <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage)} active={currentPage === active}>{currentPage}</BS.Pagination.Item>\r\n          { currentPage < pageAmount ? <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage + 1)}>{currentPage + 1}</BS.Pagination.Item> : \"\" }\r\n          { currentPage > pageAmount - 3 ? \"\" : currentPage === pageAmount - 3 ? <BS.Pagination.Item  onClick={() => setCurrentPage(pageAmount - 1)} active={pageAmount - 1 === active}>{pageAmount - 1}</BS.Pagination.Item> : <BS.Pagination.Ellipsis disabled />}\r\n          { currentPage > pageAmount - 2 ? \"\" : <BS.Pagination.Item  onClick={() => setCurrentPage(pageAmount)} active={pageAmount === active}>{pageAmount}</BS.Pagination.Item>}\r\n          { currentPage === pageAmount ? <BS.Pagination.Next disabled /> :<BS.Pagination.Next onClick={() => setCurrentPage(currentPage + 1)} />}\r\n        </BS.Pagination>\r\n      </BS.Row>\r\n      { isLoading ? <Loading /> : isError ? \r\n      <BS.Alert variant=\"danger\">Error fetching members.</BS.Alert> :\r\n      <>\r\n        <BS.Accordion className=\"mb-3 mt-3 w-100\" defaultActiveKey=\"0\">\r\n            {memberList}\r\n        </BS.Accordion>\r\n        <BS.Row className=\"justify-content-md-center\">\r\n      <BS.Pagination className=\"ml-auto mr-auto\">\r\n          { currentPage === 1 ? <BS.Pagination.Prev disabled/> : <BS.Pagination.Prev onClick={() => setCurrentPage(currentPage - 1)} />}\r\n          { currentPage < 3 ? \"\" : <BS.Pagination.Item  onClick={() => setCurrentPage(1)} active={1 === active}>{1}</BS.Pagination.Item>}\r\n          { currentPage < 4 ? \"\" : currentPage < 5 ? <BS.Pagination.Item  onClick={() => setCurrentPage(2)} active={2 === active}>{2}</BS.Pagination.Item> : <BS.Pagination.Ellipsis disabled />}\r\n          { currentPage > 1 ? <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage - 1)}>{currentPage - 1}</BS.Pagination.Item> : \"\" }\r\n          <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage)} active={currentPage === active}>{currentPage}</BS.Pagination.Item>\r\n          { currentPage < pageAmount ? <BS.Pagination.Item  onClick={() => setCurrentPage(currentPage + 1)}>{currentPage + 1}</BS.Pagination.Item> : \"\" }\r\n          { currentPage > pageAmount - 3 ? \"\" : currentPage === pageAmount - 3 ? <BS.Pagination.Item  onClick={() => setCurrentPage(pageAmount - 1)} active={pageAmount - 1 === active}>{pageAmount - 1}</BS.Pagination.Item> : <BS.Pagination.Ellipsis disabled />}\r\n          { currentPage > pageAmount - 2 ? \"\" : <BS.Pagination.Item  onClick={() => setCurrentPage(pageAmount)} active={pageAmount === active}>{pageAmount}</BS.Pagination.Item>}\r\n          { currentPage === pageAmount ? <BS.Pagination.Next disabled /> :<BS.Pagination.Next onClick={() => setCurrentPage(currentPage + 1)} />}\r\n        </BS.Pagination>\r\n      </BS.Row>\r\n        </>\r\n        }\r\n        </>\r\n          </Route>\r\n            <Route path={`/pk-webs/profile/${sysID}/:memberID`}>\r\n              { isLoading ? <Loading/> :\r\n            <ProfilePages members={members}/>}\r\n          </Route>\r\n        </Switch>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useParams } from 'react-router-dom';\r\nimport * as BS from 'react-bootstrap';\r\nimport Popup from 'reactjs-popup';\r\nimport Twemoji from 'react-twemoji';\r\n\r\nimport { FaAddressCard } from \"react-icons/fa\";\r\nimport defaultAvatar from '../default_discord_avatar.png'\r\nimport Loading from \"./Loading.js\";\r\nimport API_URL from \"../Constants/constants.js\";\r\nimport ProfileList from \"./ProfileList.js\";\r\n\r\nexport default function Profile () {\r\n\r\n    const match = useRouteMatch(\"/pk-webs/profile/:sysID/:memberID\");\r\n\r\n    const { sysID } = useParams();\r\n    const [ system, setSystem ] = useState('');\r\n    const [ name, setName ] = useState('');\r\n    const [ tag, setTag ] = useState(\"\");\r\n    const [ timezone, setTimezone ] = useState(\"\");\r\n    const [ desc, setDesc ] = useState(\"\");\r\n    const [ avatar, setAvatar ] = useState('');\r\n\r\n    const [ isLoading, setIsLoading ] = useState(true);\r\n    const [ isError, setIsError ] = useState(false);\r\n\r\n    useEffect (() => {\r\n        fetch(`${API_URL}s/${sysID}`,{\r\n        method: 'GET'\r\n    }).then ( res => res.json()\r\n        ).then (data => { \r\n          setSystem(data);\r\n          setIsLoading(false);\r\n      })\r\n        .catch (error => { \r\n            console.log(error);\r\n            setIsError(true);\r\n            setIsLoading(false);\r\n        }) \r\n    }, [sysID])\r\n\r\n    useEffect(() => {\r\n        const { toHTML } = require('../Functions/discord-parser.js');\r\n        \r\n        if (system.name) {\r\n            setName(system.name);\r\n        } else setName('');\r\n\r\n        if (system.avatar_url) {\r\n            var avatarsmall = system.avatar_url.replace('&format=jpeg', '');\r\n            setAvatar(avatarsmall.replace('?width=256&height=256', ''))\r\n        } else setAvatar('')\r\n\r\n        if (system.tag) {\r\n            setTag(system.tag);\r\n        } else setTag('');\r\n    \r\n        if (system.tz) {\r\n            setTimezone(system.tz);\r\n        } else setTimezone('');\r\n\r\n        if (system.description) {\r\n            setDesc(toHTML(system.description));\r\n        } else setDesc(\"(no description)\");\r\n    }, [system.description, system.tag, system.avatar_url, system.tz, system.name]);\r\n\r\n   return (match ? <ProfileList sysID={sysID} /> :\r\n   <>{ isLoading ? <Loading /> : isError ?  <BS.Alert variant=\"danger\">Something went wrong, either the system doesn't exist, or there was an error fetching data.</BS.Alert> :\r\n    <><BS.Alert variant=\"primary\" >You are currently <b>viewing</b> a system.</BS.Alert>\r\n        <BS.Card className=\"mb-3 mt-3 w-100\" >\r\n        <BS.Card.Header className=\"d-flex align-items-center justify-content-between\">\r\n           <BS.Card.Title className=\"float-left\"><FaAddressCard className=\"mr-4 float-left\" /> {name} ({system.id})</BS.Card.Title> \r\n           { system.avatar_url ? <Popup trigger={<BS.Image src={`${system.avatar_url}`} style={{width: 50, height: 50}} tabIndex=\"0\" className=\"float-right\" roundedCircle />} className=\"avatar\" modal>\r\n         {close => (\r\n             <div className=\"text-center w-100 m-0\" onClick={() => close()}>\r\n             <BS.Image src={`${avatar}`} style={{'max-width': 640, height: 'auto'}} thumbnail />\r\n             </div>\r\n         )}\r\n     </Popup> : \r\n        <BS.Image src={defaultAvatar} style={{width: 50, height: 50}} className=\"float-right\" roundedCircle />}\r\n        </BS.Card.Header>\r\n        <BS.Card.Body>\r\n        <BS.Row>\r\n             <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>ID:</b> {system.id}</BS.Col>\r\n             <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Tag:</b> {tag}</BS.Col>\r\n             <BS.Col className=\"mb-lg-3\" xs={12} lg={3}><b>Timezone:</b> {timezone}</BS.Col>\r\n         </BS.Row>\r\n         <p><b>Description:</b></p>\r\n         { localStorage.getItem('twemoji') ? <Twemoji options={{ className: 'twemoji' }}><p dangerouslySetInnerHTML={{__html: desc}}></p></Twemoji> : <p dangerouslySetInnerHTML={{__html: desc}}></p>}\r\n         </BS.Card.Body>\r\n    </BS.Card>\r\n    \r\n    <ProfileList sysID={sysID} /> </> } \r\n    \r\n    </>\r\n   )\r\n}","import React from 'react';\r\nimport * as BS from 'react-bootstrap';\r\nimport { FaStar } from \"react-icons/fa\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport history from \"../History.js\";\r\nimport { Switch, Route, useRouteMatch } from 'react-router-dom';\r\nimport Profile from './Profile.js'\r\n\r\nexport default function Public () {\r\n    const { path, url } = useRouteMatch();\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const submitID = (data) => {\r\n        history.push(`${url}/${data.sysID}`);\r\n    }\r\n\r\n    return (\r\n\r\n        <Switch>\r\n        <Route exact path={path}>\r\n        <BS.Card>\r\n            <BS.Card.Header>\r\n            <BS.Card.Title><FaStar className=\"mr-3\" />Profile</BS.Card.Title>\r\n            </BS.Card.Header>\r\n            <BS.Card.Body>\r\n                <BS.Form onSubmit={handleSubmit(submitID)}>\r\n                    <BS.Form.Label>\r\n                        Submit a system ID to view to that system's profile.\r\n                    </BS.Form.Label>\r\n                    <BS.Form.Row>\r\n                        <BS.Col className=\"mb-1\"  xs={12} lg={10}>\r\n                            <BS.Form.Control name=\"sysID\" ref={register} defaultValue=\"\" />\r\n                        </BS.Col>\r\n                        <BS.Col>\r\n                            <BS.Button variant=\"primary\" type=\"submit\" block >Submit</BS.Button>\r\n                        </BS.Col>\r\n                    </BS.Form.Row>\r\n                </BS.Form>\r\n            </BS.Card.Body>\r\n        </BS.Card>\r\n        </Route>\r\n        <Route path={`${path}/:sysID`}>\r\n            <Profile />\r\n              </Route>\r\n        </Switch>\r\n    )\r\n}","import React, {useEffect, useState, useCallback} from 'react';\r\nimport { Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport  * as BS from 'react-bootstrap'\r\nimport { useForm } from \"react-hook-form\";\r\nimport * as fetch from 'node-fetch';\r\nimport Toggle from 'react-toggle'\r\nimport useDarkMode from 'use-dark-mode';\r\n\r\nimport './App.scss';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"react-toggle/style.css\"\r\nimport { FaLock, FaCog, FaSun, FaMoon } from \"react-icons/fa\";\r\n\r\nimport Dash from './Components/Dash.js'\r\nimport history from \"./History.js\";\r\nimport Loading from \"./Components/Loading.js\";\r\nimport Footer from './Components/Footer.js'\r\nimport Public from './Components/Public.js'\r\n\r\nimport API_URL from \"./Constants/constants.js\";\r\n\r\nexport default function App() {\r\n\r\n  const [isLoading, setIsLoading ] = useState(false);\r\n  const [isSubmit, setIsSubmit ] = useState(false);\r\n  const [isInvalid, setIsInvalid] = useState(false);\r\n  const [, updateState] = useState();\r\n  const forceUpdate = useCallback(() => updateState({}), []);\r\n  const darkMode = useDarkMode(false);\r\n\r\n  const { register, handleSubmit } = useForm();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token')) {\r\n      checkLogIn();\r\n    }\r\n  }, [])\r\n\r\n  const onSubmit = data => {\r\n    localStorage.setItem('token', data.pkToken);\r\n    logIn();\r\n  };\r\n\r\n  function logOut() {\r\n    setIsSubmit(false);\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    history.push('/pk-webs');\r\n    forceUpdate();\r\n}\r\n\r\n function logIn() {\r\n     setIsInvalid(false);\r\n     setIsLoading(true);\r\n     \r\n      fetch(`${API_URL}s/`,{\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n        }}).then ( res => res.json()\r\n        ).then (data => { \r\n          localStorage.setItem('user', JSON.stringify(data));\r\n          setIsSubmit(true);\r\n          setIsLoading(false);\r\n          history.push(\"/pk-webs/dash\");\r\n      })\r\n        .catch (error => { \r\n          console.log(error);\r\n          setIsInvalid(true);\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('user');\r\n          setIsLoading(false);\r\n        })\r\n      };\r\n\r\n      function checkLogIn() {\r\n        setIsInvalid(false);\r\n        setIsLoading(true);\r\n        \r\n         fetch(`${API_URL}s/`,{\r\n           method: 'GET',\r\n           headers: {\r\n             'Authorization': JSON.stringify(localStorage.getItem(\"token\")).slice(1, -1)\r\n           }}).then ( res => res.json()\r\n           ).then (data => { \r\n             localStorage.setItem('user', JSON.stringify(data));\r\n             setIsSubmit(true);\r\n             setIsLoading(false);\r\n         })\r\n           .catch (error => { \r\n             console.log(error);\r\n             setIsInvalid(true);\r\n             localStorage.removeItem('token');\r\n             localStorage.removeItem('user');\r\n             setIsLoading(false);\r\n           })\r\n         };\r\n\r\n\r\n  return (\r\n    <div className={ `contents ${localStorage.getItem('opendyslexic') ? \"opendyslexic\" : \"\"}`}>\r\n      <Router history={history} basename=\"/pk-webs\">\r\n      <BS.Navbar className=\"mb-5 align-items-center\">\r\n            <BS.Navbar.Brand href=\"/pk-webs\">\r\n                pk-webs\r\n            </BS.Navbar.Brand>\r\n            <BS.NavDropdown id=\"menu\" className=\"mr-auto\" title=\"Menu\">\r\n            <BS.NavDropdown.Item onClick={() => history.push('/pk-webs/dash')} >Dash</BS.NavDropdown.Item>\r\n            <BS.NavDropdown.Item onClick={() => history.push('/pk-webs/settings')} >Settings</BS.NavDropdown.Item>\r\n            <BS.NavDropdown.Item onClick={() => history.push('/pk-webs/profile')}>Public profile</BS.NavDropdown.Item>\r\n            { localStorage.getItem('token') ? <><hr className=\"my-1\"/><BS.NavDropdown.Item onClick={() => logOut()}>Log out</BS.NavDropdown.Item></> : \"\" }\r\n\r\n            </BS.NavDropdown>\r\n            <BS.Nav className=\"mr-2 d-flex align-items-center row\">\r\n            <Toggle\r\n                defaultChecked={true}\r\n                icons={false}\r\n                onChange={darkMode.toggle} />\r\n                {darkMode.value ? <FaMoon className=\"m-1\"/> : <FaSun className=\"m-1\"/>}\r\n            </BS.Nav>\r\n        </BS.Navbar>\r\n        <div className=\"content\">\r\n          <BS.Container>\r\n            <Switch>\r\n            <Route path=\"/pk-webs/dash\">\r\n              { !localStorage.getItem('token') || isInvalid ? <Redirect to=\"/pk-webs\"/> : <Dash />\r\n              }\r\n              </Route>\r\n              <Route exact path=\"/pk-webs\">\r\n                { isLoading ? <Loading /> :\r\n            <BS.Card className=\"mb-3 mt-3\">\r\n            <BS.Card.Header className=\"d-flex align-items-center justify-content-between\">\r\n              <BS.Card.Title><FaLock className=\"mr-3\" />Login</BS.Card.Title>\r\n            </BS.Card.Header>\r\n            <BS.Card.Body>\r\n            { isSubmit && !localStorage.getItem('user') ? <BS.Alert variant=\"danger\">Something went wrong, please try again.</BS.Alert> : \"\"}\r\n              { isInvalid ? <BS.Alert variant=\"danger\">Invalid token.</BS.Alert> : \"\" }\r\n              { localStorage.getItem('user') && localStorage.getItem('token') ? <><p>You are logged in already, click here to continue to the dash.</p>\r\n              <BS.Button type=\"primary\" onClick={() => history.push('/pk-webs/dash')}>Continue to dash</BS.Button></> :\r\n            <BS.Form onSubmit={handleSubmit(onSubmit)}>\r\n            <BS.Form.Row>\r\n                <BS.Col  className=\"mb-1\" xs={12} lg={10}>\r\n                    <BS.Form.Label>Enter your token here. You can get your token by using <b>\"pk;token\"</b>.</BS.Form.Label>\r\n                </BS.Col>\r\n            </BS.Form.Row>\r\n            <BS.Form.Row>\r\n              <BS.Col xs={12} lg={10}>\r\n                <BS.Form.Control required name=\"pkToken\" type=\"text\" ref={register} placeholder=\"token\" />\r\n              </BS.Col>\r\n              <BS.Col>\r\n                <BS.Button variant=\"primary\" type=\"submit\" block >Submit</BS.Button>\r\n              </BS.Col>\r\n            </BS.Form.Row>\r\n          </BS.Form> }\r\n          </BS.Card.Body>\r\n          </BS.Card>\r\n          }\r\n              </Route>\r\n              <Route path=\"/pk-webs/profile\">\r\n                <Public />\r\n              </Route>\r\n              <Route path=\"/pk-webs/settings\">\r\n              <BS.Card>\r\n            <BS.Card.Header className=\"d-flex align-items-center justify-content-between\">\r\n            <BS.Card.Title><FaCog className=\"mr-3\" />Settings</BS.Card.Title>\r\n            </BS.Card.Header>\r\n            <BS.Card.Body>\r\n            <p>Change how you view and use pk-webs here, changes will be saved after refreshing. You will have to apply them again in different browsers and on different devices.</p>\r\n            <hr/>\r\n            <BS.Row>\r\n            <BS.Col xs={12} lg={4} className=\"mx-1 mb-4 d-flex align-items-center row\">\r\n            { localStorage.getItem('opendyslexic') ? \r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={true}\r\n                icons={false}\r\n                onChange={() =>  {\r\n                    localStorage.removeItem('opendyslexic');\r\n                    forceUpdate()}} /> :\r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={false}\r\n                icons={false}\r\n                onChange={() => {\r\n                    localStorage.setItem('opendyslexic', 'true')\r\n                    forceUpdate()}} />  }\r\n                Use opendyslexic?\r\n            </BS.Col>\r\n            <BS.Col xs={12} lg={4} className=\"mx-1 mb-4 d-flex align-items-center row\">\r\n            { localStorage.getItem('twemoji') ? \r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={true}\r\n                icons={false}\r\n                onChange={() =>  {\r\n                    localStorage.removeItem('twemoji');\r\n                    forceUpdate()}} /> :\r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={false}\r\n                icons={false}\r\n                onChange={() => {\r\n                    localStorage.setItem('twemoji', 'true')\r\n                    forceUpdate()}} />  }\r\n                Use twemoji?\r\n            </BS.Col>\r\n            <BS.Col xs={12} lg={4} className=\"mx-1 mb-4 d-flex align-items-center row\">\r\n            { localStorage.getItem('pagesonly') ? \r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={true}\r\n                icons={false}\r\n                onChange={() =>  {\r\n                    localStorage.removeItem('pagesonly');\r\n                    forceUpdate()}} /> :\r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={false}\r\n                icons={false}\r\n                onChange={() => {\r\n                    localStorage.setItem('pagesonly', 'true')\r\n                    forceUpdate()}} />  }\r\n                Use only member pages?\r\n            </BS.Col>\r\n            <BS.Col xs={12} lg={4} className=\"mx-1 mb-4 d-flex align-items-center row\">\r\n            { localStorage.getItem('colorbg') ? \r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={true}\r\n                icons={false}\r\n                onChange={() =>  {\r\n                    localStorage.removeItem('colorbg');\r\n                    forceUpdate()}} /> :\r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={false}\r\n                icons={false}\r\n                onChange={() => {\r\n                    localStorage.setItem('colorbg', 'false')\r\n                    forceUpdate()}} />  }\r\n                Hide colored backgrounds?\r\n            </BS.Col>\r\n            <BS.Col xs={12} lg={4} className=\"mx-1 mb-4 d-flex align-items-center row\">\r\n            { localStorage.getItem('expandcards') ? \r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={true}\r\n                icons={false}\r\n                onChange={() =>  {\r\n                    localStorage.removeItem('expandcards');\r\n                    forceUpdate()}} /> :\r\n                <Toggle className=\"mr-2\"\r\n                defaultChecked={false}\r\n                icons={false}\r\n                onChange={() => {\r\n                    localStorage.setItem('expandcards', 'true')\r\n                    forceUpdate()}} />  }\r\n                Expand member cards on default?\r\n            </BS.Col>\r\n            </BS.Row>\r\n            </BS.Card.Body>\r\n        </BS.Card>\r\n              </Route>\r\n            </Switch>\r\n          </BS.Container>\r\n          </div>\r\n          <Footer />\r\n      </Router>\r\n      </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Router } from \"react-router-dom\";\r\nimport history from \"./History.js\";\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <Router history={history} basename=\"/pk-webs\">\r\n    <App />\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n","const markdown = require('simple-markdown');\r\nconst highlight = require('highlight.js');\r\n\r\nfunction htmlTag(tagName, content, attributes, isClosed = true, state = { }) {\r\n\tif (typeof isClosed === 'object') {\r\n\t\tstate = isClosed;\r\n\t\tisClosed = true;\r\n\t}\r\n\r\n\tif (!attributes)\r\n\t\tattributes = { };\r\n\r\n\tif (attributes.class && state.cssModuleNames)\r\n\t\tattributes.class = attributes.class.split(' ').map(cl => state.cssModuleNames[cl] || cl).join(' ');\r\n\r\n\tlet attributeString = '';\r\n\tfor (let attr in attributes) {\r\n\t\t// Removes falsy attributes\r\n\t\tif (Object.prototype.hasOwnProperty.call(attributes, attr) && attributes[attr])\r\n\t\t\tattributeString += ` ${markdown.sanitizeText(attr)}=\"${markdown.sanitizeText(attributes[attr])}\"`;\r\n\t}\r\n\r\n\tlet unclosedTag = `<${tagName}${attributeString}>`;\r\n\r\n\tif (isClosed)\r\n\t\treturn unclosedTag + content + `</${tagName}>`;\r\n\treturn unclosedTag;\r\n}\r\nmarkdown.htmlTag = htmlTag;\r\n\r\nconst rules = {\r\n\tblockQuote: Object.assign({ }, markdown.defaultRules.blockQuote, {\r\n\t\tmatch: function(source, state, prevSource) {\r\n\t\t\treturn !/^$|\\n *$/.test(prevSource) || state.inQuote ? null : /^( *>>> ([\\s\\S]*))|^( *> [^\\n]*(\\n *> [^\\n]*)*\\n?)/.exec(source);\r\n\t\t},\r\n\t\tparse: function(capture, parse, state) {\r\n\t\t\tconst all = capture[0];\r\n\t\t\tconst isBlock = Boolean(/^ *>>> ?/.exec(all));\r\n\t\t\tconst removeSyntaxRegex = isBlock ? /^ *>>> ?/ : /^ *> ?/gm;\r\n\t\t\tconst content = all.replace(removeSyntaxRegex, '');\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcontent: parse(content, Object.assign({ }, state, { inQuote: true })),\r\n\t\t\t\ttype: 'blockQuote'\r\n\t\t\t}\r\n\t\t}\r\n\t}),\r\n\tcodeBlock: Object.assign({ }, markdown.defaultRules.codeBlock, {\r\n\t\tmatch: markdown.inlineRegex(/^```(([a-z0-9-]+?)\\n+)?\\n*([^]+?)\\n*```/i),\r\n\t\tparse: function(capture, parse, state) {\r\n\t\t\treturn {\r\n\t\t\t\tlang: (capture[2] || '').trim(),\r\n\t\t\t\tcontent: capture[3] || '',\r\n\t\t\t\tinQuote: state.inQuote || false\r\n\t\t\t};\r\n\t\t},\r\n\t\thtml: (node, output, state) => {\r\n\t\t\tlet code;\r\n\t\t\tif (node.lang && highlight.getLanguage(node.lang))\r\n\t\t\t\tcode = highlight.highlight(node.lang, node.content, true); // Discord seems to set ignoreIllegals: true\r\n\r\n\t\t\tif (code && state.cssModuleNames) // Replace classes in hljs output\r\n\t\t\t\tcode.value = code.value.replace(/<span class=\"([a-z0-9-_ ]+)\">/gi, (str, m) =>\r\n\t\t\t\t\tstr.replace(m, m.split(' ').map(cl => state.cssModuleNames[cl] || cl).join(' ')));\r\n\r\n\t\t\treturn htmlTag('pre', htmlTag(\r\n\t\t\t\t'code', code ? code.value : markdown.sanitizeText(node.content), { class: `hljs${code ? ' ' + code.language : ''}` }, state\r\n\t\t\t), null, state);\r\n\t\t}\r\n\t}),\r\n\tnewline: markdown.defaultRules.newline,\r\n\tescape: markdown.defaultRules.escape,\r\n\tautolink: Object.assign({ }, markdown.defaultRules.autolink, {\r\n\t\tparse: capture => {\r\n\t\t\treturn {\r\n\t\t\t\tcontent: [{\r\n\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\tcontent: capture[1]\r\n\t\t\t\t}],\r\n\t\t\t\ttarget: capture[1]\r\n\t\t\t};\r\n\t\t},\r\n\t\thtml: (node, output, state) => {\r\n\t\t\treturn htmlTag('a', output(node.content, state), { href: markdown.sanitizeUrl(node.target) }, state);\r\n\t\t}\r\n\t}),\r\n\turl: Object.assign({ }, markdown.defaultRules.url, {\r\n\t\tparse: capture => {\r\n\t\t\treturn {\r\n\t\t\t\tcontent: [{\r\n\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\tcontent: capture[1]\r\n\t\t\t\t}],\r\n\t\t\t\ttarget: capture[1]\r\n\t\t\t}\r\n\t\t},\r\n\t\thtml: (node, output, state) => {\r\n\t\t\treturn htmlTag('a', output(node.content, state), { href: markdown.sanitizeUrl(node.target) }, state);\r\n\t\t}\r\n\t}),\r\n\tem: Object.assign({ }, markdown.defaultRules.em, {\r\n\t\tparse: function(capture, parse, state) {\r\n\t\t\tconst parsed = markdown.defaultRules.em.parse(capture, parse, Object.assign({ }, state, { inEmphasis: true }));\r\n\t\t\treturn state.inEmphasis ? parsed.content : parsed;\r\n\t\t},\r\n\t}),\r\n\tstrong: markdown.defaultRules.strong,\r\n\tu: markdown.defaultRules.u,\r\n\tstrike: Object.assign({ }, markdown.defaultRules.del, {\r\n\t\tmatch: markdown.inlineRegex(/^~~([\\s\\S]+?)~~(?!_)/),\r\n\t}),\r\n\tinlineCode: Object.assign({ }, markdown.defaultRules.inlineCode, {\r\n\t\tmatch: source => markdown.defaultRules.inlineCode.match.regex.exec(source),\r\n\t\thtml: function(node, output, state) {\r\n\t\t\treturn htmlTag('code', markdown.sanitizeText(node.content.trim()), null, state);\r\n\t\t}\r\n\t}),\r\n\ttext: Object.assign({ }, markdown.defaultRules.text, {\r\n\t\tmatch: source => /^[\\s\\S]+?(?=[^0-9A-Za-z\\s\\u00c0-\\uffff-]|\\n\\n|\\n|\\w+:\\S|$)/.exec(source),\r\n\t\thtml: function(node, output, state) {\r\n\t\t\tif (state.escapeHTML)\r\n\t\t\t\treturn markdown.sanitizeText(node.content);\r\n\r\n\t\t\treturn node.content;\r\n\t\t}\r\n\t}),\r\n\temoticon: {\r\n\t\torder: markdown.defaultRules.text.order,\r\n\t\tmatch: source => /^(¯\\\\_\\(ツ\\)_\\/¯)/.exec(source),\r\n\t\tparse: function(capture) {\r\n\t\t\treturn {\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tcontent: capture[1]\r\n\t\t\t};\r\n\t\t},\r\n\t\thtml: function(node, output, state) {\r\n\t\t\treturn output(node.content, state);\r\n\t\t},\r\n\t},\r\n\tbr: Object.assign({ }, markdown.defaultRules.br, {\r\n\t\tmatch: markdown.anyScopeRegex(/^\\n/),\r\n\t}),\r\n\tspoiler: {\r\n\t\torder: 0,\r\n\t\tmatch: source => /^\\|\\|([\\s\\S]+?)\\|\\|/.exec(source),\r\n\t\tparse: function(capture, parse, state) {\r\n\t\t\treturn {\r\n\t\t\t\tcontent: parse(capture[1], state)\r\n\t\t\t};\r\n\t\t},\r\n\t\thtml: function(node, output, state) {\r\n\t\t\treturn htmlTag('a', output(node.content, state), { class: 'd-spoiler' }, state);\r\n\t\t}\r\n\t},\r\n\tlink: Object.assign({ }, markdown.defaultRules.link, {\r\n\t\thtml: (node, output, state) => {\r\n\t\t\treturn htmlTag('a', output(node.content, state), { href: markdown.sanitizeUrl(node.target), rel: \"noreferrer\", target: \"_blank\" }, state);\r\n\t\t}\r\n\t})\r\n};\r\n\r\nconst discordCallbackDefaults = {\r\n\tuser: node => '@' + markdown.sanitizeText(node.id),\r\n\tchannel: node => '#' + markdown.sanitizeText(node.id),\r\n\trole: node => '&' + markdown.sanitizeText(node.id),\r\n\teveryone: () => '@everyone',\r\n\there: () => '@here'\r\n};\r\n\r\nconst rulesDiscord = {\r\n\tdiscordUser: {\r\n\t\torder: markdown.defaultRules.strong.order,\r\n\t\tmatch: source => /^<@!?([0-9]*)>/.exec(source),\r\n\t\tparse: function(capture) {\r\n\t\t\treturn {\r\n\t\t\t\tid: capture[1]\r\n\t\t\t};\r\n\t\t},\r\n\t\thtml: function(node, output, state) {\r\n\t\t\treturn htmlTag('span', state.discordCallback.user(node), { class: 'd-mention d-user' }, state);\r\n\t\t}\r\n\t},\r\n\tdiscordChannel: {\r\n\t\torder: markdown.defaultRules.strong.order,\r\n\t\tmatch: source => /^<#?([0-9]*)>/.exec(source),\r\n\t\tparse: function(capture) {\r\n\t\t\treturn {\r\n\t\t\t\tid: capture[1]\r\n\t\t\t};\r\n\t\t},\r\n\t\thtml: function(node, output, state) {\r\n\t\t\treturn htmlTag('span', state.discordCallback.channel(node), { class: 'd-mention d-channel' }, state);\r\n\t\t}\r\n\t},\r\n\tdiscordRole: {\r\n\t\torder: markdown.defaultRules.strong.order,\r\n\t\tmatch: source => /^<@&([0-9]*)>/.exec(source),\r\n\t\tparse: function(capture) {\r\n\t\t\treturn {\r\n\t\t\t\tid: capture[1]\r\n\t\t\t};\r\n\t\t},\r\n\t\thtml: function(node, output, state) {\r\n\t\t\treturn htmlTag('span', state.discordCallback.role(node), { class: 'd-mention d-role' }, state);\r\n\t\t}\r\n\t},\r\n\tdiscordEmoji: {\r\n\t\torder: markdown.defaultRules.strong.order,\r\n\t\tmatch: source => /^<(a?):(\\w+):(\\d+)>/.exec(source),\r\n\t\tparse: function(capture) {\r\n\t\t\treturn {\r\n\t\t\t\tanimated: capture[1] === \"a\",\r\n\t\t\t\tname: capture[2],\r\n\t\t\t\tid: capture[3],\r\n\t\t\t};\r\n\t\t},\r\n\t\thtml: function(node, output, state) {\r\n\t\t\treturn htmlTag('img', '', {\r\n\t\t\t\tclass: `d-emoji${node.animated ? ' d-emoji-animated' : ''}`,\r\n\t\t\t\tsrc: `https://cdn.discordapp.com/emojis/${node.id}.${node.animated ? 'gif' : 'png'}`,\r\n\t\t\t\talt: `:${node.name}:`\r\n\t\t\t}, false, state);\r\n\t\t}\r\n\t},\r\n\tdiscordEveryone: {\r\n\t\torder: markdown.defaultRules.strong.order,\r\n\t\tmatch: source => /^@everyone/.exec(source),\r\n\t\tparse: function() {\r\n\t\t\treturn { };\r\n\t\t},\r\n\t\thtml: function(node, output, state) {\r\n\t\t\treturn htmlTag('span', state.discordCallback.everyone(node), { class: 'd-mention d-user' }, state);\r\n\t\t}\r\n\t},\r\n\tdiscordHere: {\r\n\t\torder: markdown.defaultRules.strong.order,\r\n\t\tmatch: source => /^@here/.exec(source),\r\n\t\tparse: function() {\r\n\t\t\treturn { };\r\n\t\t},\r\n\t\thtml: function(node, output, state) {\r\n\t\t\treturn htmlTag('span', state.discordCallback.here(node), { class: 'd-mention d-user' }, state);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nObject.assign(rules, rulesDiscord);\r\n\r\nconst rulesDiscordOnly = Object.assign({ }, rulesDiscord, {\r\n\ttext: Object.assign({ }, markdown.defaultRules.text, {\r\n\t\tmatch: source => /^[\\s\\S]+?(?=[^0-9A-Za-z\\s\\u00c0-\\uffff-]|\\n\\n|\\n|\\w+:\\S|$)/.exec(source),\r\n\t\thtml: function(node, output, state) {\r\n\t\t\tif (state.escapeHTML)\r\n\t\t\t\treturn markdown.sanitizeText(node.content);\r\n\r\n\t\t\treturn node.content;\r\n\t\t}\r\n\t})\r\n});\r\n\r\nconst rulesEmbed = Object.assign({ }, rules, {\r\n\tlink: markdown.defaultRules.link\r\n});\r\n\r\nconst parser = markdown.parserFor(rules);\r\nconst htmlOutput = markdown.htmlFor(markdown.ruleOutput(rules, 'html'));\r\nconst parserDiscord = markdown.parserFor(rulesDiscordOnly);\r\nconst htmlOutputDiscord = markdown.htmlFor(markdown.ruleOutput(rulesDiscordOnly, 'html'));\r\nconst parserEmbed = markdown.parserFor(rulesEmbed);\r\nconst htmlOutputEmbed = markdown.htmlFor(markdown.ruleOutput(rulesEmbed, 'html'));\r\n\r\n/**\r\n * Parse markdown and return the HTML output\r\n * @param {String} source Source markdown content\r\n * @param {Object} [options] Options for the parser\r\n * @param {Boolean} [options.embed=false] Parse as embed content\r\n * @param {Boolean} [options.escapeHTML=true] Escape HTML in the output\r\n * @param {Boolean} [options.discordOnly=false] Only parse Discord-specific stuff (such as mentions)\r\n * @param {Object} [options.discordCallback] Provide custom handling for mentions and emojis\r\n * @param {Object} [options.cssModuleNames] An object mapping css classes to css module classes\r\n */\r\nfunction toHTML(source, options, customParser, customHtmlOutput) {\r\n\tif ((customParser || customHtmlOutput) && (!customParser || !customHtmlOutput))\r\n\t\tthrow new Error('You must pass both a custom parser and custom htmlOutput function, not just one');\r\n\r\n\toptions = Object.assign({\r\n\t\tembed: false,\r\n\t\tescapeHTML: true,\r\n\t\tdiscordOnly: false,\r\n\t\tdiscordCallback: { }\r\n\t}, options || { });\r\n\r\n\tlet _parser = parser;\r\n\tlet _htmlOutput = htmlOutput;\r\n\tif (customParser) {\r\n\t\t_parser = customParser;\r\n\t\t_htmlOutput = customHtmlOutput;\r\n\t} else if (options.discordOnly) {\r\n\t\t_parser = parserDiscord;\r\n\t\t_htmlOutput = htmlOutputDiscord;\r\n\t} else if (options.embed) {\r\n\t\t_parser = parserEmbed;\r\n\t\t_htmlOutput = htmlOutputEmbed;\r\n\t}\r\n\r\n\tconst state = {\r\n\t\tinline: true,\r\n\t\tinQuote: false,\r\n\t\tinEmphasis: false,\r\n\t\tescapeHTML: options.escapeHTML,\r\n\t\tcssModuleNames: options.cssModuleNames || null,\r\n\t\tdiscordCallback: Object.assign({ }, discordCallbackDefaults, options.discordCallback)\r\n\t};\r\n\r\n\treturn _htmlOutput(_parser(source, state), state);\r\n}\r\n\r\nmodule.exports = {\r\n\tparser: source => parser(source, { inline: true }),\r\n\thtmlOutput,\r\n\ttoHTML,\r\n\trules,\r\n\trulesDiscordOnly,\r\n\trulesEmbed,\r\n\tmarkdownEngine: markdown,\r\n\thtmlTag\r\n};"],"sourceRoot":""}