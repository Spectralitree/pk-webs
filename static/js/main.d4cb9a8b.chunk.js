(this["webpackJsonppk-web"]=this["webpackJsonppk-web"]||[]).push([[0],{324:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c(28),r=c.n(s),i=c(13),l=c(25),j=Object(l.a)(),o=(c(93),c(4)),b=c(331),d=(c(94),c(95),c(96),c(341)),h=c(329),O=c(342),u=c(330),m=c(82),x=c(83),g=c(30),p=c.n(g),f=(c(76),c(23)),y=c(17),v=c.n(y),N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAACi1BMVEV0f436+vv29vf9/f52gY93go/09fZ4g5Hh4+aRmqWIkZ3v8PL7+/v4+Pn5+fqZoauGkJyOl6L3+PmjqrN+iJXf4uXN0dbM0NXw8fKPmKN4g5B7hZLR1dmlrLWIkp6ss7u9wsnHzNHe4eTm6Orp6+2gp7G0usGaoqyutLyAipfg4ubm6Ovb3uGzucD39/jd3+P7+/z8/Pzq6+7X2t6or7e6v8bP09j19veor7inrrfLz9To6ezd4OOepq/Fyc/V2N2psLnx8vPAxcyYoKt/iZbW2d3Gy9GHkJyUnKfw8fOVnaj4+fqWnqnj5eiNlqJ+iZWrsrqfprDs7e99h5SMlaF8hpOwtr7T19u/xMuts7uKlJ/DyM6Sm6aCjJnp6u2HkZ3c3uLU2Nx9iJX19feQmaSXoKrr7O7e4OS1u8LS1dq+w8rEyM7o6uzQ09ifp7DIzNKhqLLr7e/T1tupsLi5vsW4vcS8wci7wMfa3eHKztS+w8mWn6mjq7TGytCBi5i5v8assrvHy9G2vMP////z9PX8/P3Cx826wMeLlKCKk5/Y2993gpD+/v729/iEjpqkq7Svtb23vMScpK7c3+KCjJi0usKTm6bg4+adpa95hJHLz9WTnKaVnqj9/f3KztPi5Oevtr68wsjk5um3vcSLlaCmrbayuMDO0td6hZLy8/R/ipZ1gI2qsbm/xMrEyc+iqbOBi5eiqrOXn6p7hpPu7/HJzdODjZmFj5t8h5T09Pabo63Z3OCrsbrl5+rAxcvs7vDx8vS7wcjIzdLU19y1u8ONlqGJkp7+/v/S1tp1gI7Q1Nnn6evy8/Wxt7+hqbLq7O6Jk57BxsyUnae4vsXR1NmzucF2gY6DjZrt7vBoDHj8AAAI+0lEQVR4AezBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAGBq7vqvjW3tAvjC3V3q7u7u7u7e467X3/suNASqB5ceqLtLOPWWwKXUG/rfHMGStMkwk+6RfH8HwvpMtj3PHrlKjh48tr+mEEqV1ew/dvBoCbxYSfmRyqIMtsjPhTK5+WzxpKjySLkXxnCyOKuqgnanHkGR02/poKLqRfFJeI+C44cy6eDZubIGKNP8qpHOMg81FcAbXP+lmo7u/poDj+QeuM13VP9yGMaWt89kpoNb5wvPwHOP79yjM7NpXx4M63B2Bh1Yay/l4QPZLK8z6Swj+zAMKedEJh1k3L8B127WvXx69nh21oPS/z38S33ptaxf3/x24fLzK3Dh4oGrdJZ5IgeGk7LOSgfVo1PxrmUxF2oqa0f60D2fZ6PON03JCYCThinb6cyangJDyX1IR6PK4ciW2+X+J718KFtFr6TjUcvgICYxk84ePodhnJ7qRzu/L2Jgdz1uU7APPfLNxLMO/2TBv8LpxO/8bBhCQN+htLOODbUPihOSwvhhbtV3K0Cbw1nhdDJ0SAD0t7mRDh7moJV/1ItGijFp5qy2f/R6Dz86GRQCnV35zEq7opdoUfJlqS9Fik0sbs0gtJ5OzJvSoKeoMNol7zsDAAEr0n0onm9llA0AFlfTSVgUdBO0iXaZn54EgJDzgVRLxvpQAA0bfOnkRRD0kduLdj03Aojv25vqGhyXB5xOopPbXaGH8kh2WNT/DJAyMZzqu7X+BtDvKh0tKoQOgtnho2ikHgumRvzSy5D2gI6KoD0L25l/aIiveUItTbZghS8dWKC5nmxz7x/zzkdSa9V9bhTRbhi09pJtDs0v9aMebvd5QbtCaGwUW5kS/aiXhGuZbDcN2lrKVuHh1NM4djgKTZ2g0SRCS81+NJqK69DQpzSe7tBOiS+NZ1cJNNONRvQbNDOIRnRbw0WQMZVBI4k0piRoY/YIGtPweGhiCI1qCDSxlUY1CVoopHGFQAM9aFxzob6SWBrX0CCo7hiNrAtUZ6KRmaC2AWYaWcUAqGw/ja0/VFZEY0uAuqJpdDegqv+n0T2CqqppdNXG/wZ483dgCI3vuLoFQePrCfVctNL4zAP0Pw3W13Lv3wcYdT9QMpzeILwEKimmdzgIlUyld/gMKnlL77AS6qijtwiFKtbSW6zVfxLU1yioIc+H3iLS3zg1YZ9Jw4bdjqAHApcM+6h3BT1SCBU8omKNfVc34C91+6uohNU0fgv+ElD4Y7JRTkVMVGhJPzgo3E7ZvugKO9uxt4ZYDftHUpERTQ1wNj6CsiT3g7OSLCMMAoVUJLAM79n4ljIkXMR74nyoTKHeQ0DgY7jQvJKd2l4CF2b56D4ImKiAz264FD2Ondi6Bi5d0n0Q8KUC0+GGhdJ86uDGTCrhC9G6Csr/K09PNIP2UomuEKwL5fN7DrcGRFDCM3+4NUXfOnmWqMbtv1PCBGFFmSwINpDy7YaEZjPdepIHCRP0LJL6h1O2kZA0mG6dh5S0cMoX7g+hUijfTEhqolsWSBpFBVL0qwj0gaQQumO+AkkHqEA3CDWX8kVDUqrV07O8YiowV7cxMNMGacl0oxbSNuo3Cp6JELgIu003TkDaACoQcUavvoCrHrcZlULaKioRDYFWUL5xqj0Bp6nECgjUl/JlNkBamKdbuOdUoi8EmiiwRyXPTDf2QtpBKvE33boDiz1dU/mdhKSPqcRACJRPBc5B0hG6FQVJ06hEPsSJF3lvw+TpFq4kkorEQ5gQKrIUEi5W0K0F/pCwT7/rI/uoyDVIGEMJcdKrUWX2QZgaKpIZDbd2+lLCoAa4FUWFavS7JlTv8cnSBrgT0EiFeuhYFYuDG+VWSoq4ATey9ayPfU6FInLg0pZT7ER1CVw6aKZSn0OYWCq1IBQunG5kp6blwYXNsVQsFqJcoXILXMyFNyZRhtpVeI8llh64omt3VOR4vKNPIGXZWwhnAWPM9ESdzu8LGBwCBznfUi7z3MNwUNxIz7yEIJfooZ7Lm9FiwLFaKxXIHNun7fnNHbKVnroEQfrTc096Pnw4LIzKmb/5+eG0gfmGuEL3Pb3T9zrUBQ0lC4Ik0TslQZAd9E47IMhkeqfJEOQ2vdNtCDKSkqzUjVVGnV6Aq5TUK5062ZFAKVe1OhOusdylDmbEbdDoXDiS0sxfBmWHU2MVL9bMH0FJkRBETl9kQSI19W0d6gLZCc0CYGBXIOVnaqZqIdD8lsYJgAvqAPQLpiYGXTpj7zs2SAAMjAEAy0CqLrjPGQBdk6ldALsoQ4QFf3m5zko11bb+mYWB7NwubdtkzWvRIvSFL1USm1WHFqNHaNsuO5aynDiJFkETJlMFVcvbf38PyjEWwqT1pizPQtAmtPs9CuV7finarO5FOXqnQZzcfMriNyYVbWyWSl8KUmE6FoQ2/h+PoBz5uRBpTybleTYLHQKEZFBhOhuPDvN7UZbMPRArzkyZ0kNhFzDr3G1+gNh1jv89CpIoj/mfEO07ypU5dQsc/XvCiSf0gF/Cf+b7w8HsrOGU6TuIN9osP4IHoXAWOv6r6grKd2vOD/3WwMm8qT6UyTweavg6k7JZ50yx4R1Bm6e/qJ3RaXiD0sfEbcM7Gvp9oiD/r6GOy+OoQPKPj+FC2uri/TPH1t6+5xxnRHJjbWX28oN1/nhf3ZgwyjfuMtSyrTcVGdkXEoJWFcyL+dPjGzdWnYFbq+83Uone26Cem/VU5IL2lcn6m1DV//lQvvUQ4Q7l8+kGteVUU67BNohgG0y5qnOgPlvTIsoSNhtinA6jLIuabNBEcz1lGB4CUUKGU4b6AmimPJidmg5xprNTweXQlCWY0v6r6Rvdgy3Q3OU5VrpXlQeR8qokl517oIto96ceGdch1vUMunGv+zzopiGqMpAuZJZDtMWZdCGwMqoB+rIt7r7EqqA9SVyrlnVJ98U2GMLOgz+ZZtCuEmqopN0M008Hd8JYli0cnT3RdDtsqLUqFWpIDbYODbttmpg9euEy/NEeHAsAAAAADPK33jeKigEAAAAAAAAAAAAAAAAAAECX5zagGJOPhAAAAABJRU5ErkJggg==",C=c(10),S=c(3),k=c(16),w=c(335),I=c(21),_=c.n(I),L="https://api.pluralkit.me/v1/",D=function(e){var t=e.name,c=e.tag,s=e.timezone,r=e.avatar,i=e.editDesc,l=e.setEditMode,j=e.setErrorAlert,b=e.setUser,d=e.user,h=Object(n.useState)(!1),O=Object(o.a)(h,2),u=O[0],g=O[1],p=Object(k.a)(),f=p.register,y=p.handleSubmit;return Object(a.jsxs)(w.a,{onSubmit:y((function(e){!e.tz||_.a.tz.zone(e.tz)?fetch("".concat(L,"s"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(){b((function(t){return Object(S.a)(Object(S.a)({},t),e)})),localStorage.setItem("user",JSON.stringify(d)),l(!1)})).catch((function(e){console.error(e),j(!0)})):g(!0)})),children:[Object(a.jsxs)(w.a.Text,{className:"mb-4",children:[Object(a.jsx)("b",{children:"Note:"})," if you refresh the page, the old data might show up again, this is due to the bot caching data.",Object(a.jsx)("br",{}),"Try editing a member to clear the cache, or wait a few minutes before refreshing."]}),Object(a.jsxs)(w.a.Row,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Name:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"name"},f("name")),{},{defaultValue:t}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Tag:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"tag"},f("tag")),{},{defaultValue:c}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Timezone:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"tz"},f("tz")),{},{defaultValue:s,required:!0})),u?Object(a.jsxs)(w.a.Text,{children:["Please enter a valid",Object(a.jsx)("a",{href:"https://xske.github.io/tz/",rel:"noreferrer",target:"_blank",children:"timezone"})]}):""]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Avatar url:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"avatar_url"},f("avatar_url")),{},{defaultValue:r}))]})]}),Object(a.jsxs)(w.a.Group,{className:"mt-3",children:[Object(a.jsx)(w.a.Label,{children:"Description:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({maxLength:"1000",as:"textarea",name:"description"},f("description")),{},{defaultValue:i}))]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return l(!1)},children:"Cancel"})," ",Object(a.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})]})},A=function(e){var t=e.setErrorAlert,c=e.setUser,n=e.user,s=e.setPrivacyEdit,r=Object(k.a)(),i=r.register,l=r.handleSubmit;return Object(a.jsxs)(w.a,{onSubmit:l((function(e){fetch("".concat(L,"s"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){c((function(t){return Object(S.a)(Object(S.a)({},t),e)})),localStorage.setItem("user",JSON.stringify(n)),s(!1)})).catch((function(e){console.error(e),t(!0)}))})),children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing privacy settings"}),Object(a.jsxs)(w.a.Row,{className:"mb-3 mb-lg-0",children:[Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Description:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"description_privacy",defaultValue:n.description_privacy,as:"select"},i("description_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Member list:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"member_list_privacy",defaultValue:n.member_list_privacy,as:"select"},i("member_list_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Front:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"front_privacy",as:"select",defaultValue:n.front_privacy},i("front_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Front history:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"front_history_privacy",defaultValue:n.front_history_privacy,as:"select"},i("front_history_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]})]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return s(!1)},children:"Cancel"})," ",Object(a.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)("hr",{})]})};function M(e){var t=Object(i.i)("/pk-webs/dash/:memberID"),s=Object(n.useState)(JSON.parse(localStorage.getItem("user"))),r=Object(o.a)(s,2),l=r[0],b=r[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),S=y[0],k=y[1],w=Object(n.useState)(""),I=Object(o.a)(w,2),_=I[0],L=I[1],M=Object(n.useState)(""),T=Object(o.a)(M,2),E=T[0],P=T[1],V=Object(n.useState)(""),z=Object(o.a)(V,2),Y=z[0],F=z[1],H=Object(n.useState)(""),R=Object(o.a)(H,2),q=R[0],J=R[1],B=Object(n.useState)(""),K=Object(o.a)(B,2),U=K[0],G=K[1],W=Object(n.useState)(!1),Q=Object(o.a)(W,2),Z=Q[0],X=Q[1],$=Object(n.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ce=ee[1],ae=Object(n.useState)(!1),ne=Object(o.a)(ae,2),se=ne[0],re=ne[1],ie=Object(n.useState)(!1),le=Object(o.a)(ie,2),je=le[0],oe=le[1];return Object(n.useEffect)((function(){var e=c(40).toHTML;if(l.name?k(l.name):k(""),l.tag?L(l.tag):L(""),l.tz?P(l.tz):P(""),l.avatar_url){var t=l.avatar_url.replace("&format=jpeg","");F(t.replace("?width=256&height=256",""))}else F("");l.description?(J(e(l.description)),G(l.description)):(J("(no description)"),G(""))}),[l.description,l.tag,l.avatar_url,l.tz,l.name]),Object(n.useEffect)((function(){p()(document.querySelector("textarea"))})),t?null:Object(a.jsxs)(d.a,{className:"mb-3 mt-3 w-100",children:[Object(a.jsxs)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(d.a.Title,{className:"float-left",children:[Object(a.jsx)(C.a,{className:"mr-4 float-left"})," ",S," (",l.id,")"]}),l.avatar_url?Object(a.jsx)(f.a,{trigger:Object(a.jsx)(h.a,{src:"".concat(l.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)(h.a,{src:"".concat(Y),style:{"max-width":640,height:"auto"},thumbnail:!0})})}}):Object(a.jsx)(h.a,{src:N,style:{width:50,height:50},className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(d.a.Body,{children:[je?Object(a.jsx)(O.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",Z?Object(a.jsx)(D,{editDesc:U,name:S,tag:_,timezone:E,avatar:Y,setErrorAlert:oe,user:l,setUser:b,setEditMode:X}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",l.id]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Tag:"})," ",_]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Timezone:"})," ",E]}),se?"":Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Privacy:"})," ",Object(a.jsx)(x.a,{variant:"light",size:"sm",onClick:function(){return re(!0)},children:"View"})]})]}),te?Object(a.jsx)(A,{setErrorAlert:oe,setUser:b,user:l,setPrivacyEdit:ce}):se?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing privacy settings"}),Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Description:"})," ",l.description_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Member list: "}),l.member_list_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Front:"})," ",l.front_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Front history:"})," ",l.front_history_privacy]})]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return re(!1)},children:"Exit"})," ",Object(a.jsx)(x.a,{variant:"primary",onClick:function(){return ce(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(v.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:q}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:q}}),te||se?"":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{variant:"light",onClick:function(){return X(!0)},children:"Edit"}),Object(a.jsx)(x.a,{variant:"primary",className:"float-right",onClick:function(){return j.push("/pk-webs/profile/".concat(l.id))},children:"Profile"})]})]})]})]})}var T=c(14),E=c(332),P=c(343),V=c(338),z=(c(41),c(15)),Y=c(337),F=c(333),H=c(56),R=c.n(H);function q(e){var t=JSON.parse(localStorage.getItem("user")).id,s=Object(n.useState)(e.member),r=Object(o.a)(s,2),i=r[0],l=r[1],j=Object(n.useState)(""),g=Object(o.a)(j,2),y=g[0],I=g[1],D=Object(n.useState)(""),A=Object(o.a)(D,2),M=A[0],P=A[1],H=Object(n.useState)(""),q=Object(o.a)(H,2),J=q[0],B=q[1],K=Object(n.useState)(""),U=Object(o.a)(K,2),G=U[0],W=U[1],Q=Object(n.useState)(""),Z=Object(o.a)(Q,2),X=Z[0],$=Z[1],ee=Object(n.useState)(""),te=Object(o.a)(ee,2),ce=te[0],ae=te[1],ne=Object(n.useState)(""),se=Object(o.a)(ne,2),re=se[0],ie=se[1],le=Object(n.useState)(""),je=Object(o.a)(le,2),oe=je[0],be=je[1],de=Object(n.useState)(""),he=Object(o.a)(de,2),Oe=he[0],ue=he[1],me=Object(n.useState)(""),xe=Object(o.a)(me,2),ge=xe[0],pe=xe[1],fe=Object(n.useState)(i.proxy_tags),ye=Object(o.a)(fe,2),ve=ye[0],Ne=ye[1],Ce=Object(n.useState)(!1),Se=Object(o.a)(Ce,2),ke=Se[0],we=Se[1],Ie=Object(n.useState)(!1),_e=Object(o.a)(Ie,2),Le=_e[0],De=_e[1],Ae=Object(n.useState)(!1),Me=Object(o.a)(Ae,2),Te=Me[0],Ee=Me[1],Pe=Object(n.useState)(!1),Ve=Object(o.a)(Pe,2),ze=Ve[0],Ye=Ve[1],Fe=Object(n.useState)(!1),He=Object(o.a)(Fe,2),Re=He[0],qe=He[1],Je=Object(n.useState)(!1),Be=Object(o.a)(Je,2),Ke=Be[0],Ue=Be[1],Ge=function(){return Ue(!1)},We=Object(n.useState)(!1),Qe=Object(o.a)(We,2),Ze=Qe[0],Xe=Qe[1],$e=Object(n.useState)(!1),et=Object(o.a)($e,2),tt=et[0],ct=et[1],at=Object(n.useState)(!1),nt=Object(o.a)(at,2),st=nt[0],rt=nt[1],it=Object(k.a)(),lt=it.register,jt=it.handleSubmit,ot=Object(k.a)(),bt=ot.register,dt=ot.handleSubmit,ht=Object(k.a)(),Ot=ht.register,ut=ht.handleSubmit,mt=Object(k.a)(),xt=mt.register,gt=mt.handleSubmit;Object(n.useEffect)((function(){p()(document.querySelectorAll("textarea"))})),Object(n.useEffect)((function(){var e=c(40).toHTML;if(i.display_name?I(i.display_name):I(""),i.birthday)if(B(i.birthday),i.birthday.startsWith("0004-")){var t=_()(i.birthday,"YYYY-MM-DD").format("MMM D");P(t)}else{var a=_()(i.birthday,"YYYY-MM-DD").format("MMM D, YYYY");P(a)}else P(""),B("");var n=_()(i.created).format("MMM D, YYYY");if(W(n),i.pronouns?($(e(i.pronouns)),ae(i.pronouns)):($(""),ae("")),i.avatar_url){var s=i.avatar_url.replace("&format=jpeg","");ie(s.replace("?width=256&height=256",""))}else ie("");i.color?be(i.color):be(""),i.description?(ue(e(i.description)),pe(i.description)):(ue("(no description)"),pe(""))}),[i.description,i.color,i.birthday,i.display_name,i.pronouns,i.avatar_url,i.proxy_tags,i.created]);var pt=function(t){e.edit(Object.assign(i,t)),fetch("".concat(L,"m/").concat(i.id),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){l((function(t){return Object(S.a)(Object(S.a)({},t),e)})),Xe(!1),we(!1)})).catch((function(e){console.error(e),Xe(!0)}))},ft=function(t){e.edit(Object.assign(i,t)),fetch("".concat(L,"m/").concat(i.id),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){l((function(t){return Object(S.a)(Object(S.a)({},t),e)})),Xe(!1),De(!1)})).catch((function(e){console.error(e),Xe(!0)}))},yt=function(e){e.memberID!==i.id?ct(!0):fetch("".concat(L,"m/").concat(i.id),{method:"DELETE",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(){Xe(!1),rt(!0)})).catch((function(e){console.error(e),Xe(!0)}))};var vt=function(t){var c={proxy_tags:t.proxy_tags.filter((function(e){return!(""===e.prefix&&""===e.suffix)}))};e.edit(Object.assign(i,c)),fetch("".concat(L,"m/").concat(i.id),{method:"PATCH",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){l((function(t){return Object(S.a)(Object(S.a)({},t),e)})),Ne(e.proxy_tags),Xe(!1),qe(!1)})).catch((function(e){console.error(e),Xe(!0)}))};function Nt(){return Object(a.jsxs)(d.a.Body,{style:{borderLeft:"5px solid #".concat(oe)},children:[Ze?Object(a.jsx)(O.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",ke?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(w.a,{id:"Edit",onSubmit:jt(pt),children:[Object(a.jsxs)(w.a.Row,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Name:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"name"},lt("name")),{},{defaultValue:i.name}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Display name: "}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"display_name"},lt("display_name")),{},{defaultValue:y}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Birthday:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({pattern:"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$",name:"birthday"},lt("birthday")),{},{defaultValue:J})),Object(a.jsx)(w.a.Text,{children:"(YYYY-MM-DD)"})]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Pronouns:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({maxLength:"100",name:"pronouns"},lt("pronouns")),{},{defaultValue:ce}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Avatar url:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({type:"url",name:"avatar_url"},lt("avatar_url")),{},{defaultValue:re}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Color:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({pattern:"[A-Fa-f0-9]{6}",name:"color"},lt("color")),{},{defaultValue:oe})),Object(a.jsx)(w.a.Text,{children:"(hexcode)"})]})]}),Object(a.jsxs)(w.a.Group,{className:"mt-3",children:[Object(a.jsx)(w.a.Label,{children:"Description:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({maxLength:"1000",as:"textarea",name:"description"},lt("description")),{},{defaultValue:ge}))]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return we(!1)},children:"Cancel"})," ",Object(a.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})," ",Object(a.jsx)(x.a,{variant:"danger",className:"float-right",onClick:function(){return Ue((function(e){return!e}))},children:"Delete"})]}),Object(a.jsx)(f.a,{open:Ke,position:"top-center",modal:!0,children:Object(a.jsx)(b.a,{children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(d.a.Header,{children:Object(a.jsxs)("h5",{children:[Object(a.jsx)(C.k,{className:"mr-3"})," Are you sure you want to delete ",i.name,"?"]})}),Object(a.jsxs)(d.a.Body,{children:[tt?Object(a.jsx)(O.a,{variant:"danger",children:"Incorrect ID, please check the spelling."}):"",Object(a.jsxs)("p",{children:["If you're sure you want to delete this member, please enter the member ID (",i.id,") below."]}),Object(a.jsxs)(w.a,{id:"Delete",onSubmit:ut(yt),children:[Object(a.jsx)(w.a.Label,{children:"Member ID:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({className:"mb-4",name:"memberID"},Ot("memberID",{required:!0})),{},{placeholder:i.id})),Object(a.jsx)(x.a,{variant:"danger",type:"submit",children:"Delete"})," ",Object(a.jsx)(x.a,{variant:"light",className:"float-right",onClick:Ge,children:"Cancel"})]})]})]})})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",i.id]}),i.display_name?localStorage.getItem("twemoji")?Object(a.jsx)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(v.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Display name: "}),y]})}):Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name:"})," ",y]}):"",i.birthday?Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",M]}):"",i.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(v.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:X}})]})}):Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:X}})]}):"",i.color?Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",oe]}):"",Te||ze?"":Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Privacy:"})," ",Object(a.jsx)(x.a,{variant:"light",size:"sm",onClick:function(){return Ee(!0)},children:"View"})]}),Te||ze?"":Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(x.a,{variant:"light",size:"sm",onClick:function(){return Ye(!0)},children:"View"})]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Created:"})," ",G]})]}),Le?Object(a.jsxs)(w.a,{id:"Privacy",onSubmit:dt(ft),children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing privacy settings"}),Object(a.jsxs)(w.a.Row,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Visibility:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"visibility",defaultValue:i.visibility,as:"select"},bt("visibility")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Name:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"name_privacy",defaultValue:i.name_privacy,as:"select"},bt("name_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Description:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"description_privacy",defaultValue:i.description_privacy,as:"select"},bt("description_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Avatar:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"avatar_privacy",defaultValue:i.avatar_privacy,as:"select"},bt("avatar_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Birthday:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"birthday_privacy",defaultValue:i.birthday_privacy,as:"select"},bt("birthday_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Pronouns:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"pronoun_privacy",defaultValue:i.pronoun_privacy,as:"select"},bt("pronoun_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Meta:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"metadata_privacy",defaultValue:i.metadata_privacy,as:"select"},bt("metadata_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]})]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return De(!1)},children:"Cancel"})," ",Object(a.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)("hr",{})]}):Te?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing privacy settings"}),Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Visibility:"})," ",i.visibility]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Name: "}),i.name_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Description:"})," ",i.description_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Avatar:"})," ",i.avatar_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",i.birthday_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",i.pronoun_privacy]}),Object(a.jsxs)(m.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Meta:"})," ",i.metadata_privacy]})]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return Ee(!1)},children:"Exit"}),"  ",Object(a.jsx)(x.a,{variant:"primary",onClick:function(){return De(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Re?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing proxy tags"}),Object(a.jsxs)(w.a,{onSubmit:gt(vt),children:[Object(a.jsxs)(w.a.Row,{children:[ve.map((function(e,t){return Object(a.jsx)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:Object(a.jsx)(w.a.Row,{children:Object(a.jsxs)(E.a,{className:"ml-1 mr-1 mb-1",children:[Object(a.jsx)(w.a.Control,Object(S.a)({as:"textarea",rows:"1",name:"proxy_tags[".concat(t,"].prefix"),defaultValue:e.prefix},xt("proxy_tags[".concat(t,"].prefix")))),Object(a.jsx)(w.a.Control,{as:"textarea",rows:"1",disabled:!0,placeholder:"text"}),Object(a.jsx)(w.a.Control,Object(S.a)({as:"textarea",rows:"1",name:"proxy_tags[".concat(t,"].suffix"),defaultValue:e.suffix},xt("proxy_tags[".concat(t,"].suffix"))))]})})},t)}))," ",Object(a.jsx)(m.a,{className:"mb-2",xs:12,lg:3,children:Object(a.jsx)(x.a,{block:!0,variant:"light",onClick:function(){Ne((function(e){return[].concat(Object(T.a)(e),[{prefix:"",suffix:""}])}))},children:"Add new"})})]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return qe(!1),void Ne(i.proxy_tags)},children:"Exit"})," ",Object(a.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(a.jsx)("hr",{})]}):ze?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(u.a,{className:"mb-2",children:0===ve.length?Object(a.jsx)(m.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):ve.map((function(e,t){return Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},t)}))}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return Ye(!1)},children:"Exit"}),"  ",Object(a.jsx)(x.a,{variant:"primary",onClick:function(){return qe(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(v.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:Oe}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:Oe}}),ze||Le||Te?"":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{variant:"light",onClick:function(){return we(!0)},children:"Edit"})," ",Object(a.jsx)(z.a,{to:"dash/".concat(i.id),children:Object(a.jsx)(x.a,{variant:"primary",className:"float-right",children:"View page"})})]})]})," "]})}return st?Object(a.jsx)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(x.a,{variant:"link",className:"float-left",children:[Object(a.jsx)(C.k,{className:"mr-4"}),"Member Deleted"]})}):Object(a.jsxs)(R.a,{offset:100,children:[Object(a.jsxs)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[" ","public"===i.visibility?Object(a.jsx)(Y.a,{placement:"left",overlay:Object(a.jsx)(F.a,{children:"Copy public link"}),children:Object(a.jsx)(x.a,{variant:"link",onClick:function(){return function(){var e="https://spectralitree.github.io/pk-webs/profile/".concat(t,"/").concat(i.id),c=document.createElement("textarea");c.innerText=e,document.body.appendChild(c),c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(c)}()},children:Object(a.jsx)(C.d,{style:{fontSize:"1.25rem"}})})}):Object(a.jsx)(x.a,{variant:"link",children:Object(a.jsx)(C.e,{style:{fontSize:"1.25rem"}})}),localStorage.getItem("pagesonly")?Object(a.jsx)(z.a,{to:"dash/".concat(i.id),children:Object(a.jsxs)(x.a,{variant:"link",className:"float-left",children:[Object(a.jsx)("b",{children:i.name})," (",i.id,")"]})}):Object(a.jsxs)(V.a.Toggle,{as:x.a,variant:"link",eventKey:i.id,children:[" ",Object(a.jsx)("b",{children:i.name})," (",i.id,")"]})]}),i.avatar_url?Object(a.jsx)(f.a,{trigger:Object(a.jsx)(h.a,{src:"".concat(i.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)("div",{className:"m-auto",style:{maxWidth:"640px"},children:Object(a.jsx)(h.a,{src:"".concat(re),style:{maxWidth:"100%",height:"auto"},thumbnail:!0})})})}}):Object(a.jsx)(h.a,{src:N,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),localStorage.getItem("expandcards")?Nt():Object(a.jsx)(V.a.Collapse,{eventKey:i.id,children:Nt()})]})}function J(e){var t=Object(n.useState)(e.member),s=Object(o.a)(t,2),r=s[0],i=s[1],l=JSON.parse(localStorage.getItem("user")).id,g=Object(n.useState)(""),y=Object(o.a)(g,2),I=y[0],D=y[1],A=Object(n.useState)(""),M=Object(o.a)(A,2),P=M[0],V=M[1],H=Object(n.useState)(""),R=Object(o.a)(H,2),q=R[0],J=R[1],B=Object(n.useState)(""),K=Object(o.a)(B,2),U=K[0],G=K[1],W=Object(n.useState)(""),Q=Object(o.a)(W,2),Z=Q[0],X=Q[1],$=Object(n.useState)(""),ee=Object(o.a)($,2),te=ee[0],ce=ee[1],ae=Object(n.useState)(""),ne=Object(o.a)(ae,2),se=ne[0],re=ne[1],ie=Object(n.useState)(""),le=Object(o.a)(ie,2),je=le[0],oe=le[1],be=Object(n.useState)(""),de=Object(o.a)(be,2),he=de[0],Oe=de[1],ue=Object(n.useState)(""),me=Object(o.a)(ue,2),xe=me[0],ge=me[1],pe=Object(n.useState)(r.proxy_tags),fe=Object(o.a)(pe,2),ye=fe[0],ve=fe[1],Ne=Object(n.useState)(!1),Ce=Object(o.a)(Ne,2),Se=Ce[0],ke=Ce[1],we=Object(n.useState)(!1),Ie=Object(o.a)(we,2),_e=Ie[0],Le=Ie[1],De=Object(n.useState)(!1),Ae=Object(o.a)(De,2),Me=Ae[0],Te=Ae[1],Ee=Object(n.useState)(!1),Pe=Object(o.a)(Ee,2),Ve=Pe[0],ze=Pe[1],Ye=Object(n.useState)(!1),Fe=Object(o.a)(Ye,2),He=Fe[0],Re=Fe[1],qe=Object(n.useState)(!1),Je=Object(o.a)(qe,2),Be=Je[0],Ke=Je[1],Ue=Object(n.useState)(!1),Ge=Object(o.a)(Ue,2),We=Ge[0],Qe=Ge[1],Ze=Object(n.useState)(!1),Xe=Object(o.a)(Ze,2),$e=Xe[0],et=Xe[1],tt=Object(n.useState)(!1),ct=Object(o.a)(tt,2),at=ct[0],nt=ct[1],st=Object(k.a)(),rt=st.register,it=st.handleSubmit,lt=Object(k.a)(),jt=lt.register,ot=lt.handleSubmit,bt=Object(k.a)(),dt=bt.register,ht=bt.handleSubmit,Ot=Object(k.a)(),ut=Ot.register,mt=Ot.handleSubmit;Object(n.useEffect)((function(){p()(document.querySelectorAll("textarea"))})),Object(n.useEffect)((function(){var e=c(40).toHTML;if(r.display_name?D(r.display_name):D(""),r.birthday)if(J(r.birthday),r.birthday.startsWith("0004-")){var t=_()(r.birthday,"YYYY-MM-DD").format("MMM D");V(t)}else{var a=_()(r.birthday,"YYYY-MM-DD").format("MMM D, YYYY");V(a)}else V(""),J("");var n=_()(r.created).format("MMM D, YYYY");if(G(n),r.pronouns?(X(e(r.pronouns)),ce(r.pronouns)):(X(""),ce("")),r.avatar_url){var s=r.avatar_url.replace("&format=jpeg","");re(s.replace("?width=256&height=256",""))}else re("");r.color?oe(r.color):oe(""),r.description?(Oe(e(r.description)),ge(r.description)):(Oe("(no description)"),ge(""))}),[r.description,r.color,r.birthday,r.display_name,r.pronouns,r.avatar_url,r.proxy_tags,r.created]);return at?Object(a.jsxs)(d.a,{className:"mb-5",children:[Object(a.jsx)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(x.a,{variant:"link",className:"float-left",children:[Object(a.jsx)(C.k,{className:"mr-4"}),"Member Deleted"]})}),Object(a.jsxs)(d.a.Body,{children:["Member successfully deleted, click the button below to go back to the dash.",Object(a.jsx)(x.a,{variant:"primary",className:"float-right",onClick:function(){return j.push("/pk-webs/dash/reload")},children:"Back"})]})]}):Object(a.jsxs)(a.Fragment,{children:[localStorage.getItem("colorbg")?"":r.color?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"backdrop",style:{backgroundColor:"#".concat(je)}}),Object(a.jsx)("div",{className:"backdrop-overlay"})]}):"",Object(a.jsxs)(d.a,{className:"mb-5",children:[Object(a.jsxs)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[" ","public"===r.visibility?Object(a.jsx)(Y.a,{placement:"left",overlay:Object(a.jsx)(F.a,{children:"Copy public link"}),children:Object(a.jsx)(x.a,{variant:"link",onClick:function(){return function(){var e="https://spectralitree.github.io/pk-webs/profile/".concat(l,"/").concat(r.id),t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)}()},children:Object(a.jsx)(C.d,{style:{fontSize:"1.25rem"}})})}):Object(a.jsx)(x.a,{variant:"link",children:Object(a.jsx)(C.e,{style:{fontSize:"1.25rem"}})}),Object(a.jsxs)(x.a,{variant:"link",children:[Object(a.jsx)("b",{children:r.name})," (",r.id,")"]})," "]}),r.avatar_url?Object(a.jsx)(f.a,{trigger:Object(a.jsx)(h.a,{src:"".concat(r.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)("div",{className:"m-auto",style:{maxWidth:"640px"},children:Object(a.jsx)(h.a,{src:"".concat(se),style:{maxWidth:"100%",height:"auto"},thumbnail:!0})})})}}):Object(a.jsx)(h.a,{src:N,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(d.a.Body,{style:{borderLeft:localStorage.getItem("colorbg")?"5px solid #".concat(je):""},children:[We?Object(a.jsx)(O.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",Se?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(w.a,{id:"Edit",onSubmit:it((function(t){e.edit(Object.assign(r,t)),fetch("".concat(L,"m/").concat(r.id),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){i((function(t){return Object(S.a)(Object(S.a)({},t),e)})),Qe(!1),ke(!1)})).catch((function(e){console.error(e),Qe(!0)}))})),children:[Object(a.jsxs)(w.a.Row,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Name:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"name"},rt("name")),{},{defaultValue:r.name}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Display name: "}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"display_name"},rt("display_name")),{},{defaultValue:I}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Birthday:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({pattern:"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$",name:"birthday"},rt("birthday")),{},{defaultValue:q})),Object(a.jsx)(w.a.Text,{children:"(YYYY-MM-DD)"})]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Pronouns:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({maxLength:"100",name:"pronouns"},rt("pronouns")),{},{defaultValue:te}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Avatar url:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({type:"url",name:"avatar_url"},rt("avatar_url")),{},{defaultValue:se}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Color:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({pattern:"[A-Fa-f0-9]{6}",name:"color"},rt("color")),{},{defaultValue:je})),Object(a.jsx)(w.a.Text,{children:"(hexcode)"})]})]}),Object(a.jsxs)(w.a.Group,{className:"mt-3",children:[Object(a.jsx)(w.a.Label,{children:"Description:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({maxLength:"1000",as:"textarea",name:"description"},rt("description")),{},{defaultValue:xe}))]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return ke(!1)},children:"Cancel"})," ",Object(a.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})," ",Object(a.jsx)(x.a,{variant:"danger",className:"float-right",onClick:function(){return Ke((function(e){return!e}))},children:"Delete"})]}),Object(a.jsx)(f.a,{open:Be,position:"top-center",modal:!0,children:Object(a.jsx)(b.a,{children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(d.a.Header,{children:Object(a.jsxs)("h5",{children:[Object(a.jsx)(C.k,{className:"mr-3"})," Are you sure you want to delete ",r.name,"?"]})}),Object(a.jsxs)(d.a.Body,{children:[$e?Object(a.jsx)(O.a,{variant:"danger",children:"Incorrect ID, please check the spelling."}):"",Object(a.jsxs)("p",{children:["If you're sure you want to delete this member, please enter the member ID (",r.id,") below."]}),Object(a.jsxs)(w.a,{id:"Delete",onSubmit:ht((function(e){e.memberID!==r.id?et(!0):fetch("".concat(L,"m/").concat(r.id),{method:"DELETE",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(){Qe(!1),nt(!0)})).catch((function(e){console.error(e),Qe(!0)}))})),children:[Object(a.jsx)(w.a.Label,{children:"Member ID:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({className:"mb-4",name:"memberID"},dt("memberID",{required:!0})),{},{placeholder:r.id})),Object(a.jsx)(x.a,{variant:"danger",type:"submit",children:"Delete"})," ",Object(a.jsx)(x.a,{variant:"light",className:"float-right",onClick:function(){return Ke(!1)},children:"Cancel"})]})]})]})})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",r.id]}),r.display_name?localStorage.getItem("twemoji")?Object(a.jsx)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(v.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Display name: "}),I]})}):Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name:"})," ",I]}):"",r.birthday?Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",P]}):"",r.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(v.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:Z}})]})}):Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:Z}})]}):"",r.color?Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",je]}):"",Me||Ve?"":Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Privacy:"})," ",Object(a.jsx)(x.a,{variant:"light",size:"sm",onClick:function(){return Te(!0)},children:"View"})]}),Me||Ve?"":Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(x.a,{variant:"light",size:"sm",onClick:function(){return ze(!0)},children:"View"})]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Created:"})," ",U]})]}),_e?Object(a.jsxs)(w.a,{id:"Privacy",onSubmit:ot((function(t){e.edit(Object.assign(r,t)),fetch("".concat(L,"m/").concat(r.id),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){i((function(t){return Object(S.a)(Object(S.a)({},t),e)})),Qe(!1),Le(!1)})).catch((function(e){console.error(e),Qe(!0)}))})),children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing privacy settings"}),Object(a.jsxs)(w.a.Row,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Visibility:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"visibility",defaultValue:r.visibility,as:"select"},jt("visibility")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Name:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"name_privacy",defaultValue:r.name_privacy,as:"select"},jt("name_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Description:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"description_privacy",defaultValue:r.description_privacy,as:"select"},jt("description_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Avatar:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"avatar_privacy",defaultValue:r.avatar_privacy,as:"select"},jt("avatar_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Birthday:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"birthday_privacy",defaultValue:r.birthday_privacy,as:"select"},jt("birthday_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Pronouns:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"pronoun_privacy",defaultValue:r.pronoun_privacy,as:"select"},jt("pronoun_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Meta:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"metadata_privacy",defaultValue:r.metadata_privacy,as:"select"},jt("metadata_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]})]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return Le(!1)},children:"Cancel"})," ",Object(a.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)("hr",{})]}):Me?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing privacy settings"}),Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Visibility:"})," ",r.visibility]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Name: "}),r.name_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Description:"})," ",r.description_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Avatar:"})," ",r.avatar_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",r.birthday_privacy]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",r.pronoun_privacy]}),Object(a.jsxs)(m.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Meta:"})," ",r.metadata_privacy]})]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return Te(!1)},children:"Exit"}),"  ",Object(a.jsx)(x.a,{variant:"primary",onClick:function(){return Le(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",He?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Editing proxy tags"}),Object(a.jsxs)(w.a,{onSubmit:mt((function(t){var c={proxy_tags:t.proxy_tags.filter((function(e){return!(""===e.prefix&&""===e.suffix)}))};e.edit(Object.assign(r,c)),fetch("".concat(L,"m/").concat(r.id),{method:"PATCH",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){i((function(t){return Object(S.a)(Object(S.a)({},t),e)})),ve(e.proxy_tags),Qe(!1),Re(!1)})).catch((function(e){console.error(e),Qe(!0)}))})),children:[Object(a.jsxs)(w.a.Row,{children:[ye.map((function(e,t){return Object(a.jsx)(m.a,{className:"mb-lg-2",xs:12,lg:2,children:Object(a.jsx)(w.a.Row,{children:Object(a.jsxs)(E.a,{className:"ml-1 mr-1 mb-1",children:[Object(a.jsx)(w.a.Control,Object(S.a)({as:"textarea",rows:"1",name:"proxy_tags[".concat(t,"].prefix"),defaultValue:e.prefix},ut("proxy_tags[".concat(t,"].prefix")))),Object(a.jsx)(w.a.Control,{as:"textarea",rows:"1",disabled:!0,placeholder:"text"}),Object(a.jsx)(w.a.Control,Object(S.a)({as:"textarea",rows:"1",name:"proxy_tags[".concat(t,"].suffix"),defaultValue:e.suffix},ut("proxy_tags[".concat(t,"].suffix"))))]})})},t)}))," ",Object(a.jsx)(m.a,{className:"mb-2",xs:12,lg:3,children:Object(a.jsx)(x.a,{block:!0,variant:"light",onClick:function(){ve((function(e){return[].concat(Object(T.a)(e),[{prefix:"",suffix:""}])}))},children:"Add new"})})]}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return Re(!1),void ve(r.proxy_tags)},children:"Exit"})," ",Object(a.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(a.jsx)("hr",{})]}):Ve?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(u.a,{className:"mb-2",children:0===ye.length?Object(a.jsx)(m.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):ye.map((function(e,t){return Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},t)}))}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return ze(!1)},children:"Exit"}),"  ",Object(a.jsx)(x.a,{variant:"primary",onClick:function(){return Re(!0)},children:"Edit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(v.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:he}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:he}}),Ve||_e||Me?"":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{variant:"light",onClick:function(){return ke(!0)},children:"Edit"})," ",Object(a.jsx)(z.a,{to:"/pk-webs/dash",children:Object(a.jsx)(x.a,{variant:"primary",className:"float-right",children:"Back"})})]})]})," "]})]})]})}function B(e){var t=Object(i.h)().memberID,c=e.members.filter((function(e){return e.id===t})),s=c.map((function(t){return Object(a.jsx)(J,{member:t,edit:e.edit},t.id)})),r=0===c.length;return Object(n.useEffect)((function(){c.length}),[c]),r?Object(a.jsxs)(O.a,{variant:"danger",children:["You do not have a member with the ID '",t,"' in your system. Please check the ID again."]}):Object(a.jsx)(a.Fragment,{children:s})}var K=c(334);function U(){return Object(a.jsx)(b.a,{fluid:!0,className:"text-center",children:Object(a.jsx)(K.a,{animation:"border"})})}function G(){var e=Object(i.i)().path,t=JSON.parse(localStorage.getItem("user")).id,c=Object(n.useState)(!1),s=Object(o.a)(c,2),r=s[0],l=s[1],j=Object(n.useState)(!1),h=Object(o.a)(j,2),g=h[0],p=h[1],y=Object(n.useState)(!1),v=Object(o.a)(y,2),N=v[0],I=v[1],_=Object(n.useState)(!1),D=Object(o.a)(_,2),A=D[0],M=D[1],z=Object(n.useState)(!1),Y=Object(o.a)(z,2),F=Y[0],H=Y[1],R=Object(n.useState)(1),J=Object(o.a)(R,2),K=J[0],G=J[1],W=Object(n.useState)(25),Q=Object(o.a)(W,2),Z=Q[0],X=Q[1],$=Object(n.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ce=ee[1],ae=function(){return ce(!1)},ne=Object(n.useState)([]),se=Object(o.a)(ne,2),re=se[0],ie=se[1],le=Object(n.useState)("name"),je=Object(o.a)(le,2),oe=je[0],be=je[1],de=Object(n.useState)("all"),he=Object(o.a)(de,2),Oe=he[0],ue=he[1],me=Object(n.useState)("name"),xe=Object(o.a)(me,2),ge=xe[0],pe=xe[1],fe=Object(n.useState)("ascending"),ye=Object(o.a)(fe,2),ve=ye[0],Ne=ye[1],Ce=Object(n.useState)(""),Se=Object(o.a)(Ce,2),ke=Se[0],we=Se[1],Ie=Object(n.useState)([{prefix:"",suffix:""}]),_e=Object(o.a)(Ie,2),Le=_e[0],De=_e[1],Ae=Object(k.a)(),Me=Ae.register,Te=Ae.handleSubmit,Ee=Object(n.useCallback)((function(){l(!0),p(!1),X(localStorage.getItem("expandcards")?10:25),fetch("".concat(L,"s/").concat(t,"/members"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){ie(e),l(!1)})).catch((function(e){console.log(e),p(!0),l(!1)}))}),[t]);Object(n.useEffect)((function(){Ee()}),[Ee]);var Pe=K*Z,Ve=Pe-Z,ze=re.map((function(e){return e.display_name?Object(S.a)(Object(S.a)({},e),{},{displayName:e.display_name}):Object(S.a)(Object(S.a)({},e),{},{displayName:e.name})})).map((function(e){return e.description?Object(S.a)(Object(S.a)({},e),{},{desc:e.description}):Object(S.a)(Object(S.a)({},e),{},{desc:"(no description)"})})).filter((function(e){if(!ke&"all"===Oe)return!0;if("private"===Oe){if("private"!==e.visibility)return!1}else if("public"===Oe&&"public"!==e.visibility)return!1;return"name"===oe?!!e.name.toLowerCase().includes(ke.toLowerCase()):"display name"===oe?!!e.displayName.toLowerCase().includes(ke.toLowerCase()):"description"===oe?!!e.desc.toLowerCase().includes(ke.toLowerCase()):"ID"===oe&&!!e.id.toLowerCase().includes(ke.toLowerCase())})),Ye=K,Fe=Math.ceil(ze.length/Z),He=ze;"name"===ge?He="descending"===ve?ze.sort((function(e,t){return e.name.localeCompare(t.name)})).reverse().slice(Ve,Pe):ze.sort((function(e,t){return e.name.localeCompare(t.name)})).slice(Ve,Pe):"display name"===ge?He="descending"===ve?ze.sort((function(e,t){return e.displayName.localeCompare(t.displayName)})).reverse().slice(Ve,Pe):ze.sort((function(e,t){return e.displayName.localeCompare(t.displayName)})).slice(Ve,Pe):"ID"===ge?He="descending"===ve?ze.sort((function(e,t){return e.id.localeCompare(t.id)})).reverse().slice(Ve,Pe):ze.sort((function(e,t){return e.id.localeCompare(t.id)})).slice(Ve,Pe):"date created"===ge&&(He="descending"===ve?ze.sort((function(e,t){return e.created.localeCompare(t.created)})).reverse().slice(Ve,Pe):ze.sort((function(e,t){return e.created.localeCompare(t.created)})).slice(Ve,Pe));var Re=He.map((function(e){return Object(a.jsx)(d.a,{className:localStorage.getItem("expandcards")?"mb-3":"",children:Object(a.jsx)(q,{member:e,edit:function(e){return ie(re.map((function(t){return t.id===e.id?Object.assign(t,e):t})))}})},e.id)}));return Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:e,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{className:"mb-lg-3 justfiy-content-md-center",children:[Object(a.jsx)(m.a,{xs:12,lg:3,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"Page length:"}),Object(a.jsxs)(w.a.Control,{as:"select",defaultValue:localStorage.getItem("expandcards")?10:25,onChange:function(e){X(e.target.value),G(1)},children:[Object(a.jsx)("option",{children:"10"}),Object(a.jsx)("option",{children:"25"}),Object(a.jsx)("option",{children:"50"}),Object(a.jsx)("option",{children:"100"})]})]})})}),Object(a.jsx)(m.a,{xs:12,lg:3,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"Search by:"}),Object(a.jsxs)(w.a.Control,{as:"select",defaultValue:oe,onChange:function(e){be(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"description"}),Object(a.jsx)("option",{children:"ID"})]})]})})}),Object(a.jsx)(m.a,{xs:12,lg:3,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"Sort by:"}),Object(a.jsxs)(w.a.Control,{as:"select",defaultValue:ge,onChange:function(e){pe(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"ID"}),Object(a.jsx)("option",{children:"date created"})]})]})})}),Object(a.jsx)(m.a,{xs:12,lg:3,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"Sort order:"}),Object(a.jsxs)(w.a.Control,{as:"select",defaultValue:ve,onChange:function(e){Ne(e.target.value)},children:[Object(a.jsx)("option",{children:"ascending"}),Object(a.jsx)("option",{children:"descending"})]})]})})})]}),Object(a.jsxs)(u.a,{className:"justify-content-md-center",children:[Object(a.jsx)(m.a,{xs:12,lg:3,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"Only show:"}),Object(a.jsxs)(w.a.Control,{as:"select",defaultValue:Oe,onChange:function(e){ue(e.target.value)},children:[Object(a.jsx)("option",{children:"all"}),Object(a.jsx)("option",{children:"private"}),Object(a.jsx)("option",{children:"public"})]})]})})}),Object(a.jsx)(m.a,{className:"mb-3",xs:12,lg:7,children:Object(a.jsx)(w.a,{children:Object(a.jsx)(w.a.Control,{value:ke,onChange:function(e){we(e.target.value),G(1)},placeholder:"Search by ".concat(oe)})})}),Object(a.jsx)(m.a,{className:"mb-3",xs:12,lg:2,children:Object(a.jsx)(x.a,{type:"primary",className:"m-0",block:!0,onClick:function(){return Ee()},children:"Refresh"})})]}),Object(a.jsx)(u.a,{className:"justify-content-md-center",children:Object(a.jsxs)(P.a,{className:"ml-auto mr-auto",children:[1===K?Object(a.jsx)(P.a.Prev,{disabled:!0}):Object(a.jsx)(P.a.Prev,{onClick:function(){return G(K-1)}}),K<3?"":Object(a.jsx)(P.a.Item,{onClick:function(){return G(1)},active:1===Ye,children:1}),K<4?"":K<5?Object(a.jsx)(P.a.Item,{onClick:function(){return G(2)},active:2===Ye,children:2}):Object(a.jsx)(P.a.Ellipsis,{disabled:!0}),K>1?Object(a.jsx)(P.a.Item,{onClick:function(){return G(K-1)},children:K-1}):"",Object(a.jsx)(P.a.Item,{onClick:function(){return G(K)},active:K===Ye,children:K}),K<Fe?Object(a.jsx)(P.a.Item,{onClick:function(){return G(K+1)},children:K+1}):"",K>Fe-3?"":K===Fe-3?Object(a.jsx)(P.a.Item,{onClick:function(){return G(Fe-1)},active:Fe-1===Ye,children:Fe-1}):Object(a.jsx)(P.a.Ellipsis,{disabled:!0}),K>Fe-2?"":Object(a.jsx)(P.a.Item,{onClick:function(){return G(Fe)},active:Fe===Ye,children:Fe}),K===Fe?Object(a.jsx)(P.a.Next,{disabled:!0}):Object(a.jsx)(P.a.Next,{onClick:function(){return G(K+1)}})]})}),r?Object(a.jsx)(U,{}):g?Object(a.jsx)(O.a,{variant:"danger",children:"Error fetching members."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d.a,{className:"w-100",children:Object(a.jsxs)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(x.a,{variant:"link",className:"float-left",onClick:function(){return ce((function(e){return!e}))},children:[Object(a.jsx)(C.h,{className:"mr-4"}),"Add Member"]}),Object(a.jsx)(f.a,{open:te,position:"top-center",modal:!0,children:Object(a.jsx)(b.a,{children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(d.a.Header,{children:Object(a.jsxs)("h5",{children:[Object(a.jsx)(C.h,{className:"mr-3"})," Add member "]})}),Object(a.jsxs)(d.a.Body,{children:[N?Object(a.jsx)(O.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",Object(a.jsxs)(w.a,{onSubmit:Te((function(e){l(!0);var t=e.proxy_tags?Object(S.a)(Object(S.a)({},e),{},{proxy_tags:e.proxy_tags.filter((function(e){return!(""===e.prefix&&""===e.suffix)}))}):e;fetch("".concat(L,"m/"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){I(!1),ae(),Ee()})).catch((function(e){console.error(e),I(!0)}))})),children:[Object(a.jsx)(w.a.Text,{}),Object(a.jsxs)(w.a.Row,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Name:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"name"},Me("name")),{},{defaultValue:"",required:!0}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Display name: "}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"display_name"},Me("display_name")),{},{defaultValue:""}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Birthday:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({pattern:"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$",name:"birthday"},Me("birthday")),{},{defaultValue:""})),Object(a.jsx)(w.a.Text,{children:"(YYYY-MM-DD)"})]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Pronouns:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"pronouns"},Me("pronouns")),{},{defaultValue:""}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Avatar url:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({type:"url",name:"avatar_url"},Me("avatar_url")),{},{defaultValue:""}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Color:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({pattern:"[A-Fa-f0-9]{6}",name:"color"},Me("color")),{},{defaultValue:""})),Object(a.jsx)(w.a.Text,{children:"(hexcode)"})]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:2,children:[Object(a.jsx)(w.a.Label,{children:"Proxy tags:"}),Object(a.jsxs)(x.a,{variant:"primary",block:!0,onClick:function(){return M((function(e){return!e}))},children:[" ",A?"Hide":"Show"]})]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:2,children:[Object(a.jsx)(w.a.Label,{children:"Privacy settings:"}),Object(a.jsxs)(x.a,{variant:"primary",block:!0,onClick:function(){return H((function(e){return!e}))},children:[" ",F?"Hide":"Show"]})]})]}),Object(a.jsx)("hr",{}),A?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:"Proxy Tags"}),Object(a.jsxs)(w.a.Row,{children:[Le.map((function(e,t){return Object(a.jsx)(m.a,{className:"mb-lg-2",xs:12,lg:2,children:Object(a.jsx)(w.a.Row,{children:Object(a.jsxs)(E.a,{className:"ml-1 mr-1 mb-1",children:[Object(a.jsx)(w.a.Control,Object(S.a)({name:"proxy_tags[".concat(t,"].prefix"),defaultValue:e.prefix},Me("proxy_tags[".concat(t,"].prefix")))),Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"text"}),Object(a.jsx)(w.a.Control,Object(S.a)({name:"proxy_tags[".concat(t,"].suffix"),defaultValue:e.suffix},Me("proxy_tags[".concat(t,"].suffix"))))]})})},t)}))," ",Object(a.jsx)(m.a,{className:"mb-lg-2",xs:12,lg:2,children:Object(a.jsx)(x.a,{block:!0,variant:"light",onClick:function(){De((function(e){return[].concat(Object(T.a)(e),[{prefix:"",suffix:""}])}))},children:"Add new"})})]}),Object(a.jsx)("hr",{})]}):"",F?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:"privacy settings"}),Object(a.jsxs)(w.a.Row,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Visibility:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"visibility",as:"select"},Me("visibility")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Name:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"name_privacy",as:"select"},Me("name_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Description:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"description_privacy",as:"select"},Me("description_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Birthday:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"birthday_privacy",as:"select"},Me("birthday_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Pronouns:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"pronoun_privacy",as:"select"},Me("pronoun_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]}),Object(a.jsxs)(m.a,{className:"mb-3",xs:12,lg:3,children:[Object(a.jsx)(w.a.Label,{children:"Meta:"}),Object(a.jsxs)(w.a.Control,Object(S.a)(Object(S.a)({name:"metadata_privacy",as:"select"},Me("metadata_privacy")),{},{children:[Object(a.jsx)("option",{children:"public"}),Object(a.jsx)("option",{children:"private"})]}))]})]}),Object(a.jsx)("hr",{})]}):"",Object(a.jsxs)(w.a.Group,{className:"mt-3",children:[Object(a.jsx)(w.a.Label,{children:"Description:"}),Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({maxLength:"1000",as:"textarea",rows:"7",name:"description"},Me("description")),{},{defaultValue:""}))]}),Object(a.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})," ",Object(a.jsx)(x.a,{variant:"light",className:"float-right",onClick:ae,children:"Cancel"})]})]})]})})})]})}),Object(a.jsx)(V.a,{className:"mb-3 mt-3 w-100",defaultActiveKey:"0",children:Re}),Object(a.jsx)(u.a,{className:"justify-content-md-center",children:Object(a.jsxs)(P.a,{className:"ml-auto mr-auto",children:[1===K?Object(a.jsx)(P.a.Prev,{disabled:!0}):Object(a.jsx)(P.a.Prev,{onClick:function(){return G(K-1)}}),K<3?"":Object(a.jsx)(P.a.Item,{onClick:function(){return G(1)},active:1===Ye,children:1}),K<4?"":K<5?Object(a.jsx)(P.a.Item,{onClick:function(){return G(2)},active:2===Ye,children:2}):Object(a.jsx)(P.a.Ellipsis,{disabled:!0}),K>1?Object(a.jsx)(P.a.Item,{onClick:function(){return G(K-1)},children:K-1}):"",Object(a.jsx)(P.a.Item,{onClick:function(){return G(K)},active:K===Ye,children:K}),K<Fe?Object(a.jsx)(P.a.Item,{onClick:function(){return G(K+1)},children:K+1}):"",K>Fe-3?"":K===Fe-3?Object(a.jsx)(P.a.Item,{onClick:function(){return G(Fe-1)},active:Fe-1===Ye,children:Fe-1}):Object(a.jsx)(P.a.Ellipsis,{disabled:!0}),K>Fe-2?"":Object(a.jsx)(P.a.Item,{onClick:function(){return G(Fe)},active:Fe===Ye,children:Fe}),K===Fe?Object(a.jsx)(P.a.Next,{disabled:!0}):Object(a.jsx)(P.a.Next,{onClick:function(){return G(K+1)}})]})})]})]})}),Object(a.jsx)(i.b,{path:"".concat(e,"/:memberID"),children:r?Object(a.jsx)(U,{}):Object(a.jsx)(B,{members:re,edit:function(e){return ie(re.map((function(t){return t.id===e.id?Object.assign(t,e):t})))}})})]})}function W(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(M,{}),Object(a.jsx)(G,{})]})}var Q=c(339),Z=c(340);function X(){return Object(a.jsx)(Q.a,{className:"mt-4 align-items-center justify-content-between footer",children:Object(a.jsxs)(Z.a,{children:[Object(a.jsx)(Z.a.Item,{children:Object(a.jsx)(Z.a.Link,{rel:"noreferrer",target:"_blank",href:"https://pluralkit.me/",children:"Pluralkit.me"})}),Object(a.jsx)(Z.a.Item,{children:Object(a.jsx)(Z.a.Link,{rel:"noreferrer",target:"_blank",href:"https://github.com/Spectralitree/pk-webs/",children:"Github"})}),Object(a.jsx)(Z.a.Item,{children:Object(a.jsx)(Z.a.Link,{rel:"noreferrer",target:"_blank",href:"https://ko-fi.com/spectralitree",children:"Ko-fi"})})]})})}function $(e){var t=Object(i.h)().sysID,s=e.member,r=Object(n.useState)(""),l=Object(o.a)(r,2),j=l[0],b=l[1],O=Object(n.useState)(""),g=Object(o.a)(O,2),y=g[0],S=g[1],k=Object(n.useState)(""),w=Object(o.a)(k,2),I=w[0],L=w[1],D=Object(n.useState)(""),A=Object(o.a)(D,2),M=A[0],T=A[1],E=Object(n.useState)(""),P=Object(o.a)(E,2),H=P[0],q=P[1],J=Object(n.useState)(""),B=Object(o.a)(J,2),K=B[0],U=B[1],G=s.proxy_tags,W=Object(n.useState)(!1),Q=Object(o.a)(W,2),Z=Q[0],X=Q[1];function $(){return Object(a.jsxs)(d.a.Body,{style:{borderLeft:"5px solid #".concat(H)},children:[Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",s.id]}),s.display_name?localStorage.getItem("twemoji")?Object(a.jsx)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(v.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Display name: "}),y]})}):Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name:"})," ",y]}):"",s.birthday?Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",I]}):"",s.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(v.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:M}})]})}):Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:M}})]}):"",s.color?Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",H]}):"",Z?"":Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(x.a,{variant:"light",size:"sm",onClick:function(){return X(!0)},children:"View"})]})]}),Z?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(u.a,{className:"mb-2",children:0===G.length?Object(a.jsx)(m.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):G.map((function(e){return Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},e.index)}))}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return X(!1)},children:"Exit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(v.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:K}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:K}}),Object(a.jsx)(u.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)(z.a,{to:"".concat(t,"/").concat(s.id),children:Object(a.jsx)(x.a,{variant:"primary",className:"float-right",children:"View page"})})})})," "]})}return Object(n.useEffect)((function(){p()(document.querySelector("textarea"))})),Object(n.useEffect)((function(){var e=c(40).toHTML;if(s.display_name?S(s.display_name):S(""),s.birthday)if(s.birthday.startsWith("0004-")){var t=_()(s.birthday,"YYYY-MM-DD").format("MMM D");L(t)}else{var a=_()(s.birthday,"YYYY-MM-DD").format("MMM D, YYYY");L(a)}else L("");if(s.avatar_url){var n=s.avatar_url.replace("&format=jpeg","");b(n.replace("?width=256&height=256",""))}else b("");s.pronouns?T(e(s.pronouns)):T(""),s.color?q(s.color):q(""),s.description?U(e(s.description)):U("(no description)")}),[s.description,s.color,s.birthday,s.display_name,s.pronouns,s.avatar_url,s.proxy_tags]),Object(a.jsxs)(R.a,{offset:100,children:[Object(a.jsxs)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[" ",Object(a.jsx)(Y.a,{placement:"left",overlay:Object(a.jsx)(F.a,{children:"Copy link"}),children:Object(a.jsx)(x.a,{variant:"link",onClick:function(){return function(){var e="https://spectralitree.github.io/pk-webs/profile/".concat(t,"/").concat(s.id),c=document.createElement("textarea");c.innerText=e,document.body.appendChild(c),c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(c)}()},children:Object(a.jsx)(C.d,{style:{fontSize:"1.25rem"}})})}),localStorage.getItem("pagesonly")?Object(a.jsx)(z.a,{to:"".concat(t,"/").concat(s.id),children:Object(a.jsxs)(x.a,{variant:"link",children:[" ",Object(a.jsx)("b",{children:s.name})," (",s.id,")"]})}):Object(a.jsxs)(V.a.Toggle,{as:x.a,variant:"link",eventKey:s.id,children:[" ",Object(a.jsx)("b",{children:s.name})," (",s.id,")"]})]}),s.avatar_url?Object(a.jsx)(f.a,{trigger:Object(a.jsx)(h.a,{src:"".concat(s.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)("div",{className:"m-auto",style:{maxWidth:"640px"},children:Object(a.jsx)(h.a,{src:"".concat(j),style:{maxWidth:"100%",height:"auto"},thumbnail:!0})})})}}):Object(a.jsx)(h.a,{src:N,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),localStorage.getItem("expandcards")?$():Object(a.jsx)(V.a.Collapse,{eventKey:s.id,children:$()})]})}function ee(e){var t=Object(i.g)(),s=e.member,r=Object(n.useState)(""),l=Object(o.a)(r,2),j=l[0],b=l[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),S=y[0],k=y[1],w=Object(n.useState)(""),I=Object(o.a)(w,2),L=I[0],D=I[1],A=Object(n.useState)(""),M=Object(o.a)(A,2),T=M[0],E=M[1],P=Object(n.useState)(""),V=Object(o.a)(P,2),H=V[0],R=V[1],q=Object(n.useState)(""),J=Object(o.a)(q,2),B=J[0],K=J[1],U=s.proxy_tags,G=Object(n.useState)(!1),W=Object(o.a)(G,2),Q=W[0],Z=W[1];return Object(n.useEffect)((function(){p()(document.querySelector("textarea"))})),Object(n.useEffect)((function(){var e=c(40).toHTML;if(s.display_name?k(s.display_name):k(""),s.birthday)if(s.birthday.startsWith("0004-")){var t=_()(s.birthday,"YYYY-MM-DD").format("MMM D");D(t)}else{var a=_()(s.birthday,"YYYY-MM-DD").format("MMM D, YYYY");D(a)}else D("");if(s.avatar_url){var n=s.avatar_url.replace("&format=jpeg","");b(n.replace("?width=256&height=256",""))}else b("");s.pronouns?E(e(s.pronouns)):E(""),s.color?R(s.color):R(""),s.description?K(e(s.description)):K("(no description)")}),[s.description,s.color,s.birthday,s.display_name,s.pronouns,s.avatar_url,s.proxy_tags]),Object(a.jsxs)(a.Fragment,{children:[localStorage.getItem("colorbg")?"":s.color?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"backdrop",style:{backgroundColor:"#".concat(H)}}),Object(a.jsx)("div",{className:"backdrop-overlay"})]}):"",Object(a.jsxs)(O.a,{variant:"primary",children:["You are currently ",Object(a.jsx)("b",{children:"viewing"})," a member."]}),Object(a.jsxs)(d.a,{className:"mb-5",children:[Object(a.jsxs)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[" ",Object(a.jsx)(Y.a,{placement:"left",overlay:Object(a.jsx)(F.a,{children:"Copy link"}),children:Object(a.jsx)(x.a,{variant:"link",onClick:function(){return function(){var e="https://spectralitree.github.io".concat(t.pathname),c=document.createElement("textarea");c.innerText=e,document.body.appendChild(c),c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(c)}()},children:Object(a.jsx)(C.d,{style:{fontSize:"1.25rem"}})})}),Object(a.jsxs)(x.a,{variant:"link",children:[Object(a.jsx)("b",{children:s.name})," (",s.id,")"]})]}),s.avatar_url?Object(a.jsx)(f.a,{trigger:Object(a.jsx)(h.a,{src:"".concat(s.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)("div",{className:"m-auto",style:{maxWidth:"640px"},children:Object(a.jsx)(h.a,{src:"".concat(j),style:{maxWidth:"100%",height:"auto"},thumbnail:!0})})})}}):Object(a.jsx)(h.a,{src:N,style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(d.a.Body,{style:{borderLeft:localStorage.getItem("colorbg")?"5px solid #".concat(H):""},children:[Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",s.id]}),s.display_name?localStorage.getItem("twemoji")?Object(a.jsx)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(v.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Display name: "}),S]})}):Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Display name:"})," ",S]}):"",s.birthday?Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Birthday:"})," ",L]}):"",s.pronouns?localStorage.getItem("twemoji")?Object(a.jsx)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:Object(a.jsxs)(v.a,{options:{className:"twemoji"},children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:T}})]})}):Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Pronouns:"})," ",Object(a.jsx)("span",{dangerouslySetInnerHTML:{__html:T}})]}):"",s.color?Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Color:"})," ",H]}):"",Q?"":Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Proxy tags:"})," ",Object(a.jsx)(x.a,{variant:"light",size:"sm",onClick:function(){return Z(!0)},children:"View"})]})]}),Q?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"Viewing proxy tags"}),Object(a.jsx)(u.a,{className:"mb-2",children:0===U.length?Object(a.jsx)(m.a,{className:"mb-lg-2",children:Object(a.jsx)("b",{children:"No proxy tags set."})}):U.map((function(e){return Object(a.jsxs)(m.a,{className:"mb-lg-2",xs:12,lg:2,children:[" ",Object(a.jsxs)("code",{children:[e.prefix,"text",e.suffix]})]},e.index)}))}),Object(a.jsx)(x.a,{variant:"light",onClick:function(){return Z(!1)},children:"Exit"}),Object(a.jsx)("hr",{})]}):"",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(v.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:B}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:B}}),Object(a.jsx)(u.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)(z.a,{to:t.pathname.substring(0,t.pathname.lastIndexOf("/")),children:Object(a.jsx)(x.a,{variant:"primary",className:"float-right",children:"Back"})})})})]})]})]})}function te(e){var t=Object(i.h)().memberID,c=e.members.filter((function(e){return e.id===t})),s=c.map((function(e){return Object(a.jsx)(ee,{member:e},e.id)})),r=0===c.length;return Object(n.useEffect)((function(){c.length}),[c]),r?Object(a.jsxs)(O.a,{variant:"danger",children:["This system does not have a member with the ID '",t,"', or the member's visibility is set to private."]}):Object(a.jsx)(a.Fragment,{children:s})}function ce(){var e=Object(i.i)().path,t=Object(i.h)().sysID,c=Object(n.useState)(!1),s=Object(o.a)(c,2),r=s[0],l=s[1],j=Object(n.useState)(!1),b=Object(o.a)(j,2),h=b[0],g=b[1],p=Object(n.useState)(1),f=Object(o.a)(p,2),y=f[0],v=f[1],N=Object(n.useState)(25),C=Object(o.a)(N,2),k=C[0],I=C[1],_=Object(n.useState)([]),D=Object(o.a)(_,2),A=D[0],M=D[1],T=Object(n.useState)("name"),z=Object(o.a)(T,2),Y=z[0],F=z[1],H=Object(n.useState)("name"),R=Object(o.a)(H,2),q=R[0],J=R[1],B=Object(n.useState)("ascending"),K=Object(o.a)(B,2),G=K[0],W=K[1],Q=Object(n.useState)(""),Z=Object(o.a)(Q,2),X=Z[0],ee=Z[1],ce=Object(n.useCallback)((function(){l(!0),g(!1),I(localStorage.getItem("expandcards")?10:25),fetch("".concat(L,"s/").concat(t,"/members"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){M(e),l(!1)})).catch((function(e){console.log(e),g(!0),l(!1)}))}),[t]);Object(n.useEffect)((function(){ce()}),[ce]);var ae=y*k,ne=ae-k,se=A.map((function(e){return e.display_name?Object(S.a)(Object(S.a)({},e),{},{displayName:e.display_name}):Object(S.a)(Object(S.a)({},e),{},{displayName:e.name})})).map((function(e){return e.description?Object(S.a)(Object(S.a)({},e),{},{desc:e.description}):Object(S.a)(Object(S.a)({},e),{},{desc:"(no description)"})})).filter((function(e){return!X||("name"===Y?!!e.name.toLowerCase().includes(X.toLowerCase()):"display name"===Y?!!e.displayName.toLowerCase().includes(X.toLowerCase()):"description"===Y?!!e.desc.toLowerCase().includes(X.toLowerCase()):"ID"===Y&&!!e.id.toLowerCase().includes(X.toLowerCase()))})),re=y,ie=Math.ceil(se.length/k),le=se;"name"===q?le="descending"===G?se.sort((function(e,t){return e.name.localeCompare(t.name)})).reverse().slice(ne,ae):se.sort((function(e,t){return e.name.localeCompare(t.name)})).slice(ne,ae):"display name"===q?le="descending"===G?se.sort((function(e,t){return e.displayName.localeCompare(t.displayName)})).reverse().slice(ne,ae):se.sort((function(e,t){return e.displayName.localeCompare(t.displayName)})).slice(ne,ae):"ID"===q&&(le="descending"===G?se.sort((function(e,t){return e.id.localeCompare(t.id)})).reverse().slice(ne,ae):se.sort((function(e,t){return e.id.localeCompare(t.id)})).slice(ne,ae));var je=le.map((function(e){return Object(a.jsx)(d.a,{className:localStorage.getItem("expandcards")?"mb-3":"",children:Object(a.jsx)($,{member:e})},e.id)}));return Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:e,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{className:"mb-lg-3 justfiy-content-md-center",children:[Object(a.jsx)(m.a,{xs:12,lg:3,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"Page length:"}),Object(a.jsxs)(w.a.Control,{as:"select",defaultValue:localStorage.getItem("expandcards")?10:25,onChange:function(e){I(e.target.value),v(1)},children:[Object(a.jsx)("option",{children:"10"}),Object(a.jsx)("option",{children:"25"}),Object(a.jsx)("option",{children:"50"}),Object(a.jsx)("option",{children:"100"})]})]})})}),Object(a.jsx)(m.a,{xs:12,lg:3,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"Search by:"}),Object(a.jsxs)(w.a.Control,{as:"select",defaultValue:Y,onChange:function(e){F(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"description"}),Object(a.jsx)("option",{children:"ID"})]})]})})}),Object(a.jsx)(m.a,{xs:12,lg:3,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"Sort by:"}),Object(a.jsxs)(w.a.Control,{as:"select",defaultValue:q,onChange:function(e){J(e.target.value)},children:[Object(a.jsx)("option",{children:"name"}),Object(a.jsx)("option",{children:"display name"}),Object(a.jsx)("option",{children:"ID"})]})]})})}),Object(a.jsx)(m.a,{xs:12,lg:3,children:Object(a.jsx)(w.a,{children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(w.a.Control,{disabled:!0,placeholder:"Sort order:"}),Object(a.jsxs)(w.a.Control,{as:"select",defaultValue:G,onChange:function(e){W(e.target.value)},children:[Object(a.jsx)("option",{children:"ascending"}),Object(a.jsx)("option",{children:"descending"})]})]})})})]}),Object(a.jsxs)(u.a,{className:"justify-content-md-center",children:[Object(a.jsx)(m.a,{className:"mb-3",xs:12,lg:7,children:Object(a.jsx)(w.a,{children:Object(a.jsx)(w.a.Control,{value:X,onChange:function(e){ee(e.target.value),v(1)},placeholder:"Search by ".concat(Y)})})}),Object(a.jsx)(m.a,{className:"mb-3",xs:12,lg:2,children:Object(a.jsx)(x.a,{type:"primary",className:"m-0",block:!0,onClick:function(){return ce()},children:"Refresh"})})]}),Object(a.jsx)(u.a,{className:"justify-content-md-center",children:Object(a.jsxs)(P.a,{className:"ml-auto mr-auto",children:[1===y?Object(a.jsx)(P.a.Prev,{disabled:!0}):Object(a.jsx)(P.a.Prev,{onClick:function(){return v(y-1)}}),y<3?"":Object(a.jsx)(P.a.Item,{onClick:function(){return v(1)},active:1===re,children:1}),y<4?"":y<5?Object(a.jsx)(P.a.Item,{onClick:function(){return v(2)},active:2===re,children:2}):Object(a.jsx)(P.a.Ellipsis,{disabled:!0}),y>1?Object(a.jsx)(P.a.Item,{onClick:function(){return v(y-1)},children:y-1}):"",Object(a.jsx)(P.a.Item,{onClick:function(){return v(y)},active:y===re,children:y}),y<ie?Object(a.jsx)(P.a.Item,{onClick:function(){return v(y+1)},children:y+1}):"",y>ie-3?"":y===ie-3?Object(a.jsx)(P.a.Item,{onClick:function(){return v(ie-1)},active:ie-1===re,children:ie-1}):Object(a.jsx)(P.a.Ellipsis,{disabled:!0}),y>ie-2?"":Object(a.jsx)(P.a.Item,{onClick:function(){return v(ie)},active:ie===re,children:ie}),y===ie?Object(a.jsx)(P.a.Next,{disabled:!0}):Object(a.jsx)(P.a.Next,{onClick:function(){return v(y+1)}})]})}),r?Object(a.jsx)(U,{}):h?Object(a.jsx)(O.a,{variant:"danger",children:"Error fetching members."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(V.a,{className:"mb-3 mt-3 w-100",defaultActiveKey:"0",children:je}),Object(a.jsx)(u.a,{className:"justify-content-md-center",children:Object(a.jsxs)(P.a,{className:"ml-auto mr-auto",children:[1===y?Object(a.jsx)(P.a.Prev,{disabled:!0}):Object(a.jsx)(P.a.Prev,{onClick:function(){return v(y-1)}}),y<3?"":Object(a.jsx)(P.a.Item,{onClick:function(){return v(1)},active:1===re,children:1}),y<4?"":y<5?Object(a.jsx)(P.a.Item,{onClick:function(){return v(2)},active:2===re,children:2}):Object(a.jsx)(P.a.Ellipsis,{disabled:!0}),y>1?Object(a.jsx)(P.a.Item,{onClick:function(){return v(y-1)},children:y-1}):"",Object(a.jsx)(P.a.Item,{onClick:function(){return v(y)},active:y===re,children:y}),y<ie?Object(a.jsx)(P.a.Item,{onClick:function(){return v(y+1)},children:y+1}):"",y>ie-3?"":y===ie-3?Object(a.jsx)(P.a.Item,{onClick:function(){return v(ie-1)},active:ie-1===re,children:ie-1}):Object(a.jsx)(P.a.Ellipsis,{disabled:!0}),y>ie-2?"":Object(a.jsx)(P.a.Item,{onClick:function(){return v(ie)},active:ie===re,children:ie}),y===ie?Object(a.jsx)(P.a.Next,{disabled:!0}):Object(a.jsx)(P.a.Next,{onClick:function(){return v(y+1)}})]})})]})]})}),Object(a.jsx)(i.b,{path:"/pk-webs/profile/".concat(t,"/:memberID"),children:r?Object(a.jsx)(U,{}):Object(a.jsx)(te,{members:A})})]})}function ae(){var e=Object(i.i)("/pk-webs/profile/:sysID/:memberID"),t=Object(i.h)().sysID,s=Object(n.useState)(""),r=Object(o.a)(s,2),l=r[0],j=r[1],b=Object(n.useState)(""),x=Object(o.a)(b,2),g=x[0],p=x[1],y=Object(n.useState)(""),S=Object(o.a)(y,2),k=S[0],w=S[1],I=Object(n.useState)(""),_=Object(o.a)(I,2),D=_[0],A=_[1],M=Object(n.useState)(""),T=Object(o.a)(M,2),E=T[0],P=T[1],V=Object(n.useState)(""),z=Object(o.a)(V,2),Y=z[0],F=z[1],H=Object(n.useState)(!0),R=Object(o.a)(H,2),q=R[0],J=R[1],B=Object(n.useState)(!1),K=Object(o.a)(B,2),G=K[0],W=K[1];return Object(n.useEffect)((function(){fetch("".concat(L,"s/").concat(t),{method:"GET"}).then((function(e){return e.json()})).then((function(e){j(e),J(!1)})).catch((function(e){console.log(e),W(!0),J(!1)}))}),[t]),Object(n.useEffect)((function(){var e=c(40).toHTML;if(l.name?p(l.name):p(""),l.avatar_url){var t=l.avatar_url.replace("&format=jpeg","");F(t.replace("?width=256&height=256",""))}else F("");l.tag?w(l.tag):w(""),l.tz?A(l.tz):A(""),l.description?P(e(l.description)):P("(no description)")}),[l.description,l.tag,l.avatar_url,l.tz,l.name]),e?Object(a.jsx)(ce,{sysID:t}):Object(a.jsx)(a.Fragment,{children:q?Object(a.jsx)(U,{}):G?Object(a.jsx)(O.a,{variant:"danger",children:"Something went wrong, either the system doesn't exist, or there was an error fetching data."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(O.a,{variant:"primary",children:["You are currently ",Object(a.jsx)("b",{children:"viewing"})," a system."]}),Object(a.jsxs)(d.a,{className:"mb-3 mt-3 w-100",children:[Object(a.jsxs)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)(d.a.Title,{className:"float-left",children:[Object(a.jsx)(C.a,{className:"mr-4 float-left"})," ",g," (",l.id,")"]}),l.avatar_url?Object(a.jsx)(f.a,{trigger:Object(a.jsx)(h.a,{src:"".concat(l.avatar_url),style:{width:50,height:50},tabIndex:"0",className:"float-right",roundedCircle:!0}),className:"avatar",modal:!0,children:function(e){return Object(a.jsx)("div",{className:"text-center w-100 m-0",onClick:function(){return e()},children:Object(a.jsx)(h.a,{src:"".concat(Y),style:{"max-width":640,height:"auto"},thumbnail:!0})})}}):Object(a.jsx)(h.a,{src:N,style:{width:50,height:50},className:"float-right",roundedCircle:!0})]}),Object(a.jsxs)(d.a.Body,{children:[Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"ID:"})," ",l.id]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Tag:"})," ",k]}),Object(a.jsxs)(m.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(a.jsx)("b",{children:"Timezone:"})," ",D]})]}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Description:"})}),localStorage.getItem("twemoji")?Object(a.jsx)(v.a,{options:{className:"twemoji"},children:Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:E}})}):Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:E}})]})]}),Object(a.jsx)(ce,{sysID:t})," "]})})}function ne(){var e=Object(i.i)(),t=e.path,c=e.url,n=Object(k.a)(),s=n.register,r=n.handleSubmit;return Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:t,children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(d.a.Header,{children:Object(a.jsxs)(d.a.Title,{children:[Object(a.jsx)(C.i,{className:"mr-3"}),"Profile"]})}),Object(a.jsx)(d.a.Body,{children:Object(a.jsxs)(w.a,{onSubmit:r((function(e){j.push("".concat(c,"/").concat(e.sysID))})),children:[Object(a.jsx)(w.a.Label,{children:"Submit a system ID to view to that system's profile."}),Object(a.jsxs)(w.a.Row,{children:[Object(a.jsx)(m.a,{className:"mb-1",xs:12,lg:10,children:Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({name:"sysID"},s("sysID")),{},{defaultValue:""}))}),Object(a.jsx)(m.a,{children:Object(a.jsx)(x.a,{variant:"primary",type:"submit",block:!0,children:"Submit"})})]})]})})]})}),Object(a.jsx)(i.b,{path:"".concat(t,"/:sysID"),children:Object(a.jsx)(ae,{})})]})}var se=c(75),re=function(e){var t=e.isInvalid,c=e.setIsInvalid,s=e.isLoading,r=e.setIsLoading,i=e.isSubmit,l=e.setIsSubmit,o=Object(k.a)(),b=o.register,h=o.handleSubmit;return Object(n.useEffect)((function(){localStorage.getItem("token")&&(c(!1),r(!0),se("".concat(L,"s/"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("user",JSON.stringify(e)),l(!0),r(!1)})).catch((function(e){console.log(e),c(!0),localStorage.removeItem("token"),localStorage.removeItem("user"),r(!1)})))}),[]),Object(a.jsxs)(a.Fragment,{children:[s?Object(a.jsx)(U,{}):Object(a.jsxs)(d.a,{className:"mb-3 mt-3",children:[Object(a.jsx)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(d.a.Title,{children:[Object(a.jsx)(C.f,{className:"mr-3"}),"Login"]})}),Object(a.jsxs)(d.a.Body,{children:[i&&!localStorage.getItem("user")?Object(a.jsx)(O.a,{variant:"danger",children:"Something went wrong, please try again."}):"",t?Object(a.jsx)(O.a,{variant:"danger",children:"Invalid token."}):"",localStorage.getItem("user")&&localStorage.getItem("token")?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"You are logged in already, click here to continue to the dash."}),Object(a.jsx)(x.a,{type:"primary",onClick:function(){return j.push("/pk-webs/dash")},children:"Continue to dash"})]}):Object(a.jsxs)(w.a,{onSubmit:h((function(e){localStorage.setItem("token",e.pkToken),c(!1),r(!0),se("".concat(L,"s/"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("user",JSON.stringify(e)),l(!0),r(!1),j.push("/pk-webs/dash")})).catch((function(e){console.log(e),c(!0),localStorage.removeItem("token"),localStorage.removeItem("user"),r(!1)}))})),children:[Object(a.jsx)(w.a.Row,{children:Object(a.jsx)(m.a,{className:"mb-1",xs:12,lg:10,children:Object(a.jsxs)(w.a.Label,{children:["Enter your token here. You can get your token by using"," ",Object(a.jsx)("b",{children:'"pk;token"'}),"."]})})}),Object(a.jsxs)(w.a.Row,{children:[Object(a.jsx)(m.a,{xs:12,lg:10,children:Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({required:!0,name:"pkToken",type:"text"},b("pkToken")),{},{placeholder:"token"}))}),Object(a.jsx)(m.a,{children:Object(a.jsx)(x.a,{variant:"primary",type:"submit",block:!0,children:"Submit"})})]})]})]})]}),Object(a.jsxs)(d.a,{children:[Object(a.jsx)(d.a.Header,{children:Object(a.jsxs)(d.a.Title,{children:[Object(a.jsx)(C.c,{className:"mr-3"}),"Welcome!"]})}),Object(a.jsxs)(d.a.Body,{children:[Object(a.jsx)("p",{children:"Pk-webs is a web interface for PluralKit, it lets you edit your system and members using PluralKit's API, without having to use commands on discord."}),Object(a.jsx)("blockquote",{children:Object(a.jsxs)("p",{children:["This website is an ongoing project and will be sporadically updated. If you have any issues or questions, join ",Object(a.jsx)("a",{href:"https://discord.gg/PczBt78",children:"PluralKit's support server"})," and ping us (PALS#1612). Since this project is unofficial, the actual pluralkit devs will not be able to help you with everything."]})}),Object(a.jsx)("hr",{}),Object(a.jsx)("h5",{children:"FAQ:"}),"Will groups be added to this website?",Object(a.jsx)("blockquote",{children:"In the future, yes! Groups are not in the API as of now, which is what this site depends on. When APIv2 comes out, they will eventually be added here too."}),"Will switch history/editing switches be added to this website?",Object(a.jsx)("blockquote",{children:"Probably when APIv2 comes out, right now the API is very limited in how it can handle switches. And we'd rather add everything in one go."}),"What about bulk editing?",Object(a.jsx)("blockquote",{children:"Probably not. Bulk commands are planned for the main bot, and we're not sure how to fit them into the main site at the moment."}),"Can you add [other feature]?",Object(a.jsx)("blockquote",{children:"Depends on the feature. Ping us in the support server and we'll let you know if it's feasible or not. If it's accessibility related, chances are good that we'll add it."}),"Can i contribute to this?",Object(a.jsxs)("blockquote",{children:["Yeah sure! The code is open source on ",Object(a.jsx)("a",{href:"https://github.com/Spectralitree/pk-webs/",children:"github"}),". Be warned though that we're currently in the middle of cleaning it all up and adding comments to everything, so some sections are quite messy still."]})]})]})]})},ie=c(27),le=c.n(ie),je=function(e){var t=e.forceUpdate;return Object(a.jsxs)(d.a,{children:[Object(a.jsx)(d.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(a.jsxs)(d.a.Title,{children:[Object(a.jsx)(C.b,{className:"mr-3"}),"Settings"]})}),Object(a.jsxs)(d.a.Body,{children:[Object(a.jsx)("p",{children:"Change how you view and use pk-webs here, changes will be saved after refreshing. You will have to apply them again in different browsers and on different devices."}),Object(a.jsx)("hr",{}),Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(m.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("opendyslexic")?Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("opendyslexic"),t()}}):Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("opendyslexic","true"),t()}}),"Use opendyslexic?"]}),Object(a.jsxs)(m.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("twemoji")?Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("twemoji"),t()}}):Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("twemoji","true"),t()}}),"Use twemoji?"]}),Object(a.jsxs)(m.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("pagesonly")?Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("pagesonly"),t()}}):Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("pagesonly","true"),t()}}),"Use only member pages?"]}),Object(a.jsxs)(m.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("colorbg")?Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("colorbg"),t()}}):Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("colorbg","false"),t()}}),"Hide colored backgrounds?"]}),Object(a.jsxs)(m.a,{xs:12,lg:4,className:"mx-1 mb-4 d-flex align-items-center row",children:[localStorage.getItem("expandcards")?Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!0,icons:!1,onChange:function(){localStorage.removeItem("expandcards"),t()}}):Object(a.jsx)(le.a,{className:"mr-2",defaultChecked:!1,icons:!1,onChange:function(){localStorage.setItem("expandcards","true"),t()}}),"Expand member cards on default?"]})]})]})]})},oe=c(336),be=c(86),de=function(e){var t=e.setIsSubmit,c=e.forceUpdate,n=Object(be.a)(!1);return Object(a.jsxs)(Q.a,{className:"mb-5 align-items-center",children:[Object(a.jsx)(Q.a.Brand,{href:"/pk-webs",children:"pk-webs"}),Object(a.jsxs)(oe.a,{id:"menu",className:"mr-auto",title:"Menu",children:[Object(a.jsx)(oe.a.Item,{onClick:function(){return j.push("/pk-webs/dash")},children:"Dash"}),Object(a.jsx)(oe.a.Item,{onClick:function(){return j.push("/pk-webs/settings")},children:"Settings"}),Object(a.jsx)(oe.a.Item,{onClick:function(){return j.push("/pk-webs/profile")},children:"Public profile"}),localStorage.getItem("token")?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("hr",{className:"my-1"}),Object(a.jsx)(oe.a.Item,{onClick:function(){return t(!1),localStorage.removeItem("token"),localStorage.removeItem("user"),j.push("/pk-webs"),void c()},children:"Log out"})]}):""]}),Object(a.jsxs)(Z.a,{className:"mr-2 d-flex align-items-center row",children:[Object(a.jsx)(le.a,{defaultChecked:!0,icons:!1,onChange:n.toggle}),n.value?Object(a.jsx)(C.g,{className:"m-1"}):Object(a.jsx)(C.j,{className:"m-1"})]})]})};function he(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(o.a)(r,2),d=l[0],h=l[1],O=Object(n.useState)(!1),u=Object(o.a)(O,2),m=u[0],x=u[1],g=Object(n.useState)(),p=Object(o.a)(g,2)[1],f=Object(n.useCallback)((function(){return p({})}),[]);return Object(a.jsx)("div",{className:"contents ".concat(localStorage.getItem("opendyslexic")?"opendyslexic":""),children:Object(a.jsxs)(i.c,{history:j,basename:"/pk-webs",children:[Object(a.jsx)(de,{forceUpdate:f,setIsSubmit:h}),Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(b.a,{children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{path:"/pk-webs/dash",children:!localStorage.getItem("token")||m?Object(a.jsx)(i.a,{to:"/pk-webs"}):Object(a.jsx)(W,{})}),Object(a.jsx)(i.b,{exact:!0,path:"/pk-webs",children:Object(a.jsx)(re,{isLoading:c,setIsLoading:s,isSubmit:d,setIsSubmit:h,isInvalid:m,setIsInvalid:x})}),Object(a.jsx)(i.b,{path:"/pk-webs/profile",children:Object(a.jsx)(ne,{})}),Object(a.jsx)(i.b,{path:"/pk-webs/settings",children:Object(a.jsx)(je,{forceUpdate:f})})]})})}),Object(a.jsx)(X,{})]})})}r.a.render(Object(a.jsx)(i.c,{history:j,basename:"/pk-webs",children:Object(a.jsx)(he,{})}),document.getElementById("root"))},40:function(e,t,c){var a=c(107),n=c(108);function s(e,t,c){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"object"===typeof n&&(s=n,n=!0),c||(c={}),c.class&&s.cssModuleNames&&(c.class=c.class.split(" ").map((function(e){return s.cssModuleNames[e]||e})).join(" "));var r="";for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&(r+=" ".concat(a.sanitizeText(i),'="').concat(a.sanitizeText(c[i]),'"'));var l="<".concat(e).concat(r,">");return n?l+t+"</".concat(e,">"):l}a.htmlTag=s;var r={blockQuote:Object.assign({},a.defaultRules.blockQuote,{match:function(e,t,c){return!/^$|\n *$/.test(c)||t.inQuote?null:/^( *>>> ([\s\S]*))|^( *> [^\n]*(\n *> [^\n]*)*\n?)/.exec(e)},parse:function(e,t,c){var a=e[0],n=Boolean(/^ *>>> ?/.exec(a))?/^ *>>> ?/:/^ *> ?/gm;return{content:t(a.replace(n,""),Object.assign({},c,{inQuote:!0})),type:"blockQuote"}}}),codeBlock:Object.assign({},a.defaultRules.codeBlock,{match:a.inlineRegex(/^```(([a-z0-9-]+?)\n+)?\n*([^]+?)\n*```/i),parse:function(e,t,c){return{lang:(e[2]||"").trim(),content:e[3]||"",inQuote:c.inQuote||!1}},html:function(e,t,c){var r;return e.lang&&n.getLanguage(e.lang)&&(r=n.highlight(e.lang,e.content,!0)),r&&c.cssModuleNames&&(r.value=r.value.replace(/<span class="([a-z0-9-_ ]+)">/gi,(function(e,t){return e.replace(t,t.split(" ").map((function(e){return c.cssModuleNames[e]||e})).join(" "))}))),s("pre",s("code",r?r.value:a.sanitizeText(e.content),{class:"hljs".concat(r?" "+r.language:"")},c),null,c)}}),newline:a.defaultRules.newline,escape:a.defaultRules.escape,autolink:Object.assign({},a.defaultRules.autolink,{parse:function(e){return{content:[{type:"text",content:e[1]}],target:e[1]}},html:function(e,t,c){return s("a",t(e.content,c),{href:a.sanitizeUrl(e.target)},c)}}),url:Object.assign({},a.defaultRules.url,{parse:function(e){return{content:[{type:"text",content:e[1]}],target:e[1]}},html:function(e,t,c){return s("a",t(e.content,c),{href:a.sanitizeUrl(e.target)},c)}}),em:Object.assign({},a.defaultRules.em,{parse:function(e,t,c){var n=a.defaultRules.em.parse(e,t,Object.assign({},c,{inEmphasis:!0}));return c.inEmphasis?n.content:n}}),strong:a.defaultRules.strong,u:a.defaultRules.u,strike:Object.assign({},a.defaultRules.del,{match:a.inlineRegex(/^~~([\s\S]+?)~~(?!_)/)}),inlineCode:Object.assign({},a.defaultRules.inlineCode,{match:function(e){return a.defaultRules.inlineCode.match.regex.exec(e)},html:function(e,t,c){return s("code",a.sanitizeText(e.content.trim()),null,c)}}),text:Object.assign({},a.defaultRules.text,{match:function(e){return/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e)},html:function(e,t,c){return c.escapeHTML?a.sanitizeText(e.content):e.content}}),emoticon:{order:a.defaultRules.text.order,match:function(e){return/^(\xaf\\_\(\u30c4\)_\/\xaf)/.exec(e)},parse:function(e){return{type:"text",content:e[1]}},html:function(e,t,c){return t(e.content,c)}},br:Object.assign({},a.defaultRules.br,{match:a.anyScopeRegex(/^\n/)}),spoiler:{order:0,match:function(e){return/^\|\|([\s\S]+?)\|\|/.exec(e)},parse:function(e,t,c){return{content:t(e[1],c)}},html:function(e,t,c){return s("a",t(e.content,c),{class:"d-spoiler"},c)}},link:Object.assign({},a.defaultRules.link,{html:function(e,t,c){return s("a",t(e.content,c),{href:a.sanitizeUrl(e.target),rel:"noreferrer",target:"_blank"},c)}})},i={user:function(e){return"@"+a.sanitizeText(e.id)},channel:function(e){return"#"+a.sanitizeText(e.id)},role:function(e){return"&"+a.sanitizeText(e.id)},everyone:function(){return"@everyone"},here:function(){return"@here"}},l={discordUser:{order:a.defaultRules.strong.order,match:function(e){return/^<@!?([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,c){return s("span",c.discordCallback.user(e),{class:"d-mention d-user"},c)}},discordChannel:{order:a.defaultRules.strong.order,match:function(e){return/^<#?([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,c){return s("span",c.discordCallback.channel(e),{class:"d-mention d-channel"},c)}},discordRole:{order:a.defaultRules.strong.order,match:function(e){return/^<@&([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,c){return s("span",c.discordCallback.role(e),{class:"d-mention d-role"},c)}},discordEmoji:{order:a.defaultRules.strong.order,match:function(e){return/^<(a?):(\w+):(\d+)>/.exec(e)},parse:function(e){return{animated:"a"===e[1],name:e[2],id:e[3]}},html:function(e,t,c){return s("img","",{class:"d-emoji".concat(e.animated?" d-emoji-animated":""),src:"https://cdn.discordapp.com/emojis/".concat(e.id,".").concat(e.animated?"gif":"png"),alt:":".concat(e.name,":")},!1,c)}},discordEveryone:{order:a.defaultRules.strong.order,match:function(e){return/^@everyone/.exec(e)},parse:function(){return{}},html:function(e,t,c){return s("span",c.discordCallback.everyone(e),{class:"d-mention d-user"},c)}},discordHere:{order:a.defaultRules.strong.order,match:function(e){return/^@here/.exec(e)},parse:function(){return{}},html:function(e,t,c){return s("span",c.discordCallback.here(e),{class:"d-mention d-user"},c)}}};Object.assign(r,l);var j=Object.assign({},l,{text:Object.assign({},a.defaultRules.text,{match:function(e){return/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e)},html:function(e,t,c){return c.escapeHTML?a.sanitizeText(e.content):e.content}})}),o=Object.assign({},r,{link:a.defaultRules.link}),b=a.parserFor(r),d=a.htmlFor(a.ruleOutput(r,"html")),h=a.parserFor(j),O=a.htmlFor(a.ruleOutput(j,"html")),u=a.parserFor(o),m=a.htmlFor(a.ruleOutput(o,"html"));e.exports={parser:function(e){return b(e,{inline:!0})},htmlOutput:d,toHTML:function(e,t,c,a){if((c||a)&&(!c||!a))throw new Error("You must pass both a custom parser and custom htmlOutput function, not just one");t=Object.assign({embed:!1,escapeHTML:!0,discordOnly:!1,discordCallback:{}},t||{});var n=b,s=d;c?(n=c,s=a):t.discordOnly?(n=h,s=O):t.embed&&(n=u,s=m);var r={inline:!0,inQuote:!1,inEmphasis:!1,escapeHTML:t.escapeHTML,cssModuleNames:t.cssModuleNames||null,discordCallback:Object.assign({},i,t.discordCallback)};return s(n(e,r),r)},rules:r,rulesDiscordOnly:j,rulesEmbed:o,markdownEngine:a,htmlTag:s}},93:function(e,t,c){},94:function(e,t,c){}},[[324,1,2]]]);
//# sourceMappingURL=main.d4cb9a8b.chunk.js.map