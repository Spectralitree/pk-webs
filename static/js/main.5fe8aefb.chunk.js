(this["webpackJsonppk-web"]=this["webpackJsonppk-web"]||[]).push([[0],{291:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n(26),r=n.n(s),i=n(298),l=n(16),o=Object(l.a)(),j=(n(64),n(6)),b=n(296),u=n(304),d=n(299),h=n(303),O=n(53),m=n(294),x=n(8),g=n(50),p=(n(66),n(67),n(18)),f=n(15),v=n(293),y=n(295),S=n(33),N=n.n(S),A=n(22),C=n.n(A),k=(n(69),"https://api.pluralkit.me/v1/"),L="data:image/png;base64,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";function w(e){var t=Object(x.b)(),s=t.register,r=t.handleSubmit,i=t.control,l=Object(a.useState)(JSON.parse(localStorage.getItem("user"))),o=Object(j.a)(l,2),b=o[0],g=o[1],S=Object(a.useState)(""),A=Object(j.a)(S,2),w=A[0],z=A[1],M=Object(a.useState)(""),T=Object(j.a)(M,2),D=T[0],I=T[1],q=Object(a.useState)(""),R=Object(j.a)(q,2),E=R[0],P=R[1],J=Object(a.useState)(""),K=Object(j.a)(J,2),F=K[0],V=K[1],G=Object(a.useState)(""),U=Object(j.a)(G,2),B=U[0],Q=U[1],H=Object(a.useState)(!1),Z=Object(j.a)(H,2),W=Z[0],Y=Z[1],_=Object(a.useState)(!1),X=Object(j.a)(_,2),$=X[0],ee=X[1],te=Object(a.useState)(!1),ne=Object(j.a)(te,2),ce=ne[0],ae=ne[1],se=Object(a.useState)(!1),re=Object(j.a)(se,2),ie=re[0],le=re[1],oe=Object(a.useState)(!1),je=Object(j.a)(oe,2),be=je[0],ue=je[1];Object(a.useEffect)((function(){var e=n(46).toHTML;b.tag?z(b.tag):z(""),b.tz?I(b.tz):I(""),b.avatar_url?P(b.avatar_url):P(""),b.description?(V(e(b.description)),Q(b.description)):(V("(no description)"),Q(""))}),[b.description,b.tag,b.avatar_url,b.tz]),Object(a.useEffect)((function(){N()(document.querySelector("textarea"))}));return Object(c.jsxs)(u.a,{className:"mb-3 mt-3 w-100",children:[Object(c.jsxs)(u.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(c.jsxs)(u.a.Title,{className:"float-left",children:[Object(c.jsx)(p.a,{className:"mr-3"})," ",b.name]}),b.avatar_url?Object(c.jsx)(v.a,{src:"".concat(b.avatar_url),style:{width:50,height:50},className:"float-right",roundedCircle:!0}):Object(c.jsx)(v.a,{src:L,style:{width:50,height:50},className:"float-right",roundedCircle:!0})]}),Object(c.jsxs)(u.a.Body,{children:[be?Object(c.jsx)(h.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",W?Object(c.jsxs)(d.a,{onSubmit:r((function(e){!e.tz||C.a.tz.zone(e.tz)?fetch("".concat(k,"s"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){g((function(t){return Object(f.a)(Object(f.a)({},t),e)})),localStorage.setItem("user",JSON.stringify(b)),Y(!1)})).catch((function(e){console.error(e),ue(!0)})):le(!0)})),children:[Object(c.jsxs)(d.a.Row,{children:[Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Name:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{}),name:"name",control:i,defaultValue:b.name})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Tag:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{}),name:"y",control:i,defaultValue:w})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Timezone:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{}),name:"tz",control:i,defaultValue:D}),ie?Object(c.jsxs)(d.a.Text,{children:["Please enter a valid ",Object(c.jsx)("a",{href:"https://xske.github.io/tz/",rel:"noreferrer",target:"_blank",children:"timezone"})]}):""]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Avatar url:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{}),name:"avatar_url",control:i,defaultValue:E})]})]}),Object(c.jsxs)(d.a.Group,{className:"mt-3",children:[Object(c.jsx)(d.a.Label,{children:"Description:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{maxLength:"1000",as:"textarea"}),name:"description",control:i,defaultValue:B})]}),Object(c.jsx)(m.a,{variant:"light",onClick:function(){return Y(!1)},children:"Cancel"}),"  ",Object(c.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(y.a,{children:[Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"ID:"})," ",b.id]}),Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Tag:"})," ",w]}),Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Timezone:"})," ",D]}),ce?"":Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Privacy:"})," ",Object(c.jsx)(m.a,{variant:"light",size:"sm",onClick:function(){return ae(!0)},children:"View"})]})]}),$?Object(c.jsxs)(d.a,{onSubmit:r((function(e){fetch("".concat(k,"s"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){g((function(t){return Object(f.a)(Object(f.a)({},t),e)})),localStorage.setItem("user",JSON.stringify(b)),ee(!1)})).catch((function(e){console.error(e),ue(!0)}))})),children:[Object(c.jsx)("hr",{}),Object(c.jsx)("h5",{children:"Editing privacy settings"}),Object(c.jsxs)(d.a.Row,{children:[Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Description:"}),Object(c.jsxs)(d.a.Control,{name:"description_privacy",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Member list:"}),Object(c.jsxs)(d.a.Control,{name:"member_list_privacy",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Front:"}),Object(c.jsxs)(d.a.Control,{name:"front_privacy",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Front history:"}),Object(c.jsxs)(d.a.Control,{name:"front_history_privacy",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]})]}),Object(c.jsx)(m.a,{variant:"light",onClick:function(){return ee(!1)},children:"Cancel"})," ",Object(c.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"}),Object(c.jsx)("hr",{})]}):ce?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("hr",{}),Object(c.jsx)("h5",{children:"Viewing privacy settings"}),Object(c.jsxs)(y.a,{children:[Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Description:"})," ",b.description_privacy]}),Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Member list: "}),b.member_list_privacy]}),Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Front:"})," ",b.front_privacy]}),Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Front history:"})," ",b.front_history_privacy]})]}),Object(c.jsx)(m.a,{variant:"light",onClick:function(){return ae(!1)},children:"Exit"}),"  ",Object(c.jsx)(m.a,{variant:"primary",onClick:function(){return ee(!0)},children:"Edit"}),Object(c.jsx)("hr",{})]}):"",Object(c.jsx)("p",{children:Object(c.jsx)("b",{children:"Description:"})}),Object(c.jsx)("p",{dangerouslySetInnerHTML:{__html:F}}),$||ce?"":Object(c.jsx)(m.a,{variant:"light",onClick:function(){return Y(!0)},children:"Edit"})]})]})]})}var z=n(301);function M(e){var t=Object(x.b)(),s=t.register,r=t.handleSubmit,i=t.control,l=Object(a.useState)(e.member),o=Object(j.a)(l,2),b=o[0],g=o[1],S=Object(a.useState)(""),A=Object(j.a)(S,2),w=A[0],M=A[1],T=Object(a.useState)(""),D=Object(j.a)(T,2),I=D[0],q=D[1],R=Object(a.useState)(""),E=Object(j.a)(R,2),P=E[0],J=E[1],K=Object(a.useState)(""),F=Object(j.a)(K,2),V=F[0],G=F[1],U=Object(a.useState)(""),B=Object(j.a)(U,2),Q=B[0],H=B[1],Z=Object(a.useState)(""),W=Object(j.a)(Z,2),Y=W[0],_=W[1],X=Object(a.useState)(""),$=Object(j.a)(X,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ce=Object(j.a)(ne,2),ae=ce[0],se=ce[1],re=Object(a.useState)(!1),ie=Object(j.a)(re,2),le=ie[0],oe=ie[1],je=Object(a.useState)(!1),be=Object(j.a)(je,2),ue=be[0],de=be[1],he=Object(a.useState)(!1),Oe=Object(j.a)(he,2),me=Oe[0],xe=Oe[1],ge=Object(a.useState)(!1),pe=Object(j.a)(ge,2),fe=pe[0],ve=pe[1];Object(a.useEffect)((function(){var e=n(46).toHTML;if(b.display_name?M(b.display_name):M(""),b.birthday)if(J(b.birthday),b.birthday.startsWith("0004-")){var t=b.birthday.replace("0004-",""),c=C()(t,"MM-DD").format("MMM D");q(c)}else{var a=C()(b.birthday,"YYYY-MM-DD").format("MMM D, YYYY");q(a)}else q(""),J("");b.pronouns?G(b.pronouns):G(""),b.avatar_url?H(b.avatar_url):H(""),b.color?_(b.color):_(""),b.description?(te(e(b.description)),se(b.description)):(te("(no description)"),se(""))}),[b.description,b.color,b.birthday,b.display_name,b.pronouns,b.avatar_url]),Object(a.useEffect)((function(){N()(document.querySelector("textarea"))}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(u.a.Header,{className:"d-flex align-items-center justify-content-between",children:[Object(c.jsxs)(z.a.Toggle,{as:m.a,variant:"link",eventKey:b.id,className:"float-left",children:[Object(c.jsx)(p.e,{className:"mr-4"})," ",Object(c.jsx)("b",{children:b.name})," (",b.id,")"]}),b.avatar_url?Object(c.jsx)(v.a,{src:"".concat(b.avatar_url),style:{width:50,height:50},className:"float-right",roundedCircle:!0}):Object(c.jsx)(v.a,{src:L,style:{width:50,height:50},className:"float-right",roundedCircle:!0})]}),Object(c.jsx)(z.a.Collapse,{eventKey:b.id,children:Object(c.jsxs)(u.a.Body,{style:{borderLeft:"5px solid #".concat(Y)},children:[fe?Object(c.jsx)(h.a,{variant:"danger",children:"Something went wrong, please try logging in and out again."}):"",le?Object(c.jsxs)(d.a,{onSubmit:r((function(e){fetch("".concat(k,"m/").concat(b.id),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){g((function(t){return Object(f.a)(Object(f.a)({},t),e)})),oe(!1)})).catch((function(e){console.error(e),ve(!0)}))})),children:[Object(c.jsxs)(d.a.Row,{children:[Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Name:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{}),name:"name",control:i,defaultValue:b.name})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"AKA: "}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{}),name:"display_name",control:i,defaultValue:w})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Birthday:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{pattern:"^\\d{4}\\-(0[1-9]|1[012])\\-(0[1-9]|[12][0-9]|3[01])$"}),name:"birthday",control:i,defaultValue:P}),Object(c.jsx)(d.a.Text,{children:"(YYYY-MM-DD)"})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Pronouns:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{}),name:"pronouns",control:i,defaultValue:V})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Avatar url:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{type:"url"}),name:"avatar_url",control:i,defaultValue:Q})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Color:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{pattern:"[A-Fa-f0-9]{6}"}),name:"color",control:i,defaultValue:Y}),Object(c.jsx)(d.a.Text,{children:"(hexcode)"})]})]}),Object(c.jsxs)(d.a.Group,{className:"mt-3",children:[Object(c.jsx)(d.a.Label,{children:"Description:"}),Object(c.jsx)(x.a,{as:Object(c.jsx)(d.a.Control,{maxLength:"1000",as:"textarea"}),name:"description",control:i,defaultValue:ae})]}),Object(c.jsx)(m.a,{variant:"light",onClick:function(){return oe(!1)},children:"Cancel"}),"  ",Object(c.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(y.a,{children:[Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"ID:"})," ",b.id]}),b.display_name?Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"AKA: "}),w]}):"",b.birthday?Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Birthday:"})," ",I]}):"",b.pronouns?Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Pronouns:"})," ",V]}):"",b.color?Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Color:"})," ",Y]}):"",me?"":Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Privacy:"})," ",Object(c.jsx)(m.a,{variant:"light",size:"sm",onClick:function(){return xe(!0)},children:"View"})]})]}),ue?Object(c.jsxs)(d.a,{onSubmit:r((function(e){fetch("".concat(k,"m/").concat(b.id),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){g((function(t){return Object(f.a)(Object(f.a)({},t),e)})),de(!1)})).catch((function(e){console.error(e),ve(!0)}))})),children:[Object(c.jsx)("hr",{}),Object(c.jsx)("h5",{children:"Editing privacy settings"}),Object(c.jsxs)(d.a.Row,{children:[Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Visibility:"}),Object(c.jsxs)(d.a.Control,{name:"visibility",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Name:"}),Object(c.jsxs)(d.a.Control,{name:"name_privacy",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Description:"}),Object(c.jsxs)(d.a.Control,{name:"description_privacy",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Birthday:"}),Object(c.jsxs)(d.a.Control,{name:"birthday_privacy",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]}),Object(c.jsxs)(O.a,{className:"mb-lg-2",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Pronouns:"}),Object(c.jsxs)(d.a.Control,{name:"pronoun_privacy",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]}),Object(c.jsxs)(O.a,{className:"mb-3",xs:12,lg:3,children:[Object(c.jsx)(d.a.Label,{children:"Meta:"}),Object(c.jsxs)(d.a.Control,{name:"metadata_privacy",as:"select",ref:s,children:[Object(c.jsx)("option",{children:"public"}),Object(c.jsx)("option",{children:"private"})]})]})]}),Object(c.jsx)(m.a,{variant:"light",onClick:function(){return de(!1)},children:"Cancel"})," ",Object(c.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"}),Object(c.jsx)("hr",{})]}):me?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("hr",{}),Object(c.jsx)("h5",{children:"Viewing privacy settings"}),Object(c.jsxs)(y.a,{children:[Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Visibility:"})," ",b.visibility]}),Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Name: "}),b.name_privacy]}),Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Description:"})," ",b.description_privacy]}),Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Birthday:"})," ",b.birthday_privacy]}),Object(c.jsxs)(O.a,{className:"mb-lg-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Pronouns:"})," ",b.pronoun_privacy]}),Object(c.jsxs)(O.a,{className:"mb-3",xs:12,lg:3,children:[Object(c.jsx)("b",{children:"Meta:"})," ",b.metadata_privacy]})]}),Object(c.jsx)(m.a,{variant:"light",onClick:function(){return xe(!1)},children:"Exit"}),"  ",Object(c.jsx)(m.a,{variant:"primary",onClick:function(){return de(!0)},children:"Edit"}),Object(c.jsx)("hr",{})]}):"",Object(c.jsx)("p",{children:Object(c.jsx)("b",{children:"Description:"})}),Object(c.jsx)("p",{dangerouslySetInnerHTML:{__html:ee}}),ue||me?"":Object(c.jsx)(m.a,{variant:"light",onClick:function(){return oe(!0)},children:"Edit"})]})," "]})})]})}var T=n(297);function D(){return Object(c.jsx)(b.a,{fluid:!0,className:"text-center",children:Object(c.jsx)(T.a,{animation:"border"})})}function I(e){var t=JSON.parse(localStorage.getItem("user")).id,n=Object(a.useState)(!1),s=Object(j.a)(n,2),r=s[0],i=s[1],l=Object(a.useState)(!1),o=Object(j.a)(l,2),b=o[0],m=o[1],x=Object(a.useState)([]),g=Object(j.a)(x,2),p=g[0],f=g[1],v=Object(a.useState)(""),S=Object(j.a)(v,2),N=S[0],A=S[1];Object(a.useEffect)((function(){i(!0),m(!1),fetch("".concat(k,"s/").concat(t,"/members"),{method:"get",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){f(e),i(!1)})).catch((function(e){console.log(e),m(!0),i(!1)}))}),[t]);var C=p.filter((function(e){return!N||!!e.name.toLowerCase().includes(N.toLowerCase())})).sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return Object(c.jsx)(u.a,{children:Object(c.jsx)(M,{member:e})},e.id)}));return Object(c.jsx)(c.Fragment,{children:r?Object(c.jsx)(D,{}):b?Object(c.jsx)(h.a,{variant:"danger",children:"Error fetching members."}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a,{className:"justify-content-md-center",children:Object(c.jsx)(O.a,{xs:12,lg:4,children:Object(c.jsx)(d.a,{inline:!0,children:Object(c.jsx)(d.a.Control,{className:"w-100",value:N,onChange:function(e){return A(e.target.value)},placeholder:"Search"})})})}),Object(c.jsx)(z.a,{className:"mb-3 mt-3 w-100",defaultActiveKey:"0",children:C})]})})}function q(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(w,{}),Object(c.jsx)(I,{})]})}var R=n(302),E=n(300),P=n(54),J=n(56),K=n.n(J);n(288);function F(){var e=Object(P.a)(!1);return Object(c.jsxs)(R.a,{className:"mb-3 align-items-center justify-content-between",children:[Object(c.jsx)(R.a.Brand,{children:"pk-web"}),Object(c.jsxs)(E.a,{className:"mr-lg-2 d-flex align-items-center row",children:[Object(c.jsx)(K.a,{defaultChecked:!0,icons:!1,onChange:e.toggle}),e.value?Object(c.jsx)(p.c,{className:"m-1"}):Object(c.jsx)(p.d,{className:"m-1"})]}),Object(c.jsx)(d.a,{inline:!0,children:localStorage.getItem("token")?Object(c.jsx)(m.a,{className:" mr-lg-2",variant:"primary",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),o.push("/pk-webs")},children:"Log Out"}):""})]})}function V(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),l=Object(j.a)(r,2),f=l[0],v=l[1],y=Object(a.useState)(!1),S=Object(j.a)(y,2),N=S[0],A=S[1],C=Object(x.b)(),L=C.register,w=C.handleSubmit;Object(a.useEffect)((function(){localStorage.getItem("token")&&z()}),[]);function z(){A(!1),s(!0),g("".concat(k,"s/"),{method:"GET",headers:{Authorization:JSON.stringify(localStorage.getItem("token")).slice(1,-1)}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("user",JSON.stringify(e)),v(!0),s(!1),o.push("/pk-webs/dash")})).catch((function(e){console.log(e),A(!0),localStorage.removeItem("token"),localStorage.removeItem("user"),s(!1)}))}return Object(c.jsxs)(i.c,{history:o,basename:"/pk-webs",children:[Object(c.jsx)(F,{}),Object(c.jsx)(b.a,{children:Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{path:"/pk-webs/dash",children:!localStorage.getItem("token")||N?Object(c.jsx)(i.a,{to:"/pk-webs"}):Object(c.jsx)(q,{})}),Object(c.jsx)(i.b,{exact:!0,path:"/pk-webs",children:n?Object(c.jsx)(D,{}):Object(c.jsxs)(u.a,{className:"mb-3 mt-3",children:[Object(c.jsx)(u.a.Header,{className:"d-flex align-items-center justify-content-between",children:Object(c.jsxs)(u.a.Title,{children:[Object(c.jsx)(p.b,{className:"mr-3"}),"Login"]})}),Object(c.jsx)(u.a.Body,{children:Object(c.jsxs)(d.a,{onSubmit:w((function(e){localStorage.setItem("token",e.pkToken),z()})),children:[f&&!localStorage.getItem("user")?Object(c.jsx)(h.a,{variant:"danger",children:"Something went wrong, please try again."}):"",N?Object(c.jsx)(h.a,{variant:"danger",children:"Invalid token."}):"",Object(c.jsx)(d.a.Row,{children:Object(c.jsx)(O.a,{xs:12,lg:10,children:Object(c.jsxs)(d.a.Label,{children:["Enter your token here. You can get your token by using ",Object(c.jsx)("b",{children:'"pk;token"'}),"."]})})}),Object(c.jsxs)(d.a.Row,{children:[Object(c.jsx)(O.a,{xs:12,lg:10,children:Object(c.jsx)(d.a.Control,{required:!0,name:"pkToken",type:"text",ref:L,placeholder:"token"})}),Object(c.jsx)(O.a,{children:Object(c.jsx)(m.a,{variant:"primary",type:"submit",block:!0,children:"Submit"})})]})]})})]})})]})})]})}r.a.render(Object(c.jsx)(i.c,{history:o,basename:"/pk-webs",children:Object(c.jsx)(V,{})}),document.getElementById("root"))},46:function(e,t,n){var c=n(72),a=n(73);function s(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"object"===typeof a&&(s=a,a=!0),n||(n={}),n.class&&s.cssModuleNames&&(n.class=n.class.split(" ").map((function(e){return s.cssModuleNames[e]||e})).join(" "));var r="";for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&(r+=" ".concat(c.sanitizeText(i),'="').concat(c.sanitizeText(n[i]),'"'));var l="<".concat(e).concat(r,">");return a?l+t+"</".concat(e,">"):l}c.htmlTag=s;var r={blockQuote:Object.assign({},c.defaultRules.blockQuote,{match:function(e,t,n){return!/^$|\n *$/.test(n)||t.inQuote?null:/^( *>>> ([\s\S]*))|^( *> [^\n]*(\n *> [^\n]*)*\n?)/.exec(e)},parse:function(e,t,n){var c=e[0],a=Boolean(/^ *>>> ?/.exec(c))?/^ *>>> ?/:/^ *> ?/gm;return{content:t(c.replace(a,""),Object.assign({},n,{inQuote:!0})),type:"blockQuote"}}}),codeBlock:Object.assign({},c.defaultRules.codeBlock,{match:c.inlineRegex(/^```(([a-z0-9-]+?)\n+)?\n*([^]+?)\n*```/i),parse:function(e,t,n){return{lang:(e[2]||"").trim(),content:e[3]||"",inQuote:n.inQuote||!1}},html:function(e,t,n){var r;return e.lang&&a.getLanguage(e.lang)&&(r=a.highlight(e.lang,e.content,!0)),r&&n.cssModuleNames&&(r.value=r.value.replace(/<span class="([a-z0-9-_ ]+)">/gi,(function(e,t){return e.replace(t,t.split(" ").map((function(e){return n.cssModuleNames[e]||e})).join(" "))}))),s("pre",s("code",r?r.value:c.sanitizeText(e.content),{class:"hljs".concat(r?" "+r.language:"")},n),null,n)}}),newline:c.defaultRules.newline,escape:c.defaultRules.escape,autolink:Object.assign({},c.defaultRules.autolink,{parse:function(e){return{content:[{type:"text",content:e[1]}],target:e[1]}},html:function(e,t,n){return s("a",t(e.content,n),{href:c.sanitizeUrl(e.target)},n)}}),url:Object.assign({},c.defaultRules.url,{parse:function(e){return{content:[{type:"text",content:e[1]}],target:e[1]}},html:function(e,t,n){return s("a",t(e.content,n),{href:c.sanitizeUrl(e.target)},n)}}),em:Object.assign({},c.defaultRules.em,{parse:function(e,t,n){var a=c.defaultRules.em.parse(e,t,Object.assign({},n,{inEmphasis:!0}));return n.inEmphasis?a.content:a}}),strong:c.defaultRules.strong,u:c.defaultRules.u,strike:Object.assign({},c.defaultRules.del,{match:c.inlineRegex(/^~~([\s\S]+?)~~(?!_)/)}),inlineCode:Object.assign({},c.defaultRules.inlineCode,{match:function(e){return c.defaultRules.inlineCode.match.regex.exec(e)},html:function(e,t,n){return s("code",c.sanitizeText(e.content.trim()),null,n)}}),text:Object.assign({},c.defaultRules.text,{match:function(e){return/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e)},html:function(e,t,n){return n.escapeHTML?c.sanitizeText(e.content):e.content}}),emoticon:{order:c.defaultRules.text.order,match:function(e){return/^(\xaf\\_\(\u30c4\)_\/\xaf)/.exec(e)},parse:function(e){return{type:"text",content:e[1]}},html:function(e,t,n){return t(e.content,n)}},br:Object.assign({},c.defaultRules.br,{match:c.anyScopeRegex(/^\n/)}),spoiler:{order:0,match:function(e){return/^\|\|([\s\S]+?)\|\|/.exec(e)},parse:function(e,t,n){return{content:t(e[1],n)}},html:function(e,t,n){return s("a",t(e.content,n),{class:"d-spoiler"},n)}},link:c.defaultRules.link},i={user:function(e){return"@"+c.sanitizeText(e.id)},channel:function(e){return"#"+c.sanitizeText(e.id)},role:function(e){return"&"+c.sanitizeText(e.id)},everyone:function(){return"@everyone"},here:function(){return"@here"}},l={discordUser:{order:c.defaultRules.strong.order,match:function(e){return/^<@!?([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,n){return s("span",n.discordCallback.user(e),{class:"d-mention d-user"},n)}},discordChannel:{order:c.defaultRules.strong.order,match:function(e){return/^<#?([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,n){return s("span",n.discordCallback.channel(e),{class:"d-mention d-channel"},n)}},discordRole:{order:c.defaultRules.strong.order,match:function(e){return/^<@&([0-9]*)>/.exec(e)},parse:function(e){return{id:e[1]}},html:function(e,t,n){return s("span",n.discordCallback.role(e),{class:"d-mention d-role"},n)}},discordEmoji:{order:c.defaultRules.strong.order,match:function(e){return/^<(a?):(\w+):(\d+)>/.exec(e)},parse:function(e){return{animated:"a"===e[1],name:e[2],id:e[3]}},html:function(e,t,n){return s("img","",{class:"d-emoji".concat(e.animated?" d-emoji-animated":""),src:"https://cdn.discordapp.com/emojis/".concat(e.id,".").concat(e.animated?"gif":"png"),alt:":".concat(e.name,":")},!1,n)}},discordEveryone:{order:c.defaultRules.strong.order,match:function(e){return/^@everyone/.exec(e)},parse:function(){return{}},html:function(e,t,n){return s("span",n.discordCallback.everyone(e),{class:"d-mention d-user"},n)}},discordHere:{order:c.defaultRules.strong.order,match:function(e){return/^@here/.exec(e)},parse:function(){return{}},html:function(e,t,n){return s("span",n.discordCallback.here(e),{class:"d-mention d-user"},n)}}};Object.assign(r,l);var o=Object.assign({},l,{text:Object.assign({},c.defaultRules.text,{match:function(e){return/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e)},html:function(e,t,n){return n.escapeHTML?c.sanitizeText(e.content):e.content}})}),j=Object.assign({},r,{link:c.defaultRules.link}),b=c.parserFor(r),u=c.htmlFor(c.ruleOutput(r,"html")),d=c.parserFor(o),h=c.htmlFor(c.ruleOutput(o,"html")),O=c.parserFor(j),m=c.htmlFor(c.ruleOutput(j,"html"));e.exports={parser:function(e){return b(e,{inline:!0})},htmlOutput:u,toHTML:function(e,t,n,c){if((n||c)&&(!n||!c))throw new Error("You must pass both a custom parser and custom htmlOutput function, not just one");t=Object.assign({embed:!1,escapeHTML:!0,discordOnly:!1,discordCallback:{}},t||{});var a=b,s=u;n?(a=n,s=c):t.discordOnly?(a=d,s=h):t.embed&&(a=O,s=m);var r={inline:!0,inQuote:!1,inEmphasis:!1,escapeHTML:t.escapeHTML,cssModuleNames:t.cssModuleNames||null,discordCallback:Object.assign({},i,t.discordCallback)};return s(a(e,r),r)},rules:r,rulesDiscordOnly:o,rulesEmbed:j,markdownEngine:c,htmlTag:s}},64:function(e,t,n){},66:function(e,t,n){}},[[291,1,2]]]);
//# sourceMappingURL=main.5fe8aefb.chunk.js.map